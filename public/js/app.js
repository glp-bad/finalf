(function(t){function e(e){for(var s,o,r=e[0],c=e[1],l=e[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);f&&f(e);while(h.length)h.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,r=1;r<i.length;r++){var c=i[r];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=o(o.s=i[0]))}return t}var s={},n={app:0},a=[];function o(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=s,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(i,s,function(e){return t[e]}.bind(null,s));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var f=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"30d0":function(t,e,i){},"4d20":function(t,e,i){t.exports=i.p+"img/apps_blue.svg"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("7a23");function n(t,e,i,n,a,o){var r=Object(s["z"])("my-login"),c=Object(s["z"])("menu-main"),l=Object(s["z"])("router-view");return Object(s["t"])(),Object(s["f"])(s["a"],null,[this.login?Object(s["e"])("",!0):(Object(s["t"])(),Object(s["d"])(r,{key:0,ref:"refLogin",onLoginWindows:o.emitLogin},null,8,["onLoginWindows"])),this.login?(Object(s["t"])(),Object(s["d"])(c,{ref:"refMenuLogout",onLogoutMenuMain:o.emitMenuLogout,key:this.engine.keyRender},null,8,["onLogoutMenuMain"])):Object(s["e"])("",!0),Object(s["i"])(l)],64)}var a={class:"ff-navbar"},o={idPk:1},r={class:"divShow"},c=Object(s["h"])("Avocatul"),l={idPk:2},f={class:"divShow"},u=Object(s["h"])("Parteneri"),h={idPk:3},d={class:"divShow"},g=Object(s["h"])("Facturez"),m={idPk:4},p={class:"divShow"},b=Object(s["h"])("Incasari"),O={idPk:5},T={class:"divShow"},E=Object(s["h"])("Cheltuieli"),_=Object(s["g"])("div",{class:"divShow"},[Object(s["g"])("a",{href:"javascript:void(null);"},"Logout")],-1),C=[_],v=Object(s["g"])("li",{idPk:21,class:"li-right"},[Object(s["g"])("div",{class:"divShow"},[Object(s["g"])("a",{href:"#about"},"About")])],-1);function R(t,e,i,n,_,R){var A=this,I=Object(s["z"])("router-link");return Object(s["t"])(),Object(s["f"])("div",a,[Object(s["g"])("ul",null,[Object(s["g"])("li",o,[Object(s["g"])("div",r,[Object(s["i"])(I,{to:"/viewAvocat",onClick:e[0]||(e[0]=function(t){return A.headerLink(t)})},{default:Object(s["H"])((function(){return[c]})),_:1})])]),Object(s["g"])("li",l,[Object(s["g"])("div",f,[Object(s["i"])(I,{to:"/viewParteneri",onClick:e[1]||(e[1]=function(t){return A.headerLink(t)})},{default:Object(s["H"])((function(){return[u]})),_:1})])]),Object(s["g"])("li",h,[Object(s["g"])("div",d,[Object(s["i"])(I,{to:"/viewInvoices",onClick:e[2]||(e[2]=function(t){return A.headerLink(t)})},{default:Object(s["H"])((function(){return[g]})),_:1})])]),Object(s["g"])("li",m,[Object(s["g"])("div",p,[Object(s["i"])(I,{to:"/viewIncasari",onClick:e[3]||(e[3]=function(t){return A.headerLink(t)})},{default:Object(s["H"])((function(){return[b]})),_:1})])]),Object(s["g"])("li",O,[Object(s["g"])("div",T,[Object(s["i"])(I,{to:"/viewCheltuieli",onClick:e[4]||(e[4]=function(t){return A.headerLink(t)})},{default:Object(s["H"])((function(){return[E]})),_:1})])]),Object(s["g"])("li",{idPk:20,class:"li-right",onClick:e[5]||(e[5]=function(){return R.mLogout&&R.mLogout.apply(R,arguments)})},C),v])])}var A={name:"menu-main",created:function(){this.URI_LOGOUT=this.$url.getUrl("logout"),this.EMIT="logoutMenuMain"},methods:{mLogout:function(){var t=this;this.axios.post(this.URI_LOGOUT).then((function(e){e.data.succes?t.logout=!0:t.logout=!1,t.$emit(t.EMIT)})).catch((function(e){t.logout=!0,t.$emit(t.EMIT)}))},isLogout:function(){return this.logout},headerLink:function(t){for(var e=t.target.closest("li"),i=e.getAttribute("idpk"),s=e.closest("ul"),n=0;n<s.children.length;n++){var a=s.children[n];a.getAttribute("idpk")==i?a.firstChild.classList.add("select-iem"):a.firstChild.classList.remove("select-iem")}}},data:function(){return{logout:!1}}},I=i("6b0d"),N=i.n(I);const j=N()(A,[["render",R]]);var D=j,L={class:"w-login-modal"},$={class:"w-login",ref:"windowRef"},S={class:"header",ref:"headerRef"},F={class:"content"},P={class:"ff-form-table"},M=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",{for:"email"},"E-Mail Address")],-1),w={class:"control"},y=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",{for:"password"},"Password")],-1),U={class:"control"},k=Object(s["g"])("br",null,null,-1),H=Object(s["h"])("Login"),B={key:0,class:"red-label"},V=Object(s["g"])("div",{class:"bottom-line"},null,-1);function x(t,e,i,n,a,o){var r=Object(s["z"])("my-button");return Object(s["t"])(),Object(s["f"])("div",L,[Object(s["g"])("div",$,[Object(s["g"])("div",S,[Object(s["g"])("span",null,"Login ("+Object(s["C"])(this.VERSION_APP)+")",1)],512),Object(s["g"])("div",F,[Object(s["g"])("form",{onSubmit:e[2]||(e[2]=Object(s["J"])((function(){return o.logOn&&o.logOn.apply(o,arguments)}),["prevent"]))},[Object(s["g"])("table",P,[Object(s["g"])("tr",null,[M,Object(s["g"])("td",w,[Object(s["I"])(Object(s["g"])("input",{id:"email",type:"email",size:"30",name:"email",required:"",autocomplete:"email",autofocus:"","onUpdate:modelValue":e[0]||(e[0]=function(t){return a.post.email=t})},null,512),[[s["F"],a.post.email]])])]),Object(s["g"])("tr",null,[y,Object(s["g"])("td",U,[Object(s["I"])(Object(s["g"])("input",{id:"password",type:"password",size:"30",name:"password",required:"",autocomplete:"current-password","onUpdate:modelValue":e[1]||(e[1]=function(t){return a.post.password=t})},null,512),[[s["F"],a.post.password]])])])]),k,Object(s["g"])("div",null,[Object(s["g"])("div",null,[Object(s["i"])(r,{type:o.submit},{default:Object(s["H"])((function(){return[H]})),_:1},8,["type"]),this.requestLoginFail?(Object(s["t"])(),Object(s["f"])("span",B,Object(s["C"])(this.messageFail),1)):Object(s["e"])("",!0)])])],32)]),V],512)])}var W=["title"],Y=Object(s["h"])("Button");function G(t,e,i,n,a,o){return Object(s["t"])(),Object(s["f"])("button",{class:Object(s["o"])(this.getClassButton()),title:this.title},[Object(s["y"])(t.$slots,"default",{},(function(){return[Y]}))],10,W)}i("a9e3");var z={name:"my-button",props:{widthButton:{type:Number,default:0},heightButton:{type:Number,default:25},buttonType:{type:Number,default:0},title:{type:String,default:"button"}},created:function(){this.CLASS_DISABLE="disable",this.CLASS_PERMANENT_OVER="ff-button-selected"},mounted:function(){this.widthButton>0&&(this.$el.style.width=this.widthButton+"px"),this.$el.style.height=this.heightButton+"px"},methods:{disable:function(t){t?(this.$el.setAttribute("disabled",!0),this.$el.classList.add(this.CLASS_DISABLE)):(this.$el.removeAttribute("disabled"),this.$el.classList.remove(this.CLASS_DISABLE))},permanentOver:function(t){t?this.$el.classList.add(this.CLASS_PERMANENT_OVER):this.$el.classList.remove(this.CLASS_PERMANENT_OVER)},getClassButton:function(){var t="ff-button";return 1==this.buttonType?t+="-icon":2==this.buttonType&&(t+="-icon-toolbar"),t}}};const X=N()(z,[["render",G]]);var K=X,q={name:"my-login",components:{"my-button":K},props:{},created:function(){this.EMIT="loginWindows",this.URI=this.$url.getUrl("login")},mounted:function(){this.post={email:"...email",password:null},this.$vanilla.dragDiv(this.$refs.windowRef,this.$refs.headerRef)},methods:{submit:function(){},logOn:function(){var t=this;this.axios.post(this.URI,this.post).then((function(e){e.data.succes?(t.login=!0,t.requestLoginFail=!1):t.privateSetLoginFail(e.data.messages[0]),t.$emit(t.EMIT)})).catch((function(e){t.privateSetLoginFail("Refresh page and try again."),t.$emit(t.EMIT)}))},isLogOn:function(){return this.login},privateSetLoginFail:function(t){this.login=!1,this.requestLoginFail=!0,this.messageFail=t}},data:function(){return{post:{},login:!1,requestLoginFail:!1,messageFail:"Login fail.",VERSION_APP:"1.6.402"}}};const Q=N()(q,[["render",x]]);var Z=Q,J={components:{"menu-main":D,"my-login":Z},created:function(){this.URI=this.$url.getUrl("loginCheck"),this.checkLog()},methods:{emitLogin:function(){this.engine.keyRender++,this.login=this.$refs.refLogin.isLogOn(),this.$router.push("/")},emitMenuLogout:function(){this.$refs.refMenuLogout.isLogout()&&(this.engine.keyRender++,this.login=!1)},checkLog:function(){var t=this;this.axios.post(this.URI,this.post).then((function(e){e.data.succes?t.login=!0:t.login=!1})).catch((function(e){t.login=!1}))}},data:function(){return{login:!1,engine:{keyRender:1}}}};i("6017");const tt=N()(J,[["render",n]]);var et=tt,it=i("6c02");function st(t,e,i,n,a,o){return Object(s["t"])(),Object(s["f"])("div")}var nt={name:"Home",components:{}};const at=N()(nt,[["render",st]]);var ot=at,rt=Object(s["h"])("Test de click pe butonul meu"),ct=Object(s["g"])("br",null,null,-1),lt=Object(s["g"])("br",null,null,-1),ft=Object(s["h"])("windows warnning"),ut=Object(s["h"])("  "),ht=Object(s["h"])("windows yesno"),dt=Object(s["h"])("  "),gt=Object(s["h"])("windows info"),mt=Object(s["h"])("  "),pt=Object(s["h"])("windows redAlert"),bt=Object(s["h"])("  "),Ot=Object(s["h"])("windows check"),Tt=Object(s["h"])("  "),Et=Object(s["h"])("windows red-skull"),_t=Object(s["h"])("  "),Ct=Object(s["h"])("Formular"),vt=Object(s["h"])("  "),Rt=Object(s["h"])("  "),At=Object(s["g"])("br",null,null,-1),It=Object(s["g"])("br",null,null,-1),Nt=Object(s["h"])("Text......."),jt=Object(s["h"])("  "),Dt=Object(s["g"])("br",null,null,-1),Lt=Object(s["g"])("br",null,null,-1),$t=Object(s["g"])("br",null,null,-1),St=Object(s["g"])("br",null,null,-1);function Ft(t,e,i,n,a,o){var r=Object(s["z"])("my-button"),c=Object(s["z"])("my-icon"),l=Object(s["z"])("font-awesome-icon"),f=Object(s["z"])("my-drop-down-search"),u=Object(s["z"])("my-textfield"),h=Object(s["z"])("my-alert-window"),d=Object(s["z"])("my-test-form");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(r,{onClick:o.myMethodTest,widthButton:300},{default:Object(s["H"])((function(){return[rt]})),_:1},8,["onClick"]),ct,lt,Object(s["i"])(r,{onClick:o.onClickWarnning},{default:Object(s["H"])((function(){return[ft]})),_:1},8,["onClick"]),ut,Object(s["i"])(r,{onClick:o.onClickYesNo},{default:Object(s["H"])((function(){return[ht]})),_:1},8,["onClick"]),dt,Object(s["i"])(r,{onClick:o.onClickInfo},{default:Object(s["H"])((function(){return[gt]})),_:1},8,["onClick"]),mt,Object(s["i"])(r,{onClick:o.onClickRedAlert},{default:Object(s["H"])((function(){return[pt]})),_:1},8,["onClick"]),bt,Object(s["i"])(r,{onClick:o.onClickCheck},{default:Object(s["H"])((function(){return[Ot]})),_:1},8,["onClick"]),Tt,Object(s["i"])(r,{onClick:o.onClickRedSkull},{default:Object(s["H"])((function(){return[Et]})),_:1},8,["onClick"]),_t,Object(s["i"])(r,{onClick:o.onClickFormular},{default:Object(s["H"])((function(){return[Ct]})),_:1},8,["onClick"]),vt,Object(s["i"])(c,{svgIconName:"angellist-brands"}),Rt,Object(s["i"])(c,{svgIconName:"apps_blue"}),At,It,Object(s["i"])(r,null,{default:Object(s["H"])((function(){return[Nt,Object(s["i"])(l,{icon:["fas","search"],size:"1x"})]})),_:1}),jt,Dt,Lt,Object(s["i"])(f,{pDataMethod:"local",pUrlData:"searchTableTest"}),$t,St,Object(s["i"])(u),Object(s["i"])(h,{ref:"refWarnning",cWidth:400,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(h,{ref:"refYesNo",cWidth:400,cHeight:200,cTypeWindows:3},null,512),Object(s["i"])(h,{ref:"refInfo",cWidth:300,cHeight:200,cTypeWindows:2},null,512),Object(s["i"])(h,{ref:"refRedAlert",cWidth:350,cHeight:200,cTypeWindows:4},null,512),Object(s["i"])(h,{ref:"refCheck",cWidth:350,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(h,{ref:"refRedSkull",cWidth:200,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(d,{ref:"refTestForm"},null,512)],64)}var Pt=["src"];function Mt(t,e,i,n,a,o){return Object(s["t"])(),Object(s["f"])("img",{ref:"refImg",src:this.engine.svgSource},null,8,Pt)}var wt={name:"my-icon",components:{},props:{size:{type:Number,default:15},svgIconName:{type:String,required:!0}},created:function(){this.engine.svgSource=i("6f32")("./".concat(this.svgIconName,".svg"))},mounted:function(){this.$refs.refImg.style.width=this.size+"px"},methods:{},data:function(){return{engine:{svgSource:null}}}};const yt=N()(wt,[["render",Mt]]);var Ut=yt,kt={ref:"captionRef"},Ht={ref:"messageRef"};function Bt(t,e,i,n,a,o){var r=Object(s["z"])("font-awesome-icon"),c=Object(s["z"])("button-ok"),l=Object(s["z"])("button-yes"),f=Object(s["z"])("button-no");return Object(s["t"])(),Object(s["f"])("div",{class:Object(s["o"])(a.windowClass.modal),ref:"windowModalRef"},[Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.window),ref:"windowRef"},[Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.header),ref:"headerRef"},[Object(s["g"])("span",kt,null,512)],2),Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.message)},[Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.messageIcon),ref:"iconMessageRef"},[Object(s["i"])(r,{icon:o.getIconAlertConfig().icon,size:"3x",style:Object(s["p"])(o.getIconAlertConfig().iconStyleColor)},null,8,["icon","style"])],2),Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.messageText)},[Object(s["g"])("p",Ht,null,512)],2)],2),Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.button)},[Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.buttonAlign)},[this.cTypeWindows==t.ALERT||this.cTypeWindows==t.INFORMATION||this.cTypeWindows==t.CHECK||this.cTypeWindows==t.REDALERT||this.cTypeWindows==t.SKULL?(Object(s["t"])(),Object(s["d"])(c,{key:0,ref:"buttonOkRef",onClick:o.clickOk},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(o.getIconAlertConfig().captionButton01),1)]})),_:1},8,["onClick"])):Object(s["e"])("",!0),this.cTypeWindows==t.YESNO?(Object(s["t"])(),Object(s["d"])(l,{key:1,ref:"buttonYesRef",onClick:o.clickYes},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(o.getIconAlertConfig().captionButton01),1)]})),_:1},8,["onClick"])):Object(s["e"])("",!0),Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.buttonSpace)},null,2),this.cTypeWindows==t.YESNO?(Object(s["t"])(),Object(s["d"])(f,{key:2,ref:"buttonNoRef",onClick:o.clickNo},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(o.getIconAlertConfig().captionButton02),1)]})),_:1},8,["onClick"])):Object(s["e"])("",!0)],2)],2),Object(s["g"])("div",{class:Object(s["o"])(a.windowClass.bottomLine),ref:"colorBottomLineRef"},null,2)],2)],2)}var Vt={name:"alertWindow-component",components:{"button-ok":K,"button-yes":K,"button-no":K,"my-icon":Ut},props:{cWidth:Number,cHeight:Number,cTypeWindows:Number},created:function(){this.ALERT=1,this.INFORMATION=2,this.YESNO=3,this.REDALERT=4,this.CHECK=5,this.SKULL=6,this.ALERT_COLOR="#DED208",this.INFORMATION_COLOR="#15BEF8",this.YESNO_COLOR="#22C206",this.REDALERT_COLOR="red",this.CHECK_COLOR="#15BEF8",this.SKULL_COLOR="red"},mounted:function(){this.$refs.windowRef.style.width=this.cWidth+"px",this.$refs.colorBottomLineRef.style.background=this.getIconAlertConfig().iconColor,this.$vanilla.dragDiv(this.$refs.windowRef,this.$refs.headerRef)},data:function(){return{windowClass:{modal:"alertWindow",window:"window",header:"header",message:"message",messageIcon:"messageIcon",messageText:"messageText",button:"button",buttonAlign:"button-align",buttonSpace:"button-space",bottomLine:"bottom-line"},pressOk:0,pressYes:0,pressNo:0,myEmit:{ok:"emitOkButton",yesNo:"emitYesNoButton"}}},methods:{setCaption:function(t){this.$refs.captionRef.innerHTML=t},setMessage:function(t){this.$refs.messageRef.innerHTML=t},clickOk:function(){this.pressOk=1,this.$emit(this.myEmit.ok),this.close()},clickYes:function(){this.pressYes=1,this.pressNo=0,this.$emit(this.myEmit.yesNo,this.pressYes),this.close()},clickNo:function(){this.pressYes=0,this.pressNo=1,this.$emit(this.myEmit.yesNo,this.pressYes),this.close()},close:function(){this.$refs.windowModalRef.style.display="none"},show:function(){this.ok=0,this.$refs.windowModalRef.style.display="table",this.$check.isUndef(this.$refs.buttonOkRef)||this.$refs.buttonOkRef.$el.focus(),this.$check.isUndef(this.$refs.buttonNoRef)||this.$refs.buttonNoRef.$el.focus()},getIconAlertConfig:function(){var t=null,e="Ok",i="No",s=null;return this.cTypeWindows==this.ALERT?(t=["fas","exclamation-triangle"],s=this.ALERT_COLOR):this.cTypeWindows==this.INFORMATION?(t=["fas","exclamation"],s=this.INFORMATION_COLOR):this.cTypeWindows==this.YESNO?(t=["fas","question"],s=this.YESNO_COLOR,e="Yes",i="No"):this.cTypeWindows==this.REDALERT?(t=["fas","exclamation-circle"],s=this.REDALERT_COLOR):this.cTypeWindows==this.CHECK?(t=["fas","check"],s=this.CHECK_COLOR):this.cTypeWindows==this.SKULL&&(t=["fas","skull-crossbones"],s=this.SKULL_COLOR),{iconColor:s,iconStyleColor:{color:s},icon:t,captionButton01:e,captionButton02:i}}}};const xt=N()(Vt,[["render",Bt]]);var Wt=xt,Yt=["id"],Gt={class:"caption",ref:"captionRef"},zt={class:"ff-form-table"},Xt={class:"label bold"},Kt=["for"],qt={class:"control"},Qt={class:"label bold"},Zt=["for"],Jt={class:"control"},te={class:"label bold"},ee=["for"],ie={class:"control"},se={class:"label-right bold"},ne=["for"],ae={class:"control"},oe={class:"label bold"},re=["for"],ce={colspan:"2",class:"control"},le=Object(s["h"])("Send data");function fe(t,e,i,n,a,o){var r=Object(s["z"])("validate-window"),c=Object(s["z"])("font-awesome-icon"),l=Object(s["z"])("test-field"),f=Object(s["z"])("check-box"),u=Object(s["z"])("lista-numere"),h=Object(s["z"])("button-send");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(r,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(r,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(r,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.container),ref:t.CONTAINER_REF,id:a.cfgForm.id},[Object(s["g"])("div",{class:Object(s["o"])(a.formClass.header),ref:"headerRef"},[Object(s["g"])("span",Gt,null,512),Object(s["g"])("div",{class:"closeButton",onClick:e[0]||(e[0]=function(){return o.closeForm&&o.closeForm.apply(o,arguments)})},[Object(s["i"])(c,{icon:a.cfgForm.closeIcon},null,8,["icon"])])],2),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.content),ref:"contentRef"},[Object(s["g"])("form",null,[Object(s["g"])("table",zt,[Object(s["g"])("tr",null,[Object(s["g"])("td",Xt,[Object(s["g"])("label",{for:t.NUME.id},Object(s["C"])(t.NUME.caption),9,Kt)]),Object(s["g"])("td",qt,[Object(s["i"])(l,{id:t.NUME.id,ref:t.NUME.ref,maska:"",validate:t.NUME.validate,minlength:t.NUME.minLength,maxlength:t.NUME.maxLength,size:t.NUME.sizeField},null,8,["id","validate","minlength","maxlength","size"])]),Object(s["g"])("td",Qt,[Object(s["g"])("label",{for:t.PRENUME.id},Object(s["C"])(t.PRENUME.caption),9,Zt)]),Object(s["g"])("td",Jt,[Object(s["i"])(l,{id:t.PRENUME.id,ref:t.PRENUME.ref,maska:"",validate:t.PRENUME.validate,minlength:t.PRENUME.minLength,maxlength:t.PRENUME.maxLength,size:t.PRENUME.sizeField},null,8,["id","validate","minlength","maxlength","size"])])]),Object(s["g"])("tr",null,[Object(s["g"])("td",te,[Object(s["g"])("label",{for:t.AGE.id},Object(s["C"])(t.AGE.caption),9,ee)]),Object(s["g"])("td",ie,[Object(s["i"])(l,{id:t.AGE.id,ref:t.AGE.ref,maska:"",validate:t.AGE.validate,minlength:t.AGE.minLength,maxlength:t.AGE.maxLength,size:t.AGE.sizeField},null,8,["id","validate","minlength","maxlength","size"])]),Object(s["g"])("td",se,[Object(s["g"])("label",{for:t.CONF_ACORD.id},Object(s["C"])(t.CONF_ACORD.caption),9,ne)]),Object(s["g"])("td",ae,[Object(s["i"])(f,{id:t.CONF_ACORD.id,ref:t.CONF_ACORD.ref,validate:t.CONF_ACORD.validate,defaultValue:t.CONF_ACORD.defaultValue,size:t.CONF_ACORD.sizeField,disabled:t.CONF_ACORD.disabled},null,8,["id","validate","defaultValue","size","disabled"])])]),Object(s["g"])("tr",null,[Object(s["g"])("td",oe,[Object(s["g"])("label",{for:t.SELECT_OPTION.id},Object(s["C"])(t.SELECT_OPTION.caption),9,re)]),Object(s["g"])("td",ce,[Object(s["i"])(u,{pId:t.SELECT_OPTION.id,ref:t.SELECT_OPTION.ref,pName:t.SELECT_OPTION.ref,pCaptionText:"... alege un numar",pWidth:t.SELECT_OPTION.width,validate:t.SELECT_OPTION.validate},null,8,["pId","pName","pCaptionText","pWidth","validate"])])])])])],2),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.button)},[Object(s["g"])("div",{class:Object(s["o"])(a.formClass.buttonPozition)},[Object(s["i"])(h,{onClick:o.sendData},{default:Object(s["H"])((function(){return[le]})),_:1},8,["onClick"])],2)],2),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.bottomLine)},null,2)],10,Yt)],64)}var ue={class:"ff-input-text"},he=["id","name","minlength","maxlength","size","placeholder"];function de(t,e,i,n,a,o){return Object(s["t"])(),Object(s["f"])("div",ue,[Object(s["I"])(Object(s["g"])("input",{id:this.id,name:this.id,minlength:this.minlength,maxlength:this.maxlength,"onUpdate:modelValue":e[0]||(e[0]=function(t){return a.dataModel=t}),ref:"inputRef",size:this.size,placeholder:this.pPlaceHolder},null,8,he),[[s["F"],a.dataModel]])])}var ge=i("795b"),me={name:"my-textField",props:{id:String,maska:String,validate:Function,minlength:Number,maxlength:Number,size:Number,pPlaceHolder:{type:String,default:"input data ...",required:!1}},directives:{maska:ge["a"]},mounted:function(){this.vModelData=null},methods:{getValue:function(){return this.dataModel},keydownPress:function(){event.target.id==this.id&&console.log(this.getValue())}},data:function(){return{dataModel:null}}};const pe=N()(me,[["render",de]]);var be=pe,Oe=["checked","id","name"];function Te(t,e,i,n,a,o){var r=this;return Object(s["I"])((Object(s["t"])(),Object(s["f"])("input",{type:"checkbox",class:"ff-checkbox",checked:this.dataModel,id:this.pConfig.id,name:this.pConfig.id,"onUpdate:modelValue":e[0]||(e[0]=function(t){return a.dataModel=t}),onClick:e[1]||(e[1]=function(t){return r.privateEmitButtonClick(t,r.pConfig.emit)})},null,8,Oe)),[[s["E"],a.dataModel]])}var Ee={name:"my-checkBox",props:{pConfig:{type:Object,required:!0},pCheck:{type:Boolean,required:!1}},directives:{},mounted:function(){this.dataModel=this.pConfig.defaultValue,void 0!=this.pCheck&&this.pCheck&&this.setValue(!0)},methods:{getValue:function(){return this.dataModel},setValue:function(t){this.dataModel=t},resetValue:function(){this.dataModel=this.pConfig.defaultValue},keydownPress:function(){},privateEmitButtonClick:function(t,e){this.$emit(e,t.target)}},data:function(){return{dataModel:!0}}};const _e=N()(Ee,[["render",Te]]);var Ce=_e,ve=(i("b0c0"),{class:"ff-dropdown-simple"}),Re={key:0,class:"loading-modal"},Ae=["name","id","disabled"],Ie=["value","selected"];function Ne(t,e,i,n,a,o){var r=Object(s["z"])("font-awesome-icon");return Object(s["t"])(),Object(s["f"])("div",ve,[this.showModalLoadingDiv?(Object(s["t"])(),Object(s["f"])("div",Re,[Object(s["g"])("div",null,[Object(s["i"])(r,{icon:this.$constComponent.ICON_SPINNER,size:"1x",spin:""},null,8,["icon"])])])):Object(s["e"])("",!0),Object(s["g"])("select",{name:i.pConfig.name,id:i.pConfig.id,ref:t.SELECT_REF,onChange:e[0]||(e[0]=function(){return o.changeValue&&o.changeValue.apply(o,arguments)}),disabled:this.isDisabled,class:Object(s["o"])({"disable-background":this.readOnly})},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(a.dataList,(function(t){return Object(s["t"])(),Object(s["f"])("option",{value:t.id,selected:t.selected},Object(s["C"])(t.text),9,Ie)})),256))],42,Ae)])}i("d3b7"),i("99af");var je={name:"my-dropDown-simple",props:{pConfig:{type:Object,required:!0}},created:function(){this.SELECT_REF="selectRef",this.EMIT_CHANGE="emitChange"},mounted:function(){this.config()},methods:{getDataFromServer:function(){var t=this,e=this.pConfig.url;this.isShowSelectedData=!1,this.showModalLoadingDiv=!0,this.axios.post(e,this.post).then((function(e){t.showModalLoadingDiv=!0;var i=[t.$constSelect.getRecordSelect(0,t.pConfig.placeHolder)];t.dataList=i.concat(e.data.records)})).catch((function(t){return console.log(t)})).finally((function(){t.showModalLoadingDiv=!1,t.isShowSelectedData||t.setDefaultValue()}))},changeValue:function(){var t=this.$refs[this.SELECT_REF];this.setValue(t.options[t.selectedIndex].value),this.$emit(this.EMIT_CHANGE,this.getValue())},clearSelected:function(){if(this.dataSelected.id=-1,this.dataSelected.text=null,this.dataSelected.candidateKey=null,!this.$check.isUndef(this.dataList))for(var t=0;t<this.dataList.length;t++)this.dataList[t].selected=!1},setValue:function(t){if(!this.$check.isUndef(this.dataList)){this.dataSelected.id=t;for(var e=0;e<this.dataList.length;e++)this.dataList[e].id==t?(this.dataSelected.text=this.dataList[e].text,this.dataSelected.candidateKey=this.dataList[e].cTipAbrev,this.dataList[e].selected=!0,this.isShowSelectedData=!0):this.dataList[e].selected=!1}},getValue:function(){return this.dataSelected},setReadOnly:function(t){this.isDisabled=!!t,this.readOnly=t},enabled:function(t){this.isDisabled=!t},setDefaultValue:function(){if(!this.$check.isUndef(this.pConfig.defaultValue)&&!this.$check.isUndef(this.dataList)){for(var t=0,e=0;e<this.dataList.length;e++)if(this.dataList[e].id==this.pConfig.defaultValue.id){this.dataList[e].selected=!0,t=this.pConfig.defaultValue.id;break}this.setValue(t)}},config:function(){this.pConfig.sizeField>0&&(this.$refs[this.SELECT_REF].style.width=this.pConfig.sizeField+"px"),this.enabled(!0),this.getDataFromServer()}},computed:{},data:function(){return{showModalLoadingDiv:!0,dataList:null,dataSelected:{id:0,text:null,candidateKey:null},isShowSelectedData:!1,isDisabled:!0,post:null,readOnly:!1}}};const De=N()(je,[["render",Ne]]);var Le=De,$e={components:{"test-field":be,"check-box":Ce,"button-send":K,"validate-window":Wt,"lista-numere":Le},name:"test-form-component",created:function(){this.CONTAINER_REF="containerRef",this.NUME=this.cfgNume(),this.PRENUME=this.cfgPreNume(),this.AGE=this.cfgVarsta(),this.CONF_ACORD=this.cfgConfirmareAcord(),this.SELECT_OPTION=this.cfgSimpleSelect()},mounted:function(){this.configForm()},methods:{closeForm:function(){this.$refs[this.CONTAINER_REF].style.display="none"},showForm:function(){this.$refs[this.CONTAINER_REF].style.display="table"},cfgConfirmareAcord:function(){var t=this.$app.cfgCheckBox();return t.setIdAndRef("confirmare"),t.validate=this.validateConfirmare,t.caption="Confirm",t.defaultValue=!1,t.disabled=!1,t},cfgVarsta:function(){var t=this.$app.cfgTextFIeld();return t.setIdAndRef("age"),t.minLength=3,t.maxLength=3,t.validate=this.validateAge,t.maska="",t.caption="Varsta",t.mandatory=!1,t.sizeField=7,t},cfgSimpleSelect:function(){var t=this.$app.cfgSelectSimple();return t.setIdAndRef("listaNumar"),t.validate=this.validateListaNumar,t.caption="Lista numere",t},cfgNume:function(){var t=this.$app.cfgTextFIeld();return t.setIdAndRef("nume"),t.minLength=3,t.maxLength=10,t.validate=this.validateNume,t.maska="",t.caption="Nume",t.mandatory=!1,t.sizeField=10,t},cfgPreNume:function(){var t=this.$app.cfgTextFIeld();return t.setIdAndRef("prenume"),t.minLength=4,t.maxLength=20,t.validate=this.validatePreNume,t.maska="",t.caption="Prenume referinta mai mare",t.mandatory=!1,t.sizeField=30,t},configForm:function(){this.cfgForm.id="777TEST",this.cfgForm.closeIcon=["fas","times"],this.$refs.captionRef.innerHTML="Introducere date de test",this.$vanilla.dragDiv(this.$refs.containerRef,this.$refs.headerRef)},sendData:function(){var t=this;if(this.validateForm(),this.messageForm.length>0)return this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.messageForm)),this.$refs.validateWindowRef.show(),!1;this.post.nume=this.$refs.numeRef.getValue(),this.post.prenume=this.$refs.prenumeRef.getValue(),this.post.accept=this.$refs.confirmareRef.getValue(),console.log("accept: "+this.post.accept);var e=this.$url.getUrl("addName");this.axios.post(e,this.post).then((function(e){e.data.succes?(t.$refs.infoWindowRef.setCaption("Succes"),t.$refs.infoWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.infoWindowRef.show()):(t.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(e){t.$refs.redWindowRef.setCaption("Probleme ... "),t.$refs.redWindowRef.setMessage(e),t.$refs.redWindowRef.show()}))},validateAge:function(){this.$refs[this.AGE.ref].getValue()<5&&this.messageForm.push(this.$app.getFormMessageClass(this.AGE.id,this.AGE.caption,"trebuie sa fie mai mare de cinci ani."))},validateForm:function(){this.messageForm=[],this.$check.validateForm(this.$refs)},validateNume:function(){this.$check.lenghtMinMax(this.$refs[this.NUME.ref].getValue(),this.NUME.minLength,this.NUME.maxLength)||this.messageForm.push(this.$app.getFormMessageClass(this.NUME.id,this.NUME.caption,"trebuie sa aiba minim "+this.NUME.minLength+" si maxim "+this.NUME.maxLength+" caractere"))},validatePreNume:function(){this.$check.lenghtMinMax(this.$refs[this.PRENUME.ref].getValue(),this.PRENUME.minLength,this.PRENUME.maxLength)||this.messageForm.push(this.$app.getFormMessageClass(this.PRENUME.id,this.PRENUME.caption,"trebuie sa aiba minim "+this.PRENUME.minLength+" si maxim "+this.PRENUME.maxLength+" caractere"))},validateConfirmare:function(){},validateListaNumar:function(){console.log("trece pe aici !!! 1000");var t=this.$refs[this.SELECT_OPTION.ref].getValue();0==t.id&&this.messageForm.push(this.$app.getFormMessageClass(this.SELECT_OPTION.id,this.SELECT_OPTION.caption,"trebuie sa alegi un numar din lista"))}},data:function(){return{formClass:this.$css.getCss("form"),messageForm:[],post:{nume:null,prenume:null,accept:!1},cfgForm:{id:null,closeIcon:["fas","times"]}}}};const Se=N()($e,[["render",fe]]);var Fe=Se,Pe={key:0,class:"loading-modal"},Me=["placeholder"];function we(t,e,i,n,a,o){var r=Object(s["z"])("font-awesome-icon"),c=Object(s["z"])("list-rezult");return Object(s["t"])(),Object(s["f"])("div",{class:"ff-dropdown-search",ref:t.REF_DIV_CONTAINER},[this.showModalLoadingDiv?(Object(s["t"])(),Object(s["f"])("div",Pe,[Object(s["g"])("div",null,[Object(s["i"])(r,{icon:this.$constComponent.ICON_SPINNER,size:"1x",spin:""},null,8,["icon"])])])):Object(s["e"])("",!0),Object(s["g"])("input",{ref:t.REF_SEARCH,type:"text",onKeyup:e[0]||(e[0]=function(){return o.keySearch&&o.keySearch.apply(o,arguments)}),placeholder:this.pConfig.placeHolder,class:Object(s["o"])({"disable-background":this.readOnly})},null,42,Me),Object(s["g"])("div",{class:"icon",ref:t.REF_ICON,onClick:e[1]||(e[1]=function(){return o.iconClick&&o.iconClick.apply(o,arguments)})},[Object(s["i"])(r,{icon:["fas","search"],size:"1x"})],512),Object(s["g"])("div",{class:"rezult",ref:t.REF_REZULT},[(Object(s["t"])(),Object(s["d"])(c,{ref:"selectDataFromListRef",pData:this.rezultData,onSelectData:o.emitSelectData,onTabKey:o.emitPressTabKey,key:this.engine.keyRender,pWidth:this.pConfig.sizeField},null,8,["pData","onSelectData","onTabKey","pWidth"]))],512)],512)}i("caad"),i("2532"),i("4de4"),i("ac1f"),i("841c");var ye=["id"],Ue=["tabindex"],ke=Object(s["g"])("div",null,[Object(s["g"])("span",null,"info nr records")],-1),He=[ke];function Be(t,e,i,n,a,o){return Object(s["t"])(),Object(s["f"])("div",{class:"ff-table-list",ref:t.REF_TABLE_CONTAINER},[Object(s["g"])("div",{class:"tableDiv",ref:t.REF_TABLEDIV},[Object(s["g"])("table",{ref:t.REF_TABLE},[Object(s["g"])("thead",{ref:t.REF_HEAD},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(i.pHeader,(function(t){return Object(s["t"])(),Object(s["f"])("tr",null,[Object(s["g"])("th",null,Object(s["C"])(t.caption),1)])})),256))],512),Object(s["g"])("tbody",{ref:t.REF_BODY},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(i.pData,(function(t){return Object(s["t"])(),Object(s["f"])("tr",{id:t.id,onKeydown:e[0]||(e[0]=Object(s["J"])((function(t){return o.keyNavigate(t)}),["prevent"])),onClick:e[1]||(e[1]=Object(s["J"])((function(t){return o.mouseNavigate(t)}),["prevent"]))},[Object(s["g"])("td",{tabindex:t.id},Object(s["C"])(t.caption),9,Ue)],40,ye)})),256))],512)],512)],512),Object(s["g"])("div",{class:"infoList",ref:t.REF_BOTTOM_INFO},He,512)],512)}var Ve={name:"table-list",created:function(){this.REF_TABLE_CONTAINER="tTableRefContainer",this.REF_TABLE="tTableRef",this.REF_TABLEDIV="tTableDivRef",this.REF_HEAD="tHeadRef",this.REF_BODY="tBodyRef",this.REF_BOTTOM_INFO="tBottomInfo",this.CLASS_SELECTED="selected",this.MAX_REZULT_COUNT=10,this.MAX_REZULT_DIV_HEIGHT="212px"},props:{pHeader:{type:Array,required:!1},pData:{type:Array,required:!0},pWidth:{type:Number,required:!1}},mounted:function(){this.$refs[this.REF_TABLE_CONTAINER].style.width=this.pWidth+"px",this.initTable()},methods:{initTable:function(){this.engine.maximRows=this.pData.length,this.engine.maximRows>0&&this.setTDselected(this.$refs[this.REF_TABLE].rows[0].childNodes[0]);var t="none",e=null,i="100%";this.engine.maximRows>this.MAX_REZULT_COUNT&&(e="scroll",t="block",i=this.MAX_REZULT_DIV_HEIGHT,this.$refs[this.REF_BOTTOM_INFO].childNodes[0].textContent=" ...found "+this.engine.maximRows+" records in the list"),this.$refs[this.REF_TABLEDIV].style.height=i,this.$refs[this.REF_TABLEDIV].style["overflow-y"]=e,this.$refs[this.REF_BOTTOM_INFO].style.display=t},mouseNavigate:function(t){this.setTDselected(t.target),this.selectData(),this.$emit(this.engine.emit.selectData)},keyNavigate:function(t){"ArrowRight"==t.key||"ArrowLeft"==t.key||("ArrowDown"==t.key?this.arrowDown():"ArrowUp"==t.key?this.arrowUp():"Enter"==t.key?(this.selectData(),this.$emit(this.engine.emit.selectData)):"Tab"==t.key&&this.$emit(this.engine.emit.tabKey))},arrowRight:function(){},arrowLeft:function(){},arrowUp:function(){this.engine.trCurent.sectionRowIndex>0&&(this.setTDselected(this.engine.tdCurent.parentNode.previousSibling.getElementsByTagName("td")[0]),this.selectData())},arrowDown:function(){this.engine.trCurent.sectionRowIndex<this.engine.maximRows-1&&(this.setTDselected(this.engine.tdCurent.parentNode.nextSibling.getElementsByTagName("td")[0]),this.selectData())},setFocus:function(){this.engine.tdCurent.focus()},selectData:function(){this.dataSelected.id=this.engine.trCurent.getAttribute("id"),this.dataSelected.caption=this.engine.tdCurent.innerHTML},setTDselected:function(t){null!=this.engine.tdCurent&&this.engine.tdCurent.removeAttribute("class",this.CLASS_SELECTED),this.engine.tdCurent=t,this.engine.trCurent=t.parentNode,this.engine.tdCurent.setAttribute("class",this.CLASS_SELECTED),this.setFocus()},getDataSelected:function(){return this.dataSelected},getCountRecords:function(){return this.engine.maximRows}},data:function(){return{engine:{tdCurent:null,trCurent:null,maximRows:0,emit:{selectData:"selectData",tabKey:"tabKey"}},dataSelected:{id:0,caption:null}}}};const xe=N()(Ve,[["render",Be]]);var We=xe,Ye={name:"drop-down-search",created:function(){this.REF_DIV_CONTAINER="divContainer",this.REF_SEARCH="searchRef",this.REF_ICON="iconRef",this.REF_REZULT="rezultRef",this.REF_TABLE_REZULT="tableRef",this.DATA_METHOD_LOCAL="local",this.DATA_METHOD_SERVER="server",this.LAST_LETTERS_NUMBER_FOR_SEARCH=3,this.DELAY_FOR_SEARCCING=600,this.MAX_REZULT_COUNT=10,this.MAX_REZULT_DIV_HEIGHT="300px",this.KEY_PRESS_CONTROL_BROWSER=["Tab","Escape"]},props:{pConfig:{type:Object,required:!0}},components:{"list-rezult":We},mounted:function(){this.pConfig.dataMethod==this.DATA_METHOD_LOCAL&&this.getDataFromServer(),this.$refs[this.REF_DIV_CONTAINER].style.width=this.pConfig.sizeField+"px"},methods:{emitSelectData:function(){this.setDataSelected(this.$refs.selectDataFromListRef.getDataSelected()),this.hideOption()},emitPressTabKey:function(){this.$refs[this.REF_SEARCH].focus()},setReadOnly:function(t){t?this.$refs[this.REF_SEARCH].setAttribute("readonly",t):this.$refs[this.REF_SEARCH].removeAttribute("readonly"),this.readOnly=t},setDataSelected:function(t){this.dataSelected=t,this.$refs[this.REF_SEARCH].value=this.dataSelected.caption},getValue:function(){return this.dataSelected},resetDataSelected:function(){this.dataSelected=null},clearWordSearch:function(){this.$refs[this.REF_SEARCH].value=""},iconClick:function(){this.$refs[this.REF_SEARCH].focus()},keySearch:function(t){this.readOnly||this.KEY_PRESS_CONTROL_BROWSER.includes(t.key)||(this.post.wordSearch=this.$refs[this.REF_SEARCH].value,this.resetDataSelected(),this.delaySearchCancel(),this.post.wordSearch.length>=this.LAST_LETTERS_NUMBER_FOR_SEARCH?this.delaySearch():this.hideOption())},hideOption:function(){this.resetRezultData(),this.showOptionList()},resetRezultData:function(){this.rezultData=new Array},showOptionList:function(){++this.engine.keyRender;var t="none";this.rezultData.length>0&&(t="block"),this.$refs[this.REF_REZULT].style.display=t},search:function(){var t=this;this.pConfig.dataMethod==this.DATA_METHOD_LOCAL&&(this.rezultData=this.localData.filter((function(e){return-1!==e.caption.toLowerCase().indexOf(t.post.wordSearch.toLowerCase())})),this.showOptionList()),this.pConfig.dataMethod==this.DATA_METHOD_SERVER&&this.getDataFromServer()},delaySearch:function(){var t=this;this.timeOut=setTimeout((function(){return t.search()}),this.DELAY_FOR_SEARCCING)},delaySearchCancel:function(){null!=this.timeOut&&clearTimeout(this.timeOut)},getDataFromServer:function(){var t=this;this.showModalLoadingDiv=!0,this.$vanilla.inputReadOnly(this.$refs[this.REF_SEARCH],!0),this.axios.post(this.pConfig.url,this.post).then((function(e){t.pConfig.dataMethod==t.DATA_METHOD_LOCAL&&(t.localData=e.data),t.pConfig.dataMethod==t.DATA_METHOD_SERVER&&(t.rezultData=e.data.records,t.showOptionList())})).catch((function(t){return console.log(t)})).finally((function(){t.$vanilla.inputReadOnly(t.$refs[t.REF_SEARCH],!1),t.showModalLoadingDiv=!1}))}},data:function(){return{showModalLoadingDiv:!1,engine:{keyRender:1},localData:null,rezultData:new Array,countRezultData:0,timeOut:null,post:{wordSearch:null},dataSelected:null,readOnly:!1}}};const Ge=N()(Ye,[["render",we]]);var ze=Ge,Xe={name:"controale",components:{"my-icon":Ut,"my-button":K,"my-alert-window":Wt,"my-test-form":Fe,"my-drop-down-search":ze,"my-textfield":be},mounted:function(){},methods:{myMethodTest:function(){console.log("click pe butonul")},onClickWarnning:function(){this.$refs.refWarnning.setMessage("Atentie, datele tale sunt alterate !!!"),this.$refs.refWarnning.show()},onClickYesNo:function(){this.$refs.refYesNo.setMessage("Esti sigur ca vrei sa stergi datele la care ai muncit asa de mult ?"),this.$refs.refYesNo.show()},onClickInfo:function(){this.$refs.refInfo.setMessage("Datele au fost salvate in sistem ?"),this.$refs.refInfo.show()},onClickRedAlert:function(){this.$refs.refRedAlert.setMessage("Alarma rosie !!! Alarma rosie !!!"),this.$refs.refRedAlert.show()},onClickCheck:function(){this.$refs.refCheck.setMessage("Verific (check) in aplicatie."),this.$refs.refCheck.show()},onClickRedSkull:function(){console.log("call de doua ori RedSkull !!!!"),this.$refs.refRedSkull.setMessage("Radiatii. <br> Moarte !!!"),this.$refs.refRedSkull.show()},onClickFormular:function(){this.$refs.refTestForm.showForm()}}};const Ke=N()(Xe,[["render",Ft]]);var qe=Ke,Qe={class:"ff-grid-all",ref:"refGridPrint"};function Ze(t,e,i,n,a,o){var r=Object(s["z"])("my-grid"),c=Object(s["z"])("my-grid-edit");return Object(s["t"])(),Object(s["f"])("div",Qe,[Object(s["i"])(r,{ref:"gridPrint",pConfig:this.gridConfig,onInvoicePrint:o.invoicePrint,onEditCeva:o.editCeva,onDeleteCevaToolbar:o.deleteCevaToolbar,onEditCevaToolbar:o.editCevaToolbar},null,8,["pConfig","onInvoicePrint","onEditCeva","onDeleteCevaToolbar","onEditCevaToolbar"]),Object(s["i"])(c,{ref:"refGridEdit",onEmitUpdateGrid:o.emitUpdateGrid},null,8,["onEmitUpdateGrid"])],512)}var Je={key:0,class:"ff-grid-loading-modal"},ti={idPk:-1},ei=["id"],ii={class:"divHeader"},si={class:"divCaptionFilter"},ni={key:0,class:"divFilter"},ai=["title"],oi={key:0,class:"divOrder"},ri=["id"],ci=["title"],li=["idPk"],fi=["tabindex"],ui=["title","fieldName"],hi=["tabindex"],di={class:"div--center-align-action-group"},gi={class:"toolbar-icon-inline"},mi={class:"divButton"},pi=Object(s["g"])("tfoot",null,null,-1),bi={class:"toolbar"},Oi={class:"divButton"},Ti=["title"],Ei={class:"paginate"},_i={class:"divButton"},Ci={class:"divButton"},vi={key:0,class:"divButtonDinamic"},Ri={key:1,class:"divButtonDinamic"},Ai=Object(s["g"])("div",{class:"divSapacer",style:{widht:"35px"}},null,-1),Ii=[Ai],Ni={class:"divButton"},ji={class:"divButton"},Di={class:"divButtonGoTo"},Li=Object(s["h"])(" Goto page "),$i={class:"divInputGoto"},Si=["title"];function Fi(t,e,i,n,a,o){var r=this,c=Object(s["z"])("font-awesome-icon"),l=Object(s["z"])("my-button"),f=Object(s["z"])("input-field");return Object(s["t"])(),Object(s["f"])("div",{class:"ff-grid-container",ref:this.REF_DIV_CONTAINER},[this.showModalLoadingDiv?(Object(s["t"])(),Object(s["f"])("div",Je,[Object(s["g"])("div",null,[Object(s["i"])(c,{icon:this.$constComponent.ICON_SPINNER,size:"4x",spin:""},null,8,["icon"])])])):Object(s["e"])("",!0),Object(s["g"])("div",{class:"ff-grid",ref:this.REF_DIV_TABLE},[Object(s["g"])("table",{class:"ff-table",ref:t.REF_TABLE},[Object(s["g"])("thead",{class:"ff-thead",ref:this.REF_THEAD},[Object(s["g"])("tr",ti,[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(i.pConfig.header,(function(i){return Object(s["t"])(),Object(s["f"])(s["a"],null,["field"==i.type?(Object(s["t"])(),Object(s["f"])("th",{key:0,id:i.id,class:"th th--left-align"},[Object(s["g"])("div",ii,[Object(s["g"])("div",si,[i.filterBy?(Object(s["t"])(),Object(s["f"])("div",ni,[Object(s["i"])(l,{onClick:e[0]||(e[0]=function(t){return r.privateShowFilterDiv(t)}),heightButton:22,buttonType:1,style:Object(s["p"])(o.privateShowMarkFilter(i.id)),title:"filter..."},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.cfgIconPictureAction(r.$constGrid.ICON_FILTER),size:"1x"},null,8,["icon"])]})),_:2},1032,["style","title"])])):Object(s["e"])("",!0),Object(s["g"])("div",{class:"divCaption",title:i.caption},Object(s["C"])(i.caption),9,ai),i.filterBy?(Object(s["t"])(),Object(s["f"])("div",{key:1,class:Object(s["o"])(["divDataFilter",{divDataFilterDisplayOn:r.privateReactiveShowFilterDiv(i.id)}])},[Object(s["i"])(f,{pConfig:t.INPUT_FILTER_TEXT,onKeyup:o.privateKeyPresFilter},null,8,["pConfig","onKeyup"]),Object(s["i"])(l,{onClick:e[1]||(e[1]=function(t){return r.privateClearFilter(t)}),heightButton:22,buttonType:1,title:"clear filter",style:Object(s["p"])(o.cfgIconColor(r.$constGrid.ICON_DELETE.color))},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.cfgIconPictureAction(r.$constGrid.ICON_DELETE),size:"1x"},null,8,["icon"])]})),_:1},8,["style"])],2)):Object(s["e"])("",!0)]),i.orderBy.order?(Object(s["t"])(),Object(s["f"])("div",oi,[Object(s["i"])(l,{idheader:i.id,onClick:e[2]||(e[2]=function(t){return r.privateOrderBy(t)}),heightButton:22,buttonType:1,style:Object(s["p"])(o.cfgIconColor("white")),title:"order ..."},{default:Object(s["H"])((function(){return[1==r.privateIconOrderBy(i.id)?(Object(s["t"])(),Object(s["d"])(c,{key:0,icon:r.cfgIconPictureAction(r.$constGrid.ICON_UP_ORDER),size:"1x"},null,8,["icon"])):Object(s["e"])("",!0),2==r.privateIconOrderBy(i.id)?(Object(s["t"])(),Object(s["d"])(c,{key:1,icon:r.cfgIconPictureAction(r.$constGrid.ICON_DOWN_ORDER),size:"1x"},null,8,["icon"])):Object(s["e"])("",!0),0==r.privateIconOrderBy(i.id)?(Object(s["t"])(),Object(s["d"])(c,{key:2,icon:r.cfgIconPictureAction(r.$constGrid.ICON_ORDER),size:"1x"},null,8,["icon"])):Object(s["e"])("",!0)]})),_:2},1032,["idheader","style","title"])])):Object(s["e"])("",!0)])],8,ei)):Object(s["e"])("",!0),"field"!==i.type?(Object(s["t"])(),Object(s["f"])("th",{key:1,id:i.id,class:"th th--center-align"},[Object(s["g"])("div",{class:"divCaption",title:i.caption},Object(s["C"])(i.caption),9,ci)],8,ri)):Object(s["e"])("",!0)],64)})),256))])],512),Object(s["g"])("tbody",{class:"ff-tbody",ref:t.REF_TABLE_BODY},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(this.paginate.pag.data,(function(n,a){return Object(s["t"])(),Object(s["f"])("tr",{idPk:n.id,onKeydown:e[3]||(e[3]=Object(s["J"])((function(t){return o.cfgKeyNavigate(t)}),["prevent"])),onClick:e[4]||(e[4]=Object(s["J"])((function(t){return o.cfgMouseNavigate(t)}),["prevent"])),key:a},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(n,(function(e,i){return Object(s["t"])(),Object(s["f"])(s["a"],{key:i},[o.checkFieldHeader(i)?(Object(s["t"])(),Object(s["f"])("td",{key:0,tabindex:r.cfgGetTabIndex()},[Object(s["g"])("div",{style:Object(s["p"])(o.cgfTDStyle(i)),class:Object(s["o"])({divRightAlign:t.divRightAlign,divLeftAlign:t.divLeftAlign,divCenterAlign:t.divCenterAlign}),title:e,fieldName:i},Object(s["C"])(e),15,ui)],8,fi)):Object(s["e"])("",!0)],64)})),128)),Object(s["g"])("td",{tabindex:r.cfgGetTabIndex()},[Object(s["g"])("div",di,[Object(s["g"])("div",gi,[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(i.pConfig.actionButtonHeader,(function(t){return Object(s["t"])(),Object(s["f"])("div",mi,[Object(s["i"])(l,{onClick:function(e){return r.emitAction(e,t.emitAction)},heightButton:22,buttonType:1,title:t.tooltip,style:Object(s["p"])(o.cfgIconColor(t.icon.color))},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.cfgIconPictureAction(t.icon),size:"1x"},null,8,["icon"])]})),_:2},1032,["onClick","title","style"])])})),256))])])],8,hi)],40,li)})),128))],512),pi],512)],512),Object(s["g"])("div",bi,[i.pConfig.toolbar.show?(Object(s["t"])(),Object(s["f"])("div",{key:0,class:"toolbarButton",ref:this.REF_TOOLBAR},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(i.pConfig.toolbar.actionButton,(function(t){return Object(s["t"])(),Object(s["f"])("div",Oi,[Object(s["i"])(l,{onClick:function(e){return r.emitActionToolbar(e,t.emitAction)},heightButton:22,buttonType:2,title:t.tooltip,style:Object(s["p"])(o.cfgIconColor(t.icon.color))},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.cfgIconPictureAction(t.icon),size:"1x"},null,8,["icon"])]})),_:2},1032,["onClick","title","style"])])})),256)),Object(s["g"])("div",{class:"dataSelected",title:this.showSelectedData},Object(s["C"])(this.showSelectedData),9,Ti)],512)):Object(s["e"])("",!0)]),Object(s["g"])("div",Ei,[Object(s["g"])("div",_i,[Object(s["i"])(l,{onClick:e[5]||(e[5]=function(t){return r.goToPage(t,r.engine.paginate.buttonGoStart.id)}),ref:this.engine.paginate.buttonGoStart.ref,heightButton:22,buttonType:2,title:"goto first pagina"},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.cfgIconPictureAction(r.engine.paginate.buttonGoStart.icon),size:"1x"},null,8,["icon"])]})),_:1},512)]),Object(s["g"])("div",Ci,[Object(s["i"])(l,{onClick:e[6]||(e[6]=function(t){return r.goToPage(t,r.engine.paginate.buttonGoLeft.id)}),ref:this.engine.paginate.buttonGoLeft.ref,heightButton:22,buttonType:2,title:"previous page"},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.cfgIconPictureAction(r.engine.paginate.buttonGoLeft.icon),size:"1x"},null,8,["icon"])]})),_:1},512)]),(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(this.paginate.pag.buttons.bt,(function(t,e){return Object(s["t"])(),Object(s["f"])(s["a"],{key:e},[t.isDisable?Object(s["e"])("",!0):(Object(s["t"])(),Object(s["f"])("div",vi,[Object(s["i"])(l,{class:Object(s["o"])({"ff-button-selected":t.selected}),onClick:function(e){return r.goToPage(e,t.caption)},widthButton:35,heightButton:22,buttonType:2,title:r.privateGetPageTitle(t.caption)},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(t.caption),1)]})),_:2},1032,["class","onClick","title"])])),t.isDisable?(Object(s["t"])(),Object(s["f"])("div",Ri,Ii)):Object(s["e"])("",!0)],64)})),128)),Object(s["g"])("div",Ni,[Object(s["i"])(l,{onClick:e[7]||(e[7]=function(t){return r.goToPage(t,r.engine.paginate.buttonGoRight.id)}),ref:this.engine.paginate.buttonGoRight.ref,heightButton:22,buttonType:2,title:"next page"},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.cfgIconPictureAction(r.engine.paginate.buttonGoRight.icon),size:"1x"},null,8,["icon"])]})),_:1},512)]),Object(s["g"])("div",ji,[Object(s["i"])(l,{onClick:e[8]||(e[8]=function(t){return r.goToPage(t,r.engine.paginate.buttonGoEnd.id)}),ref:this.engine.paginate.buttonGoEnd.ref,heightButton:22,buttonType:2,title:"goto last page"},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.cfgIconPictureAction(r.engine.paginate.buttonGoEnd.icon),size:"1x"},null,8,["icon"])]})),_:1},512)]),Object(s["g"])("div",Di,[Object(s["i"])(l,{onClick:e[9]||(e[9]=function(t){return r.jumpPage(t)}),heightButton:22,buttonType:2,title:"goto number page"},{default:Object(s["H"])((function(){return[Li]})),_:1})]),Object(s["g"])("div",$i,[Object(s["i"])(f,{ref:t.INPUT_PAGE_NR.ref,size:1,pPlaceHolder:"nr. page",onKeyup:o.privateEnterGotoPage,pConfig:t.INPUT_PAGE_NR},null,8,["pPlaceHolder","onKeyup","pConfig"])]),Object(s["g"])("div",{class:"divLabelInfo",title:this.privatePaginateTitleRecords()},[Object(s["g"])("label",null,Object(s["C"])(this.paginate.pag.page)+"/"+Object(s["C"])(this.paginate.pag.total_pages),1)],8,Si)])],512)}var Pi=i("b85c"),Mi=(i("25f0"),i("fb6a"),["id","name","placeholder"]);function wi(t,e,i,n,a,o){var r=this,c=Object(s["A"])("maska");return Object(s["t"])(),Object(s["f"])("div",{class:"ff-input-text",ref:this.REF_DIV_CONTAINER},[Object(s["I"])(Object(s["g"])("input",{id:this.pConfig.id,name:this.pConfig.name,ref:"refInput",placeholder:this.pConfig.placeHolder,"onUpdate:modelValue":e[0]||(e[0]=function(t){return a.dataModel=t}),class:Object(s["o"])({"disable-background":this.readOnly}),onKeyup:e[1]||(e[1]=function(){return r.keyupPress&&r.keyupPress.apply(r,arguments)})},null,42,Mi),[[s["F"],a.dataModel],[c,this.pConfig.maska]])],512)}var yi={name:"my-inputField",props:{pConfig:{type:Object,required:!0}},directives:{maska:ge["a"]},created:function(){this.REF_DIV_CONTAINER="refIinputTextContainer"},mounted:function(){this.vModelData=null,this.$check.isUndef(this.pConfig.defaultValue)||(this.dataModel=this.pConfig.defaultValue),this.$check.isUndef(this.pConfig.width)||(this.$refs[this.REF_DIV_CONTAINER].style.width=this.pConfig.width),this.pConfig.readOnly&&(this.readOnly=this.pConfig.readOnly,this.$refs.refInput.setAttribute("readonly",this.pConfig.readOnly))},methods:{getValue:function(){return this.dataModel},setValue:function(t){this.dataModel=t},setFocus:function(){this.$refs.refInput.focus()},setReadOnly:function(t){t?this.$refs.refInput.setAttribute("readonly",t):this.$refs.refInput.removeAttribute("readonly"),this.readOnly=t},keyupPress:function(){this.$check.isUndef(this.pConfig.emitKeyUp)||this.$emit(this.pConfig.emitKeyUp,this.dataModel)},keydownPress:function(){}},data:function(){return{dataModel:null,readOnly:!1}}};const Ui=N()(yi,[["render",wi]]);var ki=Ui,Hi={name:"grid-ul",components:{"input-field":ki,"my-button":K},props:{pConfig:{type:Object,required:!0}},created:function(){this.divRightAlign=!1,this.divLeftAlign=!1,this.divCenterAlign=!1,this.REF_DIV_CONTAINER="refDivContainer",this.REF_DIV_TABLE="refDivTable",this.REF_TABLE="refTable",this.REF_THEAD="refThead",this.REF_TABLE_BODY="refBody",this.INPUT_PAGE_NR=this.cfgPageNumber(),this.INPUT_FILTER_TEXT=this.cfgInputFilterText(),this.REF_TOOLBAR="refToolbar",this.KEY_PRESS_CONTROL_BROWSER=["Tab","Escape"],this.engine={tabIndexValue:0,tdCurent:null,trCurent:null,maximRows:0,CLASS_SELECTED:"selected",CLASS_DINAMIC_BUTTON_PAG:"divButtonDinamic",CLASS_PERMANENT_OVER:"ff-button-selected",timeOut:null,TIME_OUT_DELAY_FOR_FILTER:600,FILTER_MIN_CHARACTER:2,paginate:{buttonGoStart:{id:"b1",icon:{fawIcon:"fas",icon:"angle-double-left",color:"darkred"},ref:"refGoStart"},buttonGoLeft:{id:"b2",icon:{fawIcon:"fas",icon:"angle-left",color:"darkred"},ref:"refGoLeft"},buttonGoRight:{id:"b3",icon:{fawIcon:"fas",icon:"angle-right",color:"darkred"},ref:"refGoRight"},buttonGoEnd:{id:"b4",icon:{fawIcon:"fas",icon:"angle-double-right",color:"darkred"},ref:"refGoEnd"},maxButtonPage:5}},this.paginate.pag.buttons.bt=this.$vanilla.generateButton(this.pConfig.paginate.nrButtonShow)},beforeMount:function(){for(var t=!0,e=0;e<this.pConfig.header.length;e++){if(this.pConfig.header[e].orderBy.order){var i=null;this.pConfig.header[e].orderBy.defaultOrder&&t&&(i=this.$constGrid.ORDER_ASC,t=!1),this.orderBy.header.push(this.$constGrid.getOrderByReactive(this.pConfig.header[e].id,i,this.pConfig.header[e].tableFieldName)),this.pConfig.header[e].orderBy.defaultOrder&&this.setOrderBy(this.pConfig.header[e].tableFieldName,i)}this.pConfig.header[e].filterBy&&this.filterBy.header.push(this.$constGrid.getFilterByReactive(this.pConfig.header[e].id,this.pConfig.header[e].fieldFilterName,null,!1,null,this.cfgIconColor("white")))}},mounted:function(){this.cfgGrid(),this.pConfig.cfg.loadOnCreate&&this.goToPage(null,"1");var t=this.$refs[this.REF_DIV_CONTAINER].parentNode,e=t.getBoundingClientRect();t.style.maxWidth=e.width+"px",t.style.maxHeight=e.height+"px"},computed:{},methods:{setAdditionalFilter:function(t){this.post.additionalFilter=t},cfgInputFilterText:function(){var t=this.$app.cfgInputField("inputFilterText",20);return t},cfgPageNumber:function(){var t=this.$app.cfgInputField("pageNumber",1);return t.setPlaceHolder("nr. page"),t},getDataFromServer:function(t){var e=this;if(this.$check.isUndef(this.pConfig.cfg.urlData))this.showModalLoadingDiv=!1;else{this.showModalLoadingDiv=!0;var i=this.$url.getUrl(this.pConfig.cfg.urlData);this.axios.post(i,this.post).then((function(t){e.showModalLoadingDiv=!0,e.paginate.totalRecords=t.data.paginate.records,e.rezultData=t.data.records})).catch((function(t){return console.log(t)})).finally((function(){e.privateSetPaginatePag(1),e.$nextTick((function(){this.initGrid()})),e.privateSetPaginatePag(1),e.privateLoadAndDrawGrid(),e.showModalLoadingDiv=!1}))}},checkFieldHeader:function(t){var e=this.$vanilla.getAtributeValueFromArrayObject(this.pConfig.header,"tableFieldName",t,"tableFieldName");return!this.$check.isUndef(e)},refreshGrid:function(t,e){var i="1";this.$check.isUndef(t)||t==this.$constGrid.SQL_UPDATE&&(i=this.paginate.pag.page.toString()),this.goToPage(null,i)},getDataSelected:function(){return this.selectdRow},initGrid:function(){this.engine.maximRows=this.paginate.pag.data.length,this.engine.maximRows>0&&this.privateSelectedRow(this.$refs[this.REF_TABLE_BODY].rows[0])},setFocusTD:function(){this.engine.tdCurent.focus()},resetSelectionRow:function(){this.selectdRow={},this.showSelectedData="...",this.enabledToolBar(!1),this.privateRemoveSelectedRow(),this.$emit(this.pConfig.emitSelectData,null)},enabledToolBar:function(t){if(this.pConfig.toolbar.show)for(var e=this.$refs[this.REF_TOOLBAR].getElementsByTagName("button"),i=0;i<e.length;i++)t?this.$vanilla.enabledButton(e[i]):this.$vanilla.disableButton(e[i])},setOrderBy:function(t,e){this.post.orderBy.fieldName=t,this.post.orderBy.order=e},privatePaginateTitleRecords:function(){return"total records: "+this.paginate.pag.total},privateGetHeaderColumn:function(t){var e=null,i=null;if(isNaN(t))e=t.target?t.target.closest("th"):t.closest("th"),i=e.getAttribute("id");else{i=t;for(var s=this.$refs[this.REF_THEAD].getElementsByTagName("th"),n=0;n<s.length;n++)if(s[n].getAttribute("id")==i){e=s[n];break}}var a=e.getElementsByTagName("input")[0];return{header:e,idHeader:i,filterByInput:a}},privateReactiveShowFilterDiv:function(t){for(var e=!1,i=0;i<this.filterBy.header.length;i++)if(this.filterBy.header[i].id==t){e=this.filterBy.header[i].showInputDiv;break}return e},privateShowMarkFilter:function(t){for(var e=this.cfgIconColor("white"),i=0;i<this.filterBy.header.length;i++)if(!this.$check.isUndef(this.filterBy.header[i].filterString)&&this.filterBy.header[i].id==t&&this.filterBy.header[i].filterString.length>0){e=this.cfgIconColor("brown"),this.filterBy.header[i].iconColor=e;break}return e},privateClearFilter:function(t){var e=this.privateGetHeaderColumn(t);e.filterByInput.value="",this.privateSetFilterValue(e.idHeader,"")},privateShowFilterDiv:function(t){if(!this.showModalLoadingDiv)for(var e=this.privateGetHeaderColumn(t),i=0;i<this.filterBy.header.length;i++)this.filterBy.header[i].id==e.idHeader?this.filterBy.header[i].showInputDiv?this.filterBy.header[i].showInputDiv=!1:(this.filterBy.header[i].showInputDiv=!0,this.$nextTick((function(){e.filterByInput.focus(),e.filterByInput.select()}))):this.filterBy.header[i].showInputDiv=!1},privateKeyPresFilter:function(t){if(this.KEY_PRESS_CONTROL_BROWSER.includes(t.key));else{this.privateDelayFilterReset();var e=t.target.value;(e.length>=this.engine.FILTER_MIN_CHARACTER||e.length<this.engine.FILTER_MIN_CHARACTER)&&this.privateDelayFilter(t.target)}},privateSetFilterValue:function(t,e,i){for(var s=0;s<this.filterBy.header.length;s++)this.filterBy.header[s].id==t&&this.filterBy.header[s].filterString!=e&&(this.filterBy.newFilter=!0,e.length<this.engine.FILTER_MIN_CHARACTER&&(e=null),this.filterBy.header[s].filterString=e);this.filterBy.newFilter&&(this.post.filterBy=this.filterBy,this.goToPage(null,"1"))},privateFilterBy:function(t){var e=this.privateGetHeaderColumn(t);this.privateSetFilterValue(e.idHeader,e.filterByInput.value)},privateDelayFilter:function(t){var e=this;this.engine.timeOut=setTimeout((function(){return e.privateFilterBy(t)}),this.engine.TIME_OUT_DELAY_FOR_FILTER)},privateDelayFilterReset:function(){null!=this.engine.timeOut&&clearTimeout(this.engine.timeOut)},privateOrderBy:function(t){if(!this.showModalLoadingDiv){var e=t.target.closest("div").firstChild.getAttribute("idheader"),i=this.$vanilla.getAtributeValueFromArrayObject(this.orderBy.header,"id",e),s=null,n=null;this.$check.isUndef(i.order)?s=this.$constGrid.ORDER_ASC:(s=this.$constGrid.ORDER_ASC,i.order==this.$constGrid.ORDER_ASC&&(s=this.$constGrid.ORDER_DESC));for(var a=0;a<this.orderBy.header.length;a++)this.orderBy.header[a].order=null,this.orderBy.header[a].id==e&&(this.orderBy.header[a].order=s,n=this.orderBy.header[a].fieldName);this.setOrderBy(n,s),this.goToPage(null,this.post.paginate.pageNumber.toString())}},privateIconOrderBy:function(t){var e=this.$vanilla.getAtributeValueFromArrayObject(this.orderBy.header,"id",t),i=0;return e.order==this.$constGrid.ORDER_ASC?i=1:e.order==this.$constGrid.ORDER_DESC&&(i=2),i},privateLoadAndDrawGrid:function(){this.privatedPageToolDraw(this.post.paginate.pageNumber),this.privateSetPaginatePag(this.post.paginate.pageNumber),this.privateCfgPaginateArrowButton()},privateEnterGotoPage:function(t){"Enter"==t.key&&this.jumpPage()},privatedPageToolDraw:function(t){var e=this.paginate.pag.buttons.bt.length,i=parseInt(this.paginate.pag.buttons.bt[0].caption),s=parseInt(this.paginate.pag.buttons.bt[e-1].caption),n=t,a=!1;(t>s||t<i)&&(a=!0);for(var o=0;o<e;o++){a&&(this.paginate.pag.buttons.bt[o].caption=n.toString(),n++);var r=!1;this.paginate.pag.buttons.bt[o].caption==t.toString()&&(r=!0),this.paginate.pag.buttons.bt[o].selected=r;var c=!1;parseInt(this.paginate.pag.buttons.bt[o].caption)>this.paginate.pag.total_pages&&(c=!0),this.paginate.pag.buttons.bt[o].isDisable=c}},jumpPage:function(){var t=this.$refs[this.INPUT_PAGE_NR.ref],e=parseInt(t.getValue());t.getValue()>=1&&e<=this.paginate.pag.total_pages&&this.goToPage(null,e.toString())},goToPage:function(t,e){var i=null;"b"==e.slice(0,1)?e==this.engine.paginate.buttonGoStart.id?i=1:e==this.engine.paginate.buttonGoLeft.id?i=this.paginate.pag.pre_page:e==this.engine.paginate.buttonGoRight.id?i=this.paginate.pag.next_page:e==this.engine.paginate.buttonGoEnd.id&&(i=this.paginate.pag.total_pages):i=parseInt(e),this.post.paginate.pageNumber=i,this.post.paginate.perPage=this.pConfig.paginate.recordsPerPage,this.getDataFromServer("goToPage")},privateSetPaginatePag:function(t){var e=this.$vanilla.paginateArray(this.rezultData,t,this.pConfig.paginate.recordsPerPage,!1,this.paginate.totalRecords);this.paginate.pag.data=e.data,this.paginate.pag.next_page=e.next_page,this.paginate.pag.page=e.page,this.paginate.pag.pre_page=e.pre_page,this.paginate.pag.total=e.total,this.paginate.pag.total_pages=e.total_pages},privateCfgPaginateArrowButton:function(){var t=!1,e=!1;1==this.paginate.pag.page&&(t=!0),this.paginate.pag.page!=this.paginate.pag.total_pages&&0!=this.paginate.pag.total_pages||(e=!0),this.$refs[this.engine.paginate.buttonGoStart.ref].disable(t),this.$refs[this.engine.paginate.buttonGoLeft.ref].disable(t),this.$refs[this.engine.paginate.buttonGoEnd.ref].disable(e),this.$refs[this.engine.paginate.buttonGoRight.ref].disable(e)},privateGetPageTitle:function(t){return"goto page "+t},privateRemoveSelectedRow:function(){this.$check.isUndef(this.engine.trCurent)||this.engine.trCurent.removeAttribute("class",this.engine.CLASS_SELECTED)},privateSelectedRow:function(t){this.$check.isUndef(this.engine.trCurent)||this.engine.trCurent.removeAttribute("class",this.engine.CLASS_SELECTED),this.engine.trCurent=t,this.$check.isUndef(this.engine.tdCurent)?this.engine.tdCurent=this.engine.trCurent.cells[0]:this.engine.tdCurent=this.engine.trCurent.cells[this.engine.tdCurent.cellIndex],this.engine.trCurent.setAttribute("class",this.engine.CLASS_SELECTED),this.privateGetDataFromTr()},privateGetDataFromTr:function(){var t={};t[this.$constGrid.ID_NAME]=this.engine.trCurent.getAttribute(this.$constGrid.ID_NAME);var e,i=this.engine.trCurent.cells,s=Object(Pi["a"])(i);try{for(s.s();!(e=s.n()).done;){var n=e.value,a=n.firstChild.getAttribute(this.$constGrid.BODY.FIELD_NAME);this.pConfig.returnField.includes(a)&&(t[a]=n.innerText)}}catch(o){s.e(o)}finally{s.f()}this.selectdRow=t,this.$emit(this.pConfig.emitSelectData,this.selectdRow),this.enabledToolBar(!0),this.privateMakeShowDataSelected()},privateMakeShowDataSelected:function(){if(this.pConfig.toolbar.show){var t,e="",i=Object(Pi["a"])(this.pConfig.toolbar.fieldShow.field);try{for(i.s();!(t=i.n()).done;){var s=t.value;e+=this.selectdRow[s]+this.pConfig.toolbar.fieldShow.separator}}catch(n){i.e(n)}finally{i.f()}this.pConfig.toolbar.fieldShow.includeIdPk&&(e="("+this.selectdRow[this.$constGrid.ID_NAME]+") "+e),this.showSelectedData=e}},privateSelectedCell:function(t){this.engine.tdCurent=t,this.setFocusTD()},privateArrowDown:function(){this.engine.trCurent.sectionRowIndex<this.paginate.pag.data.length-1&&this.privateSelectedRow(this.engine.trCurent.nextSibling)},privateArrowUp:function(){this.engine.trCurent.sectionRowIndex>0&&this.privateSelectedRow(this.engine.trCurent.previousSibling)},privateArrowRight:function(){this.$check.isUndef(this.engine.tdCurent.nextElementSibling)||this.privateSelectedCell(this.engine.tdCurent.nextElementSibling)},privateArrowLeft:function(){this.$check.isUndef(this.engine.tdCurent.previousElementSibling)||this.privateSelectedCell(this.engine.tdCurent.previousElementSibling)},emitAction:function(t,e){this.cfgMouseNavigate(t),this.$emit(e,this.selectdRow)},emitActionToolbar:function(t,e){this.pConfig.toolbar.show&&this.$emit(e,this.getDataSelected())},cfgGrid:function(){var t=this.$refs[this.REF_DIV_TABLE],e=this.$refs[this.REF_THEAD].rows[0].cells;this.cfgGridHeader(e);var i=this.pConfig.cfg.width;NaN!=parseInt(i)&&(i+="px"),t.style.width=i,t.style.height=this.pConfig.cfg.height+"px"},cfgKeyNavigate:function(t){"ArrowRight"==t.key?this.privateArrowRight():"ArrowLeft"==t.key?this.privateArrowLeft():"ArrowDown"==t.key?this.privateArrowDown():"ArrowUp"==t.key?this.privateArrowUp():"Enter"==t.key||t.key},cfgMouseNavigate:function(t){this.engine.tdCurent=t.target.closest("td"),this.privateSelectedRow(t.target.closest("tr"))},cfgIconPictureAction:function(t){return[t.fawIcon,t.icon]},cfgIconColor:function(t){return{color:t}},cfgGridHeader:function(t){for(var e=0;e<t.length;e++){var i=this.$vanilla.getAtributeValueFromArrayObject(this.pConfig.header,"id",t[e].getAttribute("id"),"width");t[e].style.width=i+"px"}},cfgGetTabIndex:function(){return this.engine.tabIndexValue++,this.engine.tabIndexValue},cgfTDStyle:function(t){var e=this.$vanilla.getAtributeValueFromArrayObject(this.pConfig.header,this.$constGrid.HEADER.TABLE_FIELD_NAME,t);return this.cfgAlignText(e.alignText),{width:e.width+"px"}},cfgAlignText:function(t){this.divCenterAlign=!1,this.divRightAlign=!1,this.divLeftAlign=!1,t==this.$constGrid.ALIGN_TEXT_LEFT?this.divLeftAlign=!0:t==this.$constGrid.ALIGN_TEXT_RIGHT?this.divRightAlign=!0:t==this.$constGrid.ALIGN_TEXT_CENTER&&(this.divCenterAlign=!0)}},data:function(){return{showModalLoadingDiv:!0,rezultData:new Array,selectdRow:{},showSelectedData:"...",paginate:{totalRecords:0,buttonPageNumber:["22","23","34","45","56","68"],pag:this.$vanilla.paginateArray(new Array)},orderBy:{header:new Array},filterBy:{header:new Array,newFilter:!1},post:{paginate:{perPage:this.pConfig.paginate.recordsPerPage,pageNumber:1,countRecords:-1},orderBy:{fieldName:null,order:null},filterBy:{header:new Array,newFilter:!1},additionalFilter:null}}}};const Bi=N()(Hi,[["render",Fi]]);var Vi=Bi,xi={class:"ff-form-modal",ref:"modalRef"},Wi=["id"],Yi={class:"caption",ref:"captionRef"},Gi={class:"ff-form-table"},zi={class:"label bold"},Xi=["for"],Ki={class:"control"},qi={class:"label bold"},Qi=["for"],Zi={class:"control"},Ji=Object(s["h"])("Update data"),ts=Object(s["h"])("Delete data");function es(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("font-awesome-icon"),f=Object(s["z"])("test-field"),u=Object(s["z"])("button-send");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["g"])("div",xi,[Object(s["g"])("div",{class:Object(s["o"])(a.formClass.container),ref:t.CONTAINER_REF,id:a.cfgForm.id},[Object(s["g"])("div",{class:Object(s["o"])(a.formClass.header),ref:"headerRef"},[Object(s["g"])("span",Yi,null,512),Object(s["g"])("div",{class:"closeButton",onClick:e[0]||(e[0]=function(){return o.closeForm&&o.closeForm.apply(o,arguments)})},[Object(s["i"])(l,{icon:a.cfgForm.closeIcon},null,8,["icon"])])],2),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.content),ref:"contentRef"},[Object(s["g"])("form",null,[Object(s["g"])("table",Gi,[Object(s["g"])("tr",null,[Object(s["g"])("td",zi,[Object(s["g"])("label",{for:t.NUME.id},Object(s["C"])(t.NUME.caption),9,Xi)]),Object(s["g"])("td",Ki,[Object(s["i"])(f,{id:t.NUME.id,ref:t.NUME.ref,maska:"",validate:t.NUME.validate,minlength:t.NUME.minLength,maxlength:t.NUME.maxLength,size:t.NUME.sizeField},null,8,["id","validate","minlength","maxlength","size"])]),Object(s["g"])("td",qi,[Object(s["g"])("label",{for:t.DESCRIERE.id},Object(s["C"])(t.DESCRIERE.caption),9,Qi)]),Object(s["g"])("td",Zi,[Object(s["i"])(f,{id:t.DESCRIERE.id,ref:t.DESCRIERE.ref,maska:"",validate:t.DESCRIERE.validate,minlength:t.DESCRIERE.minLength,maxlength:t.DESCRIERE.maxLength,size:t.DESCRIERE.sizeField},null,8,["id","validate","minlength","maxlength","size"])])])])])],2),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.button)},[Object(s["g"])("div",{class:Object(s["o"])(a.formClass.buttonPozition)},[Object(s["i"])(u,{onClick:e[1]||(e[1]=function(t){return o.sendData(r.$constGrid.SQL_UPDATE)})},{default:Object(s["H"])((function(){return[Ji]})),_:1})],2),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.buttonPozition)},[Object(s["i"])(u,{onClick:e[2]||(e[2]=function(t){return o.sendData(r.$constGrid.SQL_DELETE)})},{default:Object(s["H"])((function(){return[ts]})),_:1})],2)],2),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.bottomLine)},null,2)],10,Wi)],512)],64)}i("a4d3"),i("e01a");var is={components:{"test-field":ki,"check-box":Ce,"button-send":K,"validate-window":Wt},name:"grid-edit-test",created:function(){this.CONTAINER_REF="containerRef",this.NUME=this.cfgNume(),this.DESCRIERE=this.cfgDescriere(),this.EMIT_UPDATEGRID="emitUpdateGrid"},mounted:function(){this.configForm()},emits:["emitUpdateGrid"],methods:{closeForm:function(){this.$refs[this.CONTAINER_REF].style.display="none",this.$refs.modalRef.style.display="none"},showForm:function(t,e){this.$refs.modalRef.style.display="inline-block",this.$refs[this.CONTAINER_REF].style.display="table",this.$check.isUndef(t)||this.$vanilla.centerDiv(t,this.$refs[this.CONTAINER_REF]),this.setPostData(e,null)},setPostData:function(t,e){this.$check.isUndef(t)?(this.post.name=this.$refs[this.NUME.ref].getValue(),this.post.description=this.$refs[this.DESCRIERE.ref].getValue(),this.post.actionType=e):(this.post.id=t.idPk,this.post.name=t.name,this.post.description=t.description,this.post.actionType=e,this.$refs[this.NUME.ref].setValue(this.post.name),this.$refs[this.DESCRIERE.ref].setValue(this.post.description))},cfgNume:function(){var t=this.$app.cfgTextFIeld();return t.setIdAndRef("nume"),t.minLength=3,t.maxLength=10,t.validate=this.validateNume,t.maska="",t.caption="Nume",t.mandatory=!1,t.sizeField=10,t},cfgDescriere:function(){var t=this.$app.cfgTextFIeld();return t.setIdAndRef("descriere"),t.minLength=4,t.maxLength=200,t.validate=this.validateDescriere,t.maska="",t.caption="Descriere",t.mandatory=!1,t.sizeField=30,t},configForm:function(){this.cfgForm.id="777TEST",this.cfgForm.closeIcon=["fas","times"],this.$refs.captionRef.innerHTML="Introducere date de test",this.$vanilla.dragDiv(this.$refs.containerRef,this.$refs.headerRef)},emitYesNoButton:function(t){1==t?(this.deleteYes=!0,this.sendData(this.$constGrid.SQL_DELETE)):this.deleteYes=!1},sendData:function(t){var e=this;if(this.validateForm(),this.messageForm.length>0&&t!=this.$constGrid.SQL_DELETE)return this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.messageForm)),this.$refs.validateWindowRef.show(),!1;if(t!=this.$constGrid.SQL_DELETE||this.deleteYes?this.deleteYes=!0:(this.$refs.refYesNo.setCaption("Delete"),this.$refs.refYesNo.setMessage("Datele sterse nu mai pot fi recuperate!"),this.$refs.refYesNo.show()),this.deleteYes){this.deleteYes=!1;var i=this.$url.getUrl("gridDataTestUpdate");this.setPostData(null,t),this.axios.post(i,this.post).then((function(i){i.data.succes?(e.$emit(e.EMIT_UPDATEGRID,t,e.post),e.closeForm(),e.$refs.infoWindowRef.setCaption("Succes"),e.$refs.infoWindowRef.setMessage(e.$appServer.getHtmlSqlFormatMessage(i.data)),e.$refs.infoWindowRef.show()):(e.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),e.$refs.validateWindowRef.setMessage(e.$appServer.getHtmlSqlFormatMessage(i.data)),e.$refs.validateWindowRef.show())})).catch((function(t){e.$refs.redWindowRef.setCaption("Probleme ... "),e.$refs.redWindowRef.setMessage(t),e.$refs.redWindowRef.show()}))}},validateForm:function(){this.messageForm=[],this.$check.validateForm(this.$refs)},validateNume:function(){this.$check.lenghtMinMax(this.$refs[this.NUME.ref].getValue(),this.NUME.minLength,this.NUME.maxLength)||this.messageForm.push(this.$app.getFormMessageClass(this.NUME.id,this.NUME.caption,"trebuie sa aiba minim "+this.NUME.minLength+" si maxim "+this.NUME.maxLength+" caractere"))},validateDescriere:function(){var t=this.DESCRIERE;this.$check.lenghtMinMax(this.$refs[t.ref].getValue(),t.minLength,t.maxLength)||this.messageForm.push(this.$app.getFormMessageClass(t.id,t.caption,"trebuie sa aiba minim "+t.minLength+" si maxim "+t.maxLength+" caractere"))}},data:function(){return{formClass:this.$css.getCss("form"),messageForm:[],post:{},cfgForm:{id:null,closeIcon:["fas","times"]},deleteYes:!1}}};const ss=N()(is,[["render",es]]);var ns=ss,as={name:"view-gridul",components:{"my-grid":Vi,"my-button":K,"my-grid-edit":ns},props:{},created:function(){this.gridConfig={header:[this.$constGrid.HEADER.getHeader(1,"idFiled",30,"id",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!1,!1,!1),this.$constGrid.HEADER.getHeader(2,"Nume",120,"name",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!0,!0,!0),this.$constGrid.HEADER.getHeader(3,"Descriere",400,"description",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!0,!1,!0),this.$constGrid.HEADER.getHeader(6,"action",50,null,this.$constGrid.HEADER.CAPTION_TYPE_ACTION,!1,!1,!1)],actionButtonHeader:[this.$constGrid.getActionButton(8,"Print din functie","invoicePrint",this.$constGrid.ICON_PRINT)],returnField:["name","description"],cfg:{width:780,height:350,urlData:"gridDataTest"},toolbar:{show:!0,fieldShow:{field:["name"],separator:" ",includeIdPk:!0},actionButton:[this.$constGrid.getActionButton(null,"Edit din functie","deleteCevaToolbar",this.$constGrid.ICON_DELETE),this.$constGrid.getActionButton(null,"Delete din functie","editCevaToolbar",this.$constGrid.ICON_EDIT)]},paginate:{nrButtonShow:5,recordsPerPage:10}}},mounted:function(){},methods:{invoicePrint:function(t){},editCeva:function(){console.log("editez ceva")},deleteCevaToolbar:function(t){console.log("delete de la toolbar")},editCevaToolbar:function(t){this.$refs.refGridEdit.showForm(this.$refs.refGridPrint,t,this.$constGrid.SQL_UPDATE)},emitUpdateGrid:function(t,e){var i=null;this.$refs.gridPrint.refreshGrid(t,i),console.log("date din grid au fost modificate = "+t,e)}},data:function(){return{}}};const os=N()(as,[["render",Ze]]);var rs=os,cs={class:"ff-workbench",ref:"refWorkBench"},ls=["id"],fs=Object(s["g"])("div",{class:"up-line"},null,-1),us=["id"],hs=Object(s["g"])("div",{class:"up-line"},null,-1),ds=Object(s["h"])(" sunt in tab 2"),gs=[hs,ds],ms=["id"],ps=Object(s["g"])("div",{class:"up-line"},null,-1),bs=Object(s["h"])(" sunt in tab 3"),Os=[ps,bs],Ts=["id"],Es=Object(s["g"])("div",{class:"up-line"},null,-1);function _s(t,e,i,n,a,o){var r=this,c=Object(s["z"])("form-avocat"),l=Object(s["z"])("form-luni"),f=Object(s["z"])("my-tab");return Object(s["t"])(),Object(s["f"])("div",cs,[Object(s["i"])(f,{ref:"refTab",pConfig:this.cfgtime.gridConfig,onEmitClickTab:o.emitClickTab},{tabs:Object(s["H"])((function(){return[Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("1")},[fs,Object(s["i"])(c,{ref:"refFormAvocat"},null,512)],8,ls),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("2")},gs,8,us),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("3")},Os,8,ms),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("4")},[Es,Object(s["i"])(l,{ref:r.cfgtime.REF_FORM_LUNI_INCHISE},null,512)],8,Ts)]})),_:1},8,["pConfig","onEmitClickTab"])],512)}var Cs=["id"],vs=Object(s["g"])("form",null,[Object(s["g"])("table",{class:"ff-form-table"})],-1),Rs=[vs];function As(t,e,i,n,a,o){var r=Object(s["z"])("validate-window");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(r,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(r,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(r,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(r,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["g"])("div",{class:"ff-form-tab",ref:t.CONTAINER_REF,id:a.cfgForm.id},[Object(s["g"])("div",{class:Object(s["o"])(a.formClass.content),ref:"contentRef"},Rs,2),Object(s["g"])("div",{class:Object(s["o"])(a.formClass.button)},null,2)],8,Cs)],64)}var Is={components:{"button-send":K,"validate-window":Wt},name:"form-avocat",created:function(){this.CONTAINER_REF="containerRef",this.NUME=this.cfgNume(),this.DESCRIERE=this.cfgDescriere(),this.EMIT_UPDATEGRID="emitUpdateGrid"},mounted:function(){this.configForm()},emits:["emitUpdateGrid"],methods:{setPostData:function(t,e){this.$check.isUndef(t)?(this.post.name=this.$refs[this.NUME.ref].getValue(),this.post.description=this.$refs[this.DESCRIERE.ref].getValue(),this.post.actionType=e):(this.post.id=t.idPk,this.post.name=t.name,this.post.description=t.description,this.post.actionType=e,this.$refs[this.NUME.ref].setValue(this.post.name),this.$refs[this.DESCRIERE.ref].setValue(this.post.description))},cfgNume:function(){var t=this.$app.cfgTextFIeld();return t.setIdAndRef("nume"),t.minLength=3,t.maxLength=10,t.validate=this.validateNume,t.maska="",t.caption="Nume",t.mandatory=!1,t.sizeField=10,t},cfgDescriere:function(){var t=this.$app.cfgTextFIeld();return t.setIdAndRef("descriere"),t.minLength=4,t.maxLength=200,t.validate=this.validateDescriere,t.maska="",t.caption="Descriere",t.mandatory=!1,t.sizeField=30,t},configForm:function(){this.cfgForm.id=this.$app.getUuid(),this.cfgForm.closeIcon=["fas","times"]},emitYesNoButton:function(t){1==t?(this.deleteYes=!0,this.sendData(this.$constGrid.SQL_DELETE)):this.deleteYes=!1},sendData:function(t){var e=this;if(this.validateForm(),this.messageForm.length>0&&t!=this.$constGrid.SQL_DELETE)return this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.messageForm)),this.$refs.validateWindowRef.show(),!1;if(t!=this.$constGrid.SQL_DELETE||this.deleteYes?this.deleteYes=!0:(this.$refs.refYesNo.setCaption("Delete"),this.$refs.refYesNo.setMessage("Datele sterse nu mai pot fi recuperate!"),this.$refs.refYesNo.show()),this.deleteYes){this.deleteYes=!1;var i=this.$url.getUrl("gridDataTestUpdate");this.setPostData(null,t),this.axios.post(i,this.post).then((function(i){i.data.succes?(e.$emit(e.EMIT_UPDATEGRID,t,e.post),e.closeForm(),e.$refs.infoWindowRef.setCaption("Succes"),e.$refs.infoWindowRef.setMessage(e.$appServer.getHtmlSqlFormatMessage(i.data)),e.$refs.infoWindowRef.show()):(e.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),e.$refs.validateWindowRef.setMessage(e.$appServer.getHtmlSqlFormatMessage(i.data)),e.$refs.validateWindowRef.show())})).catch((function(t){e.$refs.redWindowRef.setCaption("Probleme ... "),e.$refs.redWindowRef.setMessage(t),e.$refs.redWindowRef.show()}))}},validateForm:function(){this.messageForm=[],this.$check.validateForm(this.$refs)},validateNume:function(){this.$check.lenghtMinMax(this.$refs[this.NUME.ref].getValue(),this.NUME.minLength,this.NUME.maxLength)||this.messageForm.push(this.$app.getFormMessageClass(this.NUME.id,this.NUME.caption,"trebuie sa aiba minim "+this.NUME.minLength+" si maxim "+this.NUME.maxLength+" caractere"))},validateDescriere:function(){var t=this.DESCRIERE;this.$check.lenghtMinMax(this.$refs[t.ref].getValue(),t.minLength,t.maxLength)||this.messageForm.push(this.$app.getFormMessageClass(t.id,t.caption,"trebuie sa aiba minim "+t.minLength+" si maxim "+t.maxLength+" caractere"))}},data:function(){return{formClass:this.$css.getCss("form"),messageForm:[],post:{},cfgForm:{id:null,closeIcon:["fas","times"]},deleteYes:!1}}};const Ns=N()(Is,[["render",As]]);var js=Ns,Ds={class:"ff-tab"},Ls={class:"headers"},$s=["idTab"],Ss=["idTab"];function Fs(t,e,i,n,a,o){var r=this;return Object(s["t"])(),Object(s["f"])("div",Ds,[Object(s["g"])("div",Ls,[Object(s["g"])("ul",null,[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(i.pConfig.header,(function(t){return Object(s["t"])(),Object(s["f"])("li",{class:"header-li",ref_for:!0,ref:r.REF_HEADER_LI},[Object(s["g"])("div",{class:"header-div",idTab:t.id},[Object(s["g"])("a",{idTab:t.id,onClick:e[0]||(e[0]=function(t){return r.headerClick(t)}),href:"javascript:void(null);"},Object(s["C"])(t.caption),9,Ss)],8,$s)],512)})),256))])]),Object(s["g"])("div",{class:"tabs",ref:this.REF_TABS},[Object(s["y"])(t.$slots,"tabs")],512)])}var Ps={name:"my-tab",props:{pConfig:{type:Object,required:!0}},directives:{},created:function(){this.REF_HEADER_LI="refHeaderLi",this.REF_TABS="refTabs",this.tabEngine=null},mounted:function(){this.tabEngine=this.pConfig.header},methods:{headerClick:function(t){var e=t.target.getAttribute("idTab");this.goToTab(e)},tabOnOff:function(t,e){var i=this.getTabDiv(t);"on"==e?this.$constTab.enabledTab(i):this.$constTab.disableTab(i)},goToTab:function(t){this.selectdTabId=t,this.emitTabAction(t),this.headerMarkSelected(t)},emitTabAction:function(t){this.$emit(this.$constTab.EMIT_TAB_ACTION,t)},getTabDiv:function(t){for(var e=this.$refs[this.REF_HEADER_LI],i=null,s=0;s<e.length;s++)if(e[s].firstChild.getAttribute("idTab")==t){i=e[s];break}return i},headerMarkSelected:function(t){var e=this.$refs[this.REF_HEADER_LI],i=this.$refs[this.REF_TABS].children;e.length!=i.length&&console.error("TAB.vue: headers and tabs must be the same value");for(var s=this.$constTab.getIdTab(t),n=0;n<e.length;n++)e[n].firstChild.getAttribute("idTab")==t?e[n].classList.add("selected-tab"):e[n].classList.remove("selected-tab"),0==i[n].style.width.length&&(i[n].style.width=this.pConfig.tabsWidth),i[n].id==s?i[n].style.display="block":i[n].style.display="none"}},data:function(){return{selectdTabId:null}}};const Ms=N()(Ps,[["render",Fs]]);var ws=Ms,ys={class:"ff-form-table"},Us={class:"label-left bold"},ks=["for"],Hs={class:"control"},Bs={class:"control"},Vs={class:"prime-button last-button"},xs=Object(s["h"])("   "),Ws=Object(s["g"])("td",{class:"label-left bold"},"                  ",-1),Ys={class:"label-left bold"},Gs=["for"],zs={class:"control"},Xs={class:"control"},Ks={class:"buttons"},qs=Object(s["h"])("   "),Qs=Object(s["g"])("br",null,null,-1),Zs=Object(s["g"])("table",{class:"ff-form-table"},null,-1);function Js(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("input-field"),f=Object(s["z"])("font-awesome-icon"),u=Object(s["z"])("my-button"),h=Object(s["z"])("my-list"),d=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["i"])(c,{ref:"refYesNoInsert",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButtonInsert},null,8,["onEmitYesNoButton"]),Object(s["i"])(d,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("table",ys,[Object(s["g"])("tr",null,[Object(s["g"])("td",Us,[Object(s["g"])("label",{for:r.cfgtime.FIELD_YEAR.id},Object(s["C"])(r.cfgtime.FIELD_YEAR.caption),9,ks)]),Object(s["g"])("td",Hs,[Object(s["i"])(l,{ref:r.cfgtime.FIELD_YEAR.ref,pConfig:r.cfgtime.FIELD_YEAR},null,8,["pConfig"])]),Object(s["g"])("td",Bs,[Object(s["g"])("div",Vs,[xs,Object(s["i"])(u,{ref:r.cfgtime.REF_BUTTON_REFRESH,onClick:r.clickRefresMonthList,heightButton:22,buttonType:2,title:"refresh lista",style:Object(s["p"])(r.cfgtime.ICON_REFRESH.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(f,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_REFRESH),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])]),Ws,Object(s["g"])("td",Ys,[Object(s["g"])("label",{for:r.cfgtime.FIELD_MONTH.id},Object(s["C"])(r.cfgtime.FIELD_MONTH.caption),9,Gs)]),Object(s["g"])("td",zs,[Object(s["i"])(l,{ref:r.cfgtime.FIELD_MONTH.ref,pConfig:r.cfgtime.FIELD_MONTH},null,8,["pConfig"])]),Object(s["g"])("td",Xs,[Object(s["g"])("div",Ks,[qs,Object(s["i"])(u,{onClick:r.privateServerInsertMonth,heightButton:22,buttonType:0,title:"modific date partener"},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(r.captionButton),1)]})),_:1},8,["onClick"])])])])]),Qs,Object(s["i"])(h,{ref:r.cfgtime.LIST_MONTH.ref,pConfig:r.cfgtime.LIST_MONTH,onEmitCheckLunaInchisa:o.emitCheckLunaInchisa},null,8,["pConfig","onEmitCheckLunaInchisa"]),Zs]})),slotButton:Object(s["H"])((function(){return[]})),_:1},512)],64)}var tn={class:"ff-form-tab"},en={key:0,class:"loading-modal"},sn={class:"form-title"},nn={class:"form-content"},an={class:"form-button"},on=Object(s["g"])("div",{class:"form-bottom-line"},null,-1);function rn(t,e,i,n,a,o){var r=Object(s["z"])("font-awesome-icon");return Object(s["t"])(),Object(s["f"])("div",tn,[this.showModalLoadingDiv?(Object(s["t"])(),Object(s["f"])("div",en,[Object(s["g"])("div",null,[Object(s["i"])(r,{icon:this.$constComponent.ICON_SPINNER,size:"3x",spin:""},null,8,["icon"])])])):Object(s["e"])("",!0),Object(s["g"])("div",sn,[Object(s["y"])(t.$slots,"slotTitle")]),Object(s["g"])("div",nn,[Object(s["y"])(t.$slots,"slotContent")]),Object(s["g"])("div",an,[Object(s["y"])(t.$slots,"slotButton")]),on])}var cn={name:"my-form-tab",components:{},props:{},directives:{},created:function(){},mounted:function(){},methods:{showModal:function(t){this.showModalLoadingDiv=t}},data:function(){return{showModalLoadingDiv:!1}}};const ln=N()(cn,[["render",rn]]);var fn=ln,un={class:"ff-lista"},hn={key:0,class:"loading-modal"},dn={class:"tableClass"},gn={class:"theadClass"},mn={key:0,class:"thClass"},pn={key:1,class:"thClass"},bn={class:"tbodyClass"},On=["idPk"],Tn=["field"],En=["na"],_n={key:0,class:"tdClass"},Cn={class:"tdDivCenterAlign"},vn={class:"toolbar-icon-inline"},Rn={key:0,class:"divButton"},An={key:1,class:"divButton"};function In(t,e,i,n,a,o){var r=this,c=Object(s["z"])("font-awesome-icon"),l=Object(s["z"])("my-button"),f=Object(s["z"])("my-checkBox");return Object(s["t"])(),Object(s["f"])("div",un,[Object(s["g"])("div",{class:"container",ref:this.cfgTime.REF_CONTAINER},[this.showModalLoadingDiv?(Object(s["t"])(),Object(s["f"])("div",hn,[Object(s["g"])("div",null,[Object(s["i"])(c,{icon:this.$constComponent.ICON_SPINNER,size:"4x",spin:""},null,8,["icon"])])])):Object(s["e"])("",!0),Object(s["g"])("table",dn,[Object(s["g"])("thead",gn,[Object(s["g"])("tr",null,[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(i.pConfig.header,(function(t){return Object(s["t"])(),Object(s["f"])(s["a"],null,[t.type===r.$constList.HEADER.CAPTION_TYPE_FIELD?(Object(s["t"])(),Object(s["f"])("th",mn,[Object(s["g"])("div",{style:Object(s["p"])(r.privateCfsTHStyle(t))},Object(s["C"])(t.caption),5)])):Object(s["e"])("",!0),t.type===r.$constList.HEADER.CAPTION_TYPE_ACTION?(Object(s["t"])(),Object(s["f"])("th",pn,Object(s["C"])(t.caption),1)):Object(s["e"])("",!0)],64)})),256))])]),Object(s["g"])("tbody",bn,[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(this.dataList,(function(n,a){return Object(s["t"])(),Object(s["f"])("tr",{class:"trClass",idPk:n.id,onClick:e[0]||(e[0]=function(t){return r.privateCfgEmitRowSelection(t,r.pConfig.cfg.emitListRowSelection)})},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(n,(function(e,i){return Object(s["t"])(),Object(s["f"])(s["a"],{key:i},[o.privateCfgFieldShow(i,n)?(Object(s["t"])(),Object(s["f"])("td",{key:0,class:"tdClass",field:i},[Object(s["g"])("div",{na:r.privateCfgTDAlign(i),class:Object(s["o"])({tdDivRightAlign:t.tdDivRightAlign,tdDivLeftAlign:t.tdDivLeftAlign,tdDivCenterAlign:t.tdDivCenterAlign})},Object(s["C"])(e),11,En)],8,Tn)):Object(s["e"])("",!0)],64)})),128)),r.privateCfgHaveButton()?(Object(s["t"])(),Object(s["f"])("td",_n,[Object(s["g"])("div",Cn,[Object(s["g"])("div",vn,[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(i.pConfig.recordActionButon,(function(t){return Object(s["t"])(),Object(s["f"])(s["a"],null,[t.typeButton===r.$constList.ACTION_BUTTON.TYPE_BUTTON?(Object(s["t"])(),Object(s["f"])("div",Rn,[Object(s["i"])(l,{onClick:Object(s["J"])((function(e){return r.privateCfgEmitAction(e,t.emitAction)}),["prevent"]),heightButton:22,buttonType:1,title:t.tooltip,style:Object(s["p"])(o.privateCfgIconColor(t.icon.color))},{default:Object(s["H"])((function(){return[Object(s["i"])(c,{icon:r.privateCfgIconPictureAction(t.icon),size:"1x"},null,8,["icon"])]})),_:2},1032,["onClick","title","style"])])):Object(s["e"])("",!0),t.typeButton===r.$constList.ACTION_BUTTON.TYPE_CHECKBOX?(Object(s["t"])(),Object(s["f"])("div",An,[Object(s["i"])(f,{onClick:function(e){return r.privateCfgEmitCheckBoxEmitAction(e,t.emitAction)},idPk:r.idPk,pConfig:t.cfgCheckBox,ref_for:!0,ref:t.cfgCheckBox.ref,pCheck:o.privateCfgSetCheckBox()},null,8,["onClick","idPk","pConfig","pCheck"])])):Object(s["e"])("",!0)],64)})),256))])])])):Object(s["e"])("",!0)],8,On)})),256))])])],512)])}i("159b");var Nn={name:"my-lista",components:{"my-button":K,"my-checkBox":Ce},props:{pConfig:{type:Object,required:!0}},directives:{},created:function(){this.tdDivRightAlign=!1,this.tdDivLeftAlign=!1,this.tdDivCenterAlign=!1,this.cfgTime={REF_CONTAINER:"refContainer",CLASS_DIMENSION:"with-dimension",fieldArray:[],checkBoxValue:null,idPk:null,headerArrayObject:{},totalWidth:0},this.runtime={post:null,responseCustom:null},this.privateCfgSetData()},mounted:function(){this.pConfig.cfg.loadOnCreate&&this.showList(),this.privateCfgList()},methods:{getTotalWidth:function(){return this.cfgTime.totalWidth},getDataList:function(){return this.dataList},getCustomResponse:function(){return this.runtime.responseCustom},showList:function(t){return this.$check.isUndef(t)||(this.runtime.post=t),this.getDataFromServer(),"ff"},getDataFromServer:function(){var t=this;this.showModalLoadingDiv=!0,this.runtime.responseCustom=null,this.dataList=null;var e=this.$url.getUrl(this.pConfig.cfg.urlData);this.axios.post(e,this.runtime.post).then((function(e){t.showModalLoadingDiv=!0,t.dataList=e.data.records,t.runtime.responseCustom=e.data.custom})).catch((function(t){return console.log(t)})).finally((function(){t.$emit("emitFinallyCustomResponse",t.runtime.responseCustom),t.showModalLoadingDiv=!1}))},privateCfgIconPictureAction:function(t){return[t.fawIcon,t.icon]},privateCfgIconColor:function(t){return{color:t}},privateCfgEmitRowSelection:function(t,e){this.$emit(e,t.target)},privateCfgEmitCheckBoxEmitAction:function(t,e){this.$emit(e,t.target)},privateCfgEmitAction:function(t,e){this.$emit(e,t.target)},privateCfgSetCheckBox:function(){var t=!1;return 1==this.cfgTime.checkBoxValue&&(t=!0),t},privateCfgHaveButton:function(){return this.pConfig.recordActionButon.length>0},privateCfgFieldShow:function(t,e){return this.idPk=e.id,this.pConfig.cfg.filedNameForCheckBox==t&&(1==e[this.pConfig.cfg.filedNameForCheckBox]?this.cfgTime.checkBoxValue=!0:this.cfgTime.checkBoxValue=!1),this.cfgTime.fieldArray.includes(t)},privateCfgSetData:function(){var t=this,e=0;this.pConfig.header.forEach((function(i){t.cfgTime.fieldArray.push(i.fieldName),t.cfgTime.headerArrayObject[i.fieldName]=i,e+=i.width})),this.cfgTime.totalWidth=e},privateCfsTHStyle:function(t){if(!this.$check.isUndef(this.pConfig.cfg.headerLenghtActivate)&&this.pConfig.cfg.headerLenghtActivate)return{width:t.width+"px"}},privateCfgTDAlign:function(t){var e=this.cfgTime.headerArrayObject[t].alignText;this.tdDivRightAlign=!1,this.tdDivLeftAlign=!1,this.tdDivCenterAlign=!1,e==this.$constComponent.ALIGN_TEXT_LEFT?this.tdDivLeftAlign=!0:e==this.$constComponent.ALIGN_TEXT_RIGHT?this.tdDivRightAlign=!0:e==this.$constGrid.ALIGN_TEXT_CENTER&&(this.tdDivCenterAlign=!0)},privateCfgList:function(){if(!this.$check.isUndef(this.pConfig.cfg.heightList)){var t=this.$refs[this.cfgTime.REF_CONTAINER];t.classList.add(this.cfgTime.CLASS_DIMENSION),t.style.height=this.pConfig.cfg.heightList+"px"}}},data:function(){return{showModalLoadingDiv:!1,dataList:[]}}};const jn=N()(Nn,[["render",In]]);var Dn=jn,Ln={components:{"form-tab":fn,"validate-window":Wt,"my-button":K,"my-list":Dn,"input-field":ki},name:"form-avocat-luni",created:function(){this.REF_FORM="refFormLuni",this.runtime={mode:this.$constFROM.MODE_EDIT,sendDataToServer:!1,message:[],post:{idPk:null,field:{},sqlAction:null},postInsert:{idPk:null,field:{},sqlAction:null},yearList:0},this.cfgtime={REF_BUTTON_REFRESH:"refButtonRefresh",ICON_REFRESH:this.$constComponent.ICON_REFRESH("green"),FIELD_YEAR:this.cfgYearField(),FIELD_MONTH:this.cfgMonthField(),URL_CHECK_MONTH:this.$url.getUrl("checkMonth"),URL_INSERT_MONTH:this.$url.getUrl("insertMonth"),LIST_MONTH:{ref:"refMonthList",header:[this.$constList.getHeader(1,"Luna",150,"nLuna",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(2,"Luna inchisa",100,"null",this.$constList.HEADER.CAPTION_TYPE_ACTION)],recordActionButon:[this.$constList.getActionButton(9,"luna inchisa","emitCheckLunaInchisa",null,this.$constList.ACTION_BUTTON.TYPE_CHECKBOX,this.$app.cfgCheckBox("lunaInchisa",!1))],cfg:{urlData:"monthList",loadOnCreate:!1,filedNameForCheckBox:"inchisa",emitListRowSelection:"emitListRowSelection",headerLenghtActivate:!0,heightList:350}}}},emits:["emitNewRecord"],mounted:function(){var t=this.$startEndCurrentMonth();this.runtime.yearList=t.year,this.$refs[this.cfgtime.FIELD_YEAR.ref].setValue(this.runtime.yearList),this.$refs[this.cfgtime.FIELD_MONTH.ref].setValue(t.month)},methods:{privateServerInsertMonth:function(){var t=this;if(this.validateForm())return this.$refs.validateWindowRef.show(),!1;this.runtime.sendDataToServer||(this.$refs.refYesNoInsert.setCaption("Inregistrez"),this.$refs.refYesNoInsert.setMessage("Inregistrez luna in baza de date?"),this.$refs.refYesNoInsert.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_INSERT_MONTH,this.runtime.postInsert).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.refreshListLuniInchise(),t.$refs[t.REF_FORM].showModal(!1)})))},privateServerCheckMonth:function(){var t=this,e="";e=this.runtime.post.field.checkValue?"Blochez luna selectata ?":"Deblochez luna selectata ?",this.runtime.sendDataToServer||(this.$refs.refYesNo.setCaption("Luna in lucru"),this.$refs.refYesNo.setMessage(e),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_CHECK_MONTH,this.runtime.post).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.refreshListLuniInchise(),t.$refs[t.REF_FORM].showModal(!1)})))},clickRefresMonthList:function(){this.runtime.yearList=this.$refs[this.cfgtime.FIELD_YEAR.ref].getValue(),this.refreshListLuniInchise()},refreshListLuniInchise:function(){this.$refs[this.cfgtime.LIST_MONTH.ref].showList(this.privateParamMonthList())},setModeForm:function(t){this.runtime.mode=t},emitCheckLunaInchisa:function(t){this.runtime.post.idPk=t.getAttribute("idPk"),this.setPost({name:"checkValue"},t.checked),this.setPost({name:"control"},t),this.privateServerCheckMonth()},emitYesNoButtonInsert:function(t){1==t?(this.runtime.sendDataToServer=!0,this.privateServerInsertMonth()):this.runtime.sendDataToServer=!1},emitYesNoButton:function(t){1==t?(this.runtime.post.field.control=null,this.runtime.sendDataToServer=!0,this.privateServerCheckMonth()):(this.runtime.sendDataToServer=!1,this.runtime.post.field.checkValue?this.runtime.post.field.control.checked=!1:this.runtime.post.field.control.checked=!0,this.runtime.post.field.control=null)},setPost:function(t,e){this.runtime.post["field"][t.name]=e},setPostInsert:function(t,e){this.runtime.postInsert["field"][t.name]=e},privateParamMonthList:function(){return{yearList:this.runtime.yearList}},validateForm:function(){var t=!1,e=[this.$refs[this.cfgtime.FIELD_YEAR.ref],this.$refs[this.cfgtime.FIELD_MONTH.ref]];return this.runtime.message=[],this.$check.validateForm(e),this.runtime.message.length>0&&(this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.message)),t=!0),t},validateYear:function(){var t=this.cfgtime.FIELD_YEAR,e=parseInt(this.$refs[t.ref].getValue());this.$check.intervalCheck(e,parseInt(t.minLength),parseInt(t.maxLength))||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"anul trebuie sa fie intre "+t.minLength+" si maxim "+t.maxLength+" !")),this.setPostInsert(t,e)},validateMonth:function(){var t=this.cfgtime.FIELD_MONTH,e=parseInt(this.$refs[t.ref].getValue());this.$check.intervalCheck(e,parseInt(t.minLength),parseInt(t.maxLength))||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"luna trebuie sa fie in intervalul "+t.minLength+" - "+t.maxLength+" !")),this.setPostInsert(t,e)},cfgYearField:function(){var t=this.$app.cfgInputField("year",70,40);return t.setValidate(2020,2050),t.setValidateFunction(this.validateYear),t.setCaption("Anul in lucru"),t.setMandatory(!0),t.setMaska(""),t},cfgMonthField:function(){var t=this.$app.cfgInputField("month",70,25);return t.setValidate(1,12),t.setValidateFunction(this.validateMonth),t.setCaption("Luna"),t.setMandatory(!0),t.setMaska(""),t}},data:function(){return{captionButton:"Adaug luna"}}};const $n=N()(Ln,[["render",Js]]);var Sn=$n,Fn={components:{"form-avocat":js,"my-tab":ws,"form-luni":Sn},name:"view-avocat",created:function(){this.cfgtime={REF_FORM_LUNI_INCHISE:"refFormLuniInchise",gridConfig:{header:[this.$constTab.getHeader(1,"Date avocat"),this.$constTab.getHeader(2,"Tab 02"),this.$constTab.getHeader(3,"Tab 03"),this.$constTab.getHeader(4,"Luni in lucru")],defaultTabId:1,tabsWidth:"700px"}},this.runtime={}},mounted:function(){this.$refs.refTab.goToTab(this.cfgtime.gridConfig.defaultTabId)},methods:{emitClickTab:function(t){4==t&&this.$refs[this.cfgtime.REF_FORM_LUNI_INCHISE].refreshListLuniInchise()}},data:function(){return{}}};const Pn=N()(Fn,[["render",_s]]);var Mn=Pn,wn={class:"ff-workbench",ref:"refWorkBench"},yn=["id"],Un=Object(s["g"])("div",{class:"up-line"},null,-1),kn=["id"],Hn=Object(s["g"])("div",{class:"up-line"},null,-1),Bn={class:"antet-tab"},Vn=Object(s["g"])("div",{class:"buttons-container"},null,-1),xn={class:"title"},Wn=["id"],Yn=Object(s["g"])("div",{class:"up-line"},null,-1),Gn=["id"],zn=Object(s["g"])("div",{class:"up-line"},null,-1),Xn=["id"],Kn=Object(s["g"])("div",{class:"up-line"},null,-1);function qn(t,e,i,n,a,o){var r=this,c=Object(s["z"])("my-grid"),l=Object(s["z"])("form-partener"),f=Object(s["z"])("form-partener-adrese"),u=Object(s["z"])("form-partener-banc"),h=Object(s["z"])("tab-parteneri");return Object(s["t"])(),Object(s["f"])("div",wn,[Object(s["i"])(h,{ref:"refTab",pConfig:this.tabConfig,onEmitClickTab:o.emitClickTab},{tabs:Object(s["H"])((function(){return[Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("1p")},[Un,Object(s["i"])(c,{ref:"gridParteneri",pConfig:r.gridConfig,onEmitSelectDataOnGrid:o.emitSelectDataOnGrid},null,8,["pConfig","onEmitSelectDataOnGrid"])],8,yn),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("3p")},[Hn,Object(s["g"])("div",Bn,[Vn,Object(s["g"])("div",xn,Object(s["C"])(r.tabs.tab03.title),1)]),Object(s["i"])(c,{ref:r.REF_GRID_INVOICES,pConfig:r.gridConfigPartnerInvoices,onEmitSelectDataGridInvoices:o.emitSelectDataGridInvoices},null,8,["pConfig","onEmitSelectDataGridInvoices"])],8,kn),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("2p")},[Yn,Object(s["i"])(l,{ref:r.REF_PARTENER_EDIT,onEmitNewRecord:o.emitNewRecord},null,8,["onEmitNewRecord"])],8,Wn),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("4p")},[zn,Object(s["i"])(f,{ref:r.REF_LISTA_ADRESS},null,512)],8,Gn),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab("5p")},[Kn,Object(s["i"])(u,{ref:r.REF_LISTA_BANK},null,512)],8,Xn)]})),_:1},8,["pConfig","onEmitClickTab"])],512)}var Qn={class:"antet"},Zn={class:"buttons-container"},Jn={class:"prime-button last-button"},ta={class:"title"},ea={class:"ff-form-table"},ia={class:"label-right bold"},sa=["for"],na={class:"control"},aa={class:"control"},oa={class:"label-right bold"},ra=["for"],ca={class:"control"},la=Object(s["g"])("label",null," cu RO",-1),fa=Object(s["g"])("label",null,"   fara verificare cod fiscal",-1),ua={class:"label-right bold"},ha={class:"control"},da={class:"buttons"};function ga(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("font-awesome-icon"),f=Object(s["z"])("my-button"),u=Object(s["z"])("input-field"),h=Object(s["z"])("type-partener"),d=Object(s["z"])("check-box"),g=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["i"])(g,{ref:this.REF_FROM_PARTNER},{slotTitle:Object(s["H"])((function(){return[Object(s["g"])("div",Qn,[Object(s["g"])("div",Zn,[Object(s["g"])("div",Jn,[Object(s["i"])(f,{ref:r.REF_BUTTON_ADD_PARTENER,onClick:r.setFormNew,heightButton:22,buttonType:2,title:"adauga partener nou",style:Object(s["p"])(r.ICON_ADD_PARTENER.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(l,{icon:r.$constComponent.cfgIconPicture(r.ICON_ADD_PARTENER),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])]),Object(s["g"])("div",ta,Object(s["C"])(r.titleForm),1)])]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("form",null,[Object(s["g"])("table",ea,[Object(s["g"])("tr",null,[Object(s["g"])("td",ia,[Object(s["g"])("label",{for:t.NUME.id},Object(s["C"])(t.NUME.caption),9,sa)]),Object(s["g"])("td",na,[Object(s["i"])(u,{ref:t.NUME.ref,pConfig:t.NUME},null,8,["pConfig"])]),Object(s["g"])("td",aa,[Object(s["i"])(h,{pConfig:t.NOM_TIP_PARTENR,ref:t.NOM_TIP_PARTENR.ref},null,8,["pConfig"])])]),Object(s["g"])("tr",null,[Object(s["g"])("td",oa,[Object(s["g"])("label",{for:t.CUI.id},Object(s["C"])(t.CUI.caption),9,ra)]),Object(s["g"])("td",ca,[Object(s["i"])(u,{ref:t.CUI.ref,pConfig:t.CUI},null,8,["pConfig"]),la,Object(s["i"])(d,{pConfig:t.RO,ref:t.RO.ref},null,8,["pConfig"]),fa,Object(s["i"])(d,{pConfig:t.SKIP_CHECK_COD,ref:t.SKIP_CHECK_COD.ref},null,8,["pConfig"])])]),Object(s["g"])("tr",null,[Object(s["g"])("td",ua,[Object(s["g"])("label",null,"  "+Object(s["C"])(t.REGCOM.caption),1)]),Object(s["g"])("td",ha,[Object(s["i"])(u,{ref:t.REGCOM.ref,pConfig:t.REGCOM},null,8,["pConfig"])])])])])]})),slotButton:Object(s["H"])((function(){return[Object(s["g"])("div",da,[Object(s["i"])(f,{onClick:r.editPartener,heightButton:22,buttonType:0,title:"modific date partener"},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(r.captionButton),1)]})),_:1},8,["onClick"])])]})),_:1},512)],64)}var ma={components:{"form-tab":fn,"validate-window":Wt,"input-field":ki,"type-partener":Le,"check-box":Ce,"my-button":K},name:"form-partener",created:function(){this.REF_FROM_PARTNER="refFormPartner",this.REF_BUTTON_ADD_PARTENER="refButtonAddPartener",this.NUME=this.cfgNume(),this.NOM_TIP_PARTENR=this.cfgTipPartener(),this.CUI=this.cfgCui(),this.RO=this.cfgRO(),this.SKIP_CHECK_COD=this.cfgSkipCheckCode(),this.REGCOM=this.cfgRegCom(),this.MODE=this.$constFROM.MODE_EDIT,this.ICON_ADD_PARTENER=this.$constComponent.ICON_ADD_PERSON("blue"),this.URL_GETDATA_PARTENER=this.$url.getUrl("partenerGetData"),this.URL_EDIT_PARTENER=this.$url.getUrl("editPartener"),this.EMIT_NEW_RECORD="emitNewRecord"},emits:["emitNewRecord"],mounted:function(){},methods:{getDataPartener:function(t){var e=this;this.post.idPk=t,this.$refs[this.REF_FROM_PARTNER].showModal(!0),this.axios.post(this.URL_GETDATA_PARTENER,this.post).then((function(t){e.showModalLoadingDiv=!0,e.dataPartener=t.data.records[0]})).catch((function(t){return console.log(t)})).finally((function(){e.setModeForm(e.$constFROM.MODE_EDIT),e.$refs[e.REF_FROM_PARTNER].showModal(!1)}))},editServerDatePartener:function(){var t=this;if(this.validateForm())return this.$refs.validateWindowRef.show(),!1;this.toServer.senData||this.$refs.refYesNo.show(),this.toServer.senData&&(this.toServer.senData=!1,this.axios.post(this.URL_EDIT_PARTENER,this.post).then((function(e){e.data.succes?(t.MODE==t.$constFROM.MODE_NEW&&(t.post.idPk=e.data.lastId,t.$emit(t.EMIT_NEW_RECORD,t.post.idPk)),t.getDataPartener(t.post.idPk),t.$refs.infoWindowRef.setCaption("Succes"),t.$refs.infoWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.infoWindowRef.show()):(t.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){})))},validateForm:function(){var t=!1;return this.form.message=[],this.$check.validateForm(this.$refs),this.form.message.length>0&&(this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.form.message)),t=!0),t},setModeForm:function(t){this.MODE=t,this.MODE==this.$constFROM.MODE_EDIT&&(this.$refs[this.REF_BUTTON_ADD_PARTENER].disable(!1),this.captionButton="Modific datele",this.$refs.refYesNo.setCaption("Editez"),this.$refs.refYesNo.setMessage("Modific datele?"),this.setPostAction(this.$constComponent.SQL_UPDATE),this.fillForm()),this.MODE==this.$constFROM.MODE_NEW&&(this.captionButton="Adaug partener",this.setPostAction(this.$constComponent.SQL_INSERT),this.resetfillForm())},setFormNew:function(){this.$refs[this.REF_BUTTON_ADD_PARTENER].disable(!0),this.setModeForm(this.$constFROM.MODE_NEW)},editPartener:function(){this.editServerDatePartener()},resetfillForm:function(){this.titleForm="...",this.$refs[this.NUME.ref].setValue(""),this.$refs[this.NOM_TIP_PARTENR.ref].setValue(0),this.$refs[this.CUI.ref].setValue(""),this.$refs[this.RO.ref].setValue(!1),this.$refs[this.SKIP_CHECK_COD.ref].setValue(!1),this.$refs[this.REGCOM.ref].setValue("")},fillForm:function(){this.titleForm=this.dataPartener.cNume,this.$refs[this.NUME.ref].setValue(this.dataPartener.cNume),this.$refs[this.NOM_TIP_PARTENR.ref].setValue(this.dataPartener.id_tip),this.$refs[this.CUI.ref].setValue(this.dataPartener.cui);var t=!1;"RO"===this.dataPartener.ro_&&(t=!0),this.$refs[this.RO.ref].setValue(t),this.$refs[this.SKIP_CHECK_COD.ref].setValue(!1),this.$refs[this.REGCOM.ref].setValue(this.dataPartener.regcom)},emitYesNoButton:function(t){1==t?(this.toServer.senData=!0,this.editServerDatePartener()):this.toServer.senData=!1},setPost:function(t,e){this.post["field"][t.name]=e},setPostAction:function(t){this.post.sqlAction=t},cfgTipPartener:function(){var t=this.$app.cfgSelectSimple("nomTipPartener",this.$url.getUrl("nomTipPartener"),220);return t.setValidateFunction(this.validateTipPartner),t.setCaption("Tip partener"),t.setMandatory(!0),t},cfgNume:function(){var t=this.$app.cfgInputField("nume",0,660);return t.setValidate(3,150),t.setValidateFunction(this.validateNume),t.setCaption("Nume"),t.setMandatory(!0),t.setMaska(""),t},cfgRegCom:function(){var t=this.$app.cfgInputField("regcom",20);return t.setValidate(3,150),t.setValidateFunction(this.validateRegcom),t.setCaption("Cod reg. com."),t.setMandatory(!1),t.setMaska(""),t},cfgCui:function(){var t=this.$app.cfgInputField("cui",15);return t.setValidate(3,13),t.setValidateFunction(this.validateCui),t.setCaption("CUI\\CNP"),t.setMandatory(!0),t.setMaska(""),t},cfgRO:function(){var t=this.$app.cfgCheckBox("ro",!1);return t.setValidateFunction(this.validateRO),t},cfgSkipCheckCode:function(){var t=this.$app.cfgCheckBox("skipCheckCode",!1);return t.setValidateFunction(this.validateSkipCheckCode),t},validateNume:function(){var t=this.$refs[this.NUME.ref].getValue();this.$check.lenghtMinMax(t,this.NUME.minLength,this.NUME.maxLength)||this.form.message.push(this.$app.getFormMessageClass(this.NUME.id,this.NUME.caption,"trebuie sa aiba minim "+this.NUME.minLength+" si maxim "+this.NUME.maxLength+" caractere")),this.setPost(this.NUME,t)},validateTipPartner:function(){var t=this.$refs[this.NOM_TIP_PARTENR.ref].getValue();t.id<1&&this.form.message.push(this.$app.getFormMessageClass(this.NOM_TIP_PARTENR.id,this.NOM_TIP_PARTENR.caption,"trebuie sa alegi organizarea juridica a partenerului")),this.setPost(this.NOM_TIP_PARTENR,t.id)},validateCui:function(){var t=this.$refs[this.CUI.ref].getValue(),e=!1,i=null,s=this.$refs[this.NOM_TIP_PARTENR.ref].getValue();s.candidateKey==this.$constBussines.PERSOANA_FIZICA?(i="CNP invalid",e=this.$check.checkCode(this.$constBussines.RO_CNP,t)):(i="Codul fiscal este invalid",e=this.$check.checkCode(this.$constBussines.RO_CUI,t));var n=this.$refs[this.SKIP_CHECK_COD.ref].getValue();e||n||this.form.message.push(this.$app.getFormMessageClass(this.CUI.id,this.CUI.caption,i)),this.setPost(this.CUI,t)},validateRO:function(){var t=this.$refs[this.RO.ref].getValue();this.setPost(this.RO,t)},validateSkipCheckCode:function(){var t=this.$refs[this.SKIP_CHECK_COD.ref].getValue();this.setPost(this.SKIP_CHECK_COD,t)},validateRegcom:function(){var t=this.$refs[this.REGCOM.ref].getValue();!this.$check.isUndef(t)&&t||(t="-"),this.setPost(this.REGCOM,t)}},data:function(){return{toServer:{senData:!1},form:{message:[]},captionButton:"Modific datele",dataPartener:null,titleForm:"...",post:{idPk:null,field:{},sqlAction:null}}}};const pa=N()(ma,[["render",ga]]);var ba=pa,Oa={class:"antet"},Ta={class:"buttons-container"},Ea={class:"prime-button last-button"},_a={class:"title"},Ca={class:"ff-form-table"},va={class:"label-left bold"},Ra=["for"],Aa={class:"control"},Ia={class:"control"},Na={class:"control"},ja={class:"buttons"},Da=Object(s["h"])("       "),La=Object(s["g"])("br",null,null,-1);function $a(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("font-awesome-icon"),f=Object(s["z"])("my-button"),u=Object(s["z"])("input-field"),h=Object(s["z"])("my-dropdown-search"),d=Object(s["z"])("my-list-adress"),g=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["i"])(c,{ref:"refYesNoNewAdress",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButtonAdaugAdressaNou},null,8,["onEmitYesNoButton"]),Object(s["i"])(g,{ref:this.REF_FROM},{slotTitle:Object(s["H"])((function(){return[Object(s["g"])("div",Oa,[Object(s["g"])("div",Ta,[Object(s["g"])("div",Ea,[Object(s["i"])(f,{ref:r.REF_BUTTON_ADD_ADRESS,onClick:r.setFormNewAdress,heightButton:22,buttonType:2,title:"adauga adresa noua",style:Object(s["p"])(r.ICON_ADD_PARTENER.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(l,{icon:r.$constComponent.cfgIconPicture(r.ICON_ADD_PARTENER),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])]),Object(s["g"])("div",_a,Object(s["C"])(r.titleForm),1)])]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("table",Ca,[Object(s["g"])("tr",null,[Object(s["g"])("td",va,[Object(s["g"])("label",{for:t.INPUT_ADRESA.id},Object(s["C"])(t.INPUT_ADRESA.caption),9,Ra)]),Object(s["g"])("td",Aa,[Object(s["i"])(u,{ref:t.INPUT_ADRESA.ref,pConfig:t.INPUT_ADRESA},null,8,["pConfig"])]),Object(s["g"])("td",Ia,[Object(s["i"])(h,{pUrlData:"searchTableTest",ref:t.INPUT_LOCALITATE.ref,pConfig:t.INPUT_LOCALITATE},null,8,["pConfig"])]),Object(s["g"])("td",Na,[Object(s["g"])("div",ja,[Da,Object(s["i"])(f,{ref:r.REF_BUTTON_UPDATE_ADRESS,onClick:r.serverEditAdress,heightButton:22,buttonType:0,title:"modific adresa"},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(r.captionButton),1)]})),_:1},8,["onClick"])])])])]),La,Object(s["i"])(d,{ref:r.REF_LISTA_ADRESE,pConfig:r.cfgListaAdresaConfig,onEmitAdresaImplicita:o.emitAdresaImplicita,onEmitListRowSelection:o.emitListAdressRowSelection},null,8,["pConfig","onEmitAdresaImplicita","onEmitListRowSelection"])]})),slotButton:Object(s["H"])((function(){return[]})),_:1},512)],64)}var Sa={components:{"form-tab":fn,"validate-window":Wt,"input-field":ki,"my-dropdown-search":ze,"check-box":Ce,"my-button":K,"my-list-adress":Dn},name:"form-partener-adrese",created:function(){this.REF_FROM="refForm",this.REF_BUTTON_ADD_ADRESS="refButtonAddAdress",this.REF_BUTTON_UPDATE_ADRESS="refButtonUpdateAdress",this.REF_LISTA_ADRESE="refListaAdresa",this.INPUT_ADRESA=this.cfgAdresa(),this.INPUT_LOCALITATE=this.cfgLocalitate(),this.URL_SET_DEFAULT_ADRESS=this.$url.getUrl("setActivAdress"),this.URL_SET_EDIT_ADRESS=this.$url.getUrl("editAdressPartener"),this.ICON_ADD_PARTENER=this.$constComponent.ICON_PLUS_SQUARE("blue"),this.cfgListaAdresaConfig={header:[this.$constList.getHeader(1,"Adresa",700,"cAdresa",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(2,"Localitate",180,"localitate",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(3,"Adresa implicita",110,"null",this.$constList.HEADER.CAPTION_TYPE_ACTION)],recordActionButon:[this.$constList.getActionButton(5,"adresa implicita","emitAdresaImplicita",null,this.$constList.ACTION_BUTTON.TYPE_CHECKBOX,this.$app.cfgCheckBox("ro",!1))],cfg:{urlData:"partenerAdressList",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection"}},this.runtime={mode:this.$constFROM.MODE_EDIT,sendDataToServer:!1,showModalLoadingDiv:!1,message:[],idPartner:-1,post:{idPk:null,field:{},sqlAction:null},postAdress:{idPk:null,idPartner:null,sqlAction:null,field:{}},selectRecordFromLista:{idPk:null,localitate:null,adresa:null,idLocalitate:null}},this.cfgtime={}},emits:["emitNewRecord"],mounted:function(){this.$refs[this.REF_BUTTON_UPDATE_ADRESS].disable(!0)},methods:{showList:function(t){this.$refs[this.REF_BUTTON_UPDATE_ADRESS].disable(!0),this.$refs[this.REF_LISTA_ADRESE].showList(t)},serverEditAdress:function(){var t=this;if(this.validateForm())return this.$refs.validateWindowRef.show(),!1;if(!this.runtime.sendDataToServer){var e="nimic";this.runtime.mode==this.$constFROM.MODE_EDIT?e="Editez adresa ?":this.runtime.mode==this.$constFROM.MODE_NEW&&(e="Adaug adresa ? <br> Adresa noua devine automat adresa implicita."),this.$refs.refYesNoNewAdress.setCaption("Adresa"),this.$refs.refYesNoNewAdress.setMessage(e),this.$refs.refYesNoNewAdress.show()}this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.axios.post(this.URL_SET_EDIT_ADRESS,this.runtime.postAdress).then((function(e){e.data.succes&&(t.runtime.showModalLoadingDiv=!0)})).catch((function(t){return console.log(t)})).finally((function(){t.runtime.showModalLoadingDiv=!1,t.runtime.mode==t.$constFROM.MODE_NEW&&t.setModeForm(t.$constFROM.MODE_EDIT),t.resetfillForm(),t.showList({idPartner:t.runtime.postAdress.idPartner})})))},serverCheckAdress:function(){var t=this;this.runtime.sendDataToServer||(this.$refs.refYesNo.setCaption("Adresa partener"),this.$refs.refYesNo.setMessage("Activez adresa selectata?"),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.axios.post(this.URL_SET_DEFAULT_ADRESS,this.runtime.postAdress).then((function(e){e.data.succes?t.runtime.showModalLoadingDiv=!0:(t.$refs.validateWindowRef.setCaption("Adresa nu poate fi setata"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.runtime.showModalLoadingDiv=!1,t.showList({idPartner:t.runtime.postAdress.idPartner})})))},setFormNewAdress:function(){this.setModeForm(this.$constFROM.MODE_NEW)},setModeForm:function(t){this.runtime.mode=t,this.runtime.mode==this.$constFROM.MODE_EDIT&&(this.runtime.postAdress.sqlAction=this.$constComponent.SQL_UPDATE,this.$refs[this.REF_BUTTON_ADD_ADRESS].disable(!1),this.captionButton="Modific adresa"),this.runtime.mode==this.$constFROM.MODE_NEW&&(this.$refs[this.REF_BUTTON_ADD_ADRESS].disable(!0),this.runtime.postAdress.sqlAction=this.$constComponent.SQL_INSERT,this.captionButton="Adaug adresa",this.resetfillForm(),this.$refs[this.REF_BUTTON_UPDATE_ADRESS].disable(!1))},emitListAdressRowSelection:function(t){if("DIV"==t.tagName){for(var e=t.closest("tr"),i=0;i<e.children.length;i++)"cAdresa"==e.children[i].getAttribute("field")?this.runtime.selectRecordFromLista.adresa=e.children[i].firstChild.textContent:"localitate"==e.children[i].getAttribute("field")&&(this.runtime.selectRecordFromLista.localitate=e.children[i].firstChild.textContent);this.runtime.selectRecordFromLista.idPk=e.getAttribute("idPk"),this.runtime.selectRecordFromLista.idLocalitate=this.$vanilla.getAtributeValueFromArrayObject(this.$refs[this.REF_LISTA_ADRESE].getDataList(),"id",this.runtime.selectRecordFromLista.idPk,"id_localitate"),this.runtime.postAdress.idPk=this.runtime.selectRecordFromLista.idPk,this.setModeForm(this.$constFROM.MODE_EDIT),this.fillForm()}},emitAdresaImplicita:function(t){this.runtime.postAdress.idPk=t.getAttribute("idPk"),this.runtime.postAdress.idPartner=this.runtime.idPartner,t.checked?(t.checked=!1,this.serverCheckAdress()):t.checked=!0},resetfillForm:function(){this.$refs[this.INPUT_ADRESA.ref].setValue(""),this.$refs[this.INPUT_LOCALITATE.ref].setDataSelected({id:-1,caption:""})},fillForm:function(){this.$refs[this.INPUT_ADRESA.ref].setValue(this.runtime.selectRecordFromLista.adresa),this.$refs[this.INPUT_LOCALITATE.ref].setDataSelected({id:this.runtime.selectRecordFromLista.idLocalitate,caption:this.runtime.selectRecordFromLista.localitate}),this.$refs[this.REF_BUTTON_UPDATE_ADRESS].disable(!1)},setIdAndTitle:function(t,e){this.runtime.idPartner=e,this.titleForm=t},emitYesNoButtonAdaugAdressaNou:function(t){1==t?(this.runtime.sendDataToServer=!0,this.serverEditAdress()):this.runtime.sendDataToServer=!1},emitYesNoButton:function(t){1==t?(this.runtime.sendDataToServer=!0,this.serverCheckAdress()):this.runtime.sendDataToServer=!1},setPostAdress:function(t,e){this.runtime.postAdress["field"][t.name]=e},validateForm:function(){var t=!1;return this.runtime.postAdress.idPartner=this.runtime.idPartner,this.runtime.message=[],this.$check.validateForm(this.$refs),this.runtime.message.length>0&&(this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.message)),t=!0),t},validateAdress:function(){var t=this.$refs[this.INPUT_ADRESA.ref].getValue();this.$check.lenghtMinMax(t,this.INPUT_ADRESA.minLength,this.INPUT_ADRESA.maxLength)||this.runtime.message.push(this.$app.getFormMessageClass(this.INPUT_ADRESA.id,this.INPUT_ADRESA.caption,"trebuie sa aiba minim "+this.INPUT_ADRESA.minLength+" si maxim "+this.INPUT_ADRESA.maxLength+" caractere")),this.setPostAdress(this.INPUT_ADRESA,t)},validateLocalitate:function(){var t=this.$refs[this.INPUT_LOCALITATE.ref].getValue(),e=-1;this.$check.isUndef(t)||parseInt(t.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(this.INPUT_LOCALITATE.id,this.INPUT_LOCALITATE.caption,"Trebuie sa alegi localitatea")):e=t.id,this.setPostAdress(this.INPUT_LOCALITATE,e)},cfgLocalitate:function(){var t=this.$app.cfgSelectSearch("nomLocalitati",this.$url.getUrl("nomLocalitati"),220);return t.setValidateFunction(this.validateLocalitate),t.setCaption("Localitate"),t.setMandatory(!0),t},cfgAdresa:function(){var t=this.$app.cfgInputField("adresa",70,600);return t.setValidate(6,200),t.setValidateFunction(this.validateAdress),t.setCaption("Adresa"),t.setMandatory(!0),t.setMaska(""),t},setPost:function(t,e){},setPostAction:function(t){}},data:function(){return{captionButton:"Modific adresa",form:{message:[]},titleForm:"titlu programing time ... "}}};const Fa=N()(Sa,[["render",$a]]);var Pa=Fa,Ma={class:"antet"},wa={class:"buttons-container"},ya={class:"prime-button last-button"},Ua={class:"title"},ka={class:"ff-form-table"},Ha={class:"label-left bold"},Ba=["for"],Va={class:"control"},xa={class:"label-left bold"},Wa=["for"],Ya={class:"control"},Ga={class:"control"},za={class:"buttons"},Xa=Object(s["h"])("     "),Ka=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"IBAN")],-1),qa={class:"control"},Qa=Object(s["g"])("tr",null,null,-1),Za=Object(s["g"])("br",null,null,-1);function Ja(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("font-awesome-icon"),f=Object(s["z"])("my-button"),u=Object(s["z"])("input-field"),h=Object(s["z"])("my-iban"),d=Object(s["z"])("my-list"),g=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["i"])(c,{ref:"refYesNoNew",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButtonNew},null,8,["onEmitYesNoButton"]),Object(s["i"])(g,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[Object(s["g"])("div",Ma,[Object(s["g"])("div",wa,[Object(s["g"])("div",ya,[Object(s["i"])(f,{ref:r.cfgtime.REF_BUTTON_ADD_CONT,onClick:r.setFormNew,heightButton:22,buttonType:2,title:"adauga cont nou",style:Object(s["p"])(r.cfgtime.ICON_ADD_CONT.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(l,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_ADD_CONT),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])]),Object(s["g"])("div",Ua,Object(s["C"])(r.titleForm),1)])]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("table",ka,[Object(s["g"])("tr",null,[Object(s["g"])("td",Ha,[Object(s["g"])("label",{for:r.cfgtime.INPUT_BANCA.id},Object(s["C"])(r.cfgtime.INPUT_BANCA.caption),9,Ba)]),Object(s["g"])("td",Va,[Object(s["i"])(u,{ref:r.cfgtime.INPUT_BANCA.ref,pConfig:r.cfgtime.INPUT_BANCA},null,8,["pConfig"])]),Object(s["g"])("td",xa,[Object(s["g"])("label",{for:r.cfgtime.INPUT_SUCURSALA.id},Object(s["C"])(r.cfgtime.INPUT_SUCURSALA.caption),9,Wa)]),Object(s["g"])("td",Ya,[Object(s["i"])(u,{ref:r.cfgtime.INPUT_SUCURSALA.ref,pConfig:r.cfgtime.INPUT_SUCURSALA},null,8,["pConfig"])]),Object(s["g"])("td",Ga,[Object(s["g"])("div",za,[Xa,Object(s["i"])(f,{ref:r.cfgtime.REF_BUTTON_UPDATE_ACCOUNT,onClick:r.serverEditAccount,heightButton:22,buttonType:0,title:"modific contul"},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(r.captionRecordButton),1)]})),_:1},8,["onClick"])])])]),Ka,Object(s["g"])("td",qa,[Object(s["i"])(h,{ref:r.cfgtime.INPUT_IBAN.ref,pConfig:r.cfgtime.INPUT_IBAN},null,8,["pConfig"])]),Qa]),Za,Object(s["i"])(d,{ref:r.cfgtime.REF_LISTA_BANK,pConfig:r.cfgtime.cfgListaBank,onEmitContImplicit:o.emitContImplicit,onEmitListRowSelection:o.emitListBankRowSelection},null,8,["pConfig","onEmitContImplicit","onEmitListRowSelection"])]})),slotButton:Object(s["H"])((function(){return[]})),_:1},512)],64)}var to={class:"ff-iban"},eo={class:"container"};function io(t,e,i,n,a,o){var r=Object(s["z"])("input-field");return Object(s["t"])(),Object(s["f"])("div",to,[Object(s["g"])("div",eo,[Object(s["i"])(r,{ref:t.f01.ref,pConfig:t.f01},null,8,["pConfig"]),Object(s["i"])(r,{ref:t.f02.ref,pConfig:t.f02},null,8,["pConfig"]),Object(s["i"])(r,{ref:t.f03.ref,pConfig:t.f03},null,8,["pConfig"]),Object(s["i"])(r,{ref:t.f04.ref,pConfig:t.f04},null,8,["pConfig"]),Object(s["i"])(r,{ref:t.f05.ref,pConfig:t.f05},null,8,["pConfig"]),Object(s["i"])(r,{ref:t.f06.ref,pConfig:t.f06},null,8,["pConfig"])])])}var so={name:"my-iban",props:{pConfig:{type:Object,required:!0}},components:{"input-field":ki},created:function(){this.mask="XXXX",this.f01=this.cfg01(),this.f02=this.cfg02(),this.f03=this.cfg03(),this.f04=this.cfg04(),this.f05=this.cfg05(),this.f06=this.cfg06()},directives:{},mounted:function(){},methods:{getValue:function(){var t=this.$refs[this.f01.ref].getValue()+this.$refs[this.f02.ref].getValue()+this.$refs[this.f03.ref].getValue()+this.$refs[this.f04.ref].getValue()+this.$refs[this.f05.ref].getValue()+this.$refs[this.f06.ref].getValue();return t},setValue:function(t){this.resetValue();for(var e=this.$string.splitStringIn(t,4),i=0;i<e.length;i++)0==i?this.$refs[this.f01.ref].setValue(e[i]):1==i?this.$refs[this.f02.ref].setValue(e[i]):2==i?this.$refs[this.f03.ref].setValue(e[i]):3==i?this.$refs[this.f04.ref].setValue(e[i]):4==i?this.$refs[this.f05.ref].setValue(e[i]):5==i&&this.$refs[this.f06.ref].setValue(e[i])},resetValue:function(){this.$refs[this.f01.ref].setValue(""),this.$refs[this.f02.ref].setValue(""),this.$refs[this.f03.ref].setValue(""),this.$refs[this.f04.ref].setValue(""),this.$refs[this.f05.ref].setValue(""),this.$refs[this.f06.ref].setValue("")},keydownPress:function(){},cfg01:function(){var t=this.$app.cfgInputField("f01",0,40);return t.setValidate(4,4),t.setValidateFunction(this.validate01),t.setCaption("Campul 1"),t.setMandatory(!0),t.setMaska(this.mask),t},cfg02:function(){var t=this.$app.cfgInputField("f02",0,40);return t.setValidate(4,4),t.setValidateFunction(this.validate02),t.setCaption("Campul 2"),t.setMandatory(!0),t.setMaska(this.mask),t},cfg03:function(){var t=this.$app.cfgInputField("f03",0,40);return t.setValidate(4,4),t.setValidateFunction(this.validate03),t.setCaption("Campul 3"),t.setMandatory(!0),t.setMaska(this.mask),t},cfg04:function(){var t=this.$app.cfgInputField("f04",0,40);return t.setValidate(4,4),t.setValidateFunction(this.validate04),t.setCaption("Campul 4"),t.setMandatory(!0),t.setMaska(this.mask),t},cfg05:function(){var t=this.$app.cfgInputField("f05",0,40);return t.setValidate(4,4),t.setValidateFunction(this.validate05),t.setCaption("Campul 5"),t.setMandatory(!0),t.setMaska(this.mask),t},cfg06:function(){var t=this.$app.cfgInputField("f06",0,40);return t.setValidate(4,4),t.setValidateFunction(this.validate06),t.setCaption("Campul 6"),t.setMandatory(!0),t.setMaska(this.mask),t}},data:function(){return{}}};const no=N()(so,[["render",io]]);var ao=no,oo={components:{"form-tab":fn,"validate-window":Wt,"my-button":K,"my-iban":ao,"my-list":Dn,"input-field":ki},name:"form-partener-banc_acount",created:function(){this.REF_FORM="refForm",this.REF_LISTA_BANC_COUNT="refListaBancCount",this.runtime={mode:this.$constFROM.MODE_EDIT,sendDataToServer:!1,message:[],idPartner:-1,post:{idPk:null,field:{},sqlAction:null},postAccount:{idPk:null,idPartner:null,sqlAction:null,field:{}},selectRecordFromLista:{idPk:null,banca:null,sucursala:null,iban:null}},this.cfgtime={REF_BUTTON_ADD_CONT:"refButtonAddCont",REF_LISTA_BANK:"refListaCountBank",REF_BUTTON_UPDATE_ACCOUNT:"refButtonUpdateAccount",ICON_ADD_CONT:this.$constComponent.ICON_PLUS_SQUARE("blue"),URL_SET_DEFAULT_ACCOUNT:this.$url.getUrl("partenerSetBancCont"),URL_EDIT_ACCOUNT:this.$url.getUrl("editAccountPartener"),INPUT_BANCA:this.cfgBanca(),INPUT_SUCURSALA:this.cfgSucursala(),INPUT_IBAN:this.cfgInputIBAN(),cfgListaBank:{header:[this.$constList.getHeader(1,"Banca",300,"cBanca",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(2,"Sucursala",370,"cSucursala",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(3,"IBAN",200,"cIBAN",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(4,"Adresa implicita",110,"null",this.$constList.HEADER.CAPTION_TYPE_ACTION)],recordActionButon:[this.$constList.getActionButton(5,"cont implicit","emitContImplicit",null,this.$constList.ACTION_BUTTON.TYPE_CHECKBOX,this.$app.cfgCheckBox("contActiv",!1))],cfg:{urlData:"partenerListBancCont",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection"}}}},emits:["emitNewRecord"],mounted:function(){},methods:{setFormNew:function(){this.privateSetModeForm(this.$constFROM.MODE_NEW)},showList:function(t){this.privateFillFormReset(),this.$refs[this.cfgtime.REF_LISTA_BANK].showList(t),this.privateSetModeForm(this.$constFROM.MODE_EDIT),this.$refs[this.cfgtime.REF_BUTTON_UPDATE_ACCOUNT].disable(!0)},setIdAndTitle:function(t,e){this.runtime.idPartner=e,this.titleForm=t},serverEditAccount:function(){var t=this;if(this.validateForm())return this.$refs.validateWindowRef.show(),!1;if(!this.runtime.sendDataToServer){var e="nimic";this.runtime.mode==this.$constFROM.MODE_EDIT?e="Editez contul ?":this.runtime.mode==this.$constFROM.MODE_NEW&&(e="Adaug contul ? <br> Contul nou devine automat contul implicit."),this.$refs.refYesNoNew.setCaption("Adresa"),this.$refs.refYesNoNew.setMessage(e),this.$refs.refYesNoNew.show()}this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_EDIT_ACCOUNT,this.runtime.postAccount).then((function(t){t.data.succes})).catch((function(t){return console.log(t)})).finally((function(){t.showList({idPartner:t.runtime.postAccount.idPartner}),t.$refs[t.REF_FORM].showModal(!1)})))},serverCheckAccount:function(){var t=this;this.runtime.sendDataToServer||(this.$refs.refYesNo.setCaption("Cont partener"),this.$refs.refYesNo.setMessage("Activez contul bancar selectat?"),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.axios.post(this.cfgtime.URL_SET_DEFAULT_ACCOUNT,this.runtime.postAccount).then((function(e){e.data.succes?t.runtime.showModalLoadingDiv=!0:(t.$refs.validateWindowRef.setCaption("Contul nu poate fi setat"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.runtime.showModalLoadingDiv=!1,t.showList({idPartner:t.runtime.postAccount.idPartner})})))},privateSetPostAccount:function(t,e){this.runtime.postAccount["field"][t.name]=e},privateFillForm:function(){this.$refs[this.cfgtime.INPUT_BANCA.ref].setValue(this.runtime.selectRecordFromLista.banca),this.$refs[this.cfgtime.INPUT_SUCURSALA.ref].setValue(this.runtime.selectRecordFromLista.sucursala),this.$refs[this.cfgtime.INPUT_IBAN.ref].setValue(this.runtime.selectRecordFromLista.iban)},privateFillFormReset:function(){this.runtime.selectRecordFromLista.banca="",this.runtime.selectRecordFromLista.sucursala="",this.runtime.selectRecordFromLista.iban="",this.privateFillForm()},privateSetModeForm:function(t){this.runtime.mode=t,this.runtime.mode==this.$constFROM.MODE_EDIT&&(this.runtime.postAccount.sqlAction=this.$constComponent.SQL_UPDATE,this.$refs[this.cfgtime.REF_BUTTON_UPDATE_ACCOUNT].disable(!1),this.captionRecordButton="Modific contul",this.$refs[this.cfgtime.REF_BUTTON_ADD_CONT].disable(!1)),this.runtime.mode==this.$constFROM.MODE_NEW&&(this.$refs[this.cfgtime.REF_BUTTON_ADD_CONT].disable(!0),this.runtime.postAccount.sqlAction=this.$constComponent.SQL_INSERT,this.captionRecordButton="Adaug cont",this.privateFillFormReset(),this.$refs[this.cfgtime.REF_BUTTON_UPDATE_ACCOUNT].disable(!1))},emitListBankRowSelection:function(t){if("DIV"==t.tagName){for(var e=t.closest("tr"),i=0;i<e.children.length;i++)"cBanca"==e.children[i].getAttribute("field")?this.runtime.selectRecordFromLista.banca=e.children[i].firstChild.textContent:"cSucursala"==e.children[i].getAttribute("field")?this.runtime.selectRecordFromLista.sucursala=e.children[i].firstChild.textContent:"cIBAN"==e.children[i].getAttribute("field")&&(this.runtime.selectRecordFromLista.iban=e.children[i].firstChild.textContent);this.runtime.selectRecordFromLista.idPk=e.getAttribute("idPk"),this.runtime.postAccount.idPk=this.runtime.selectRecordFromLista.idPk,this.privateSetModeForm(this.$constFROM.MODE_EDIT),this.privateFillForm()}},emitContImplicit:function(t){this.runtime.postAccount.idPk=t.getAttribute("idPk"),this.runtime.postAccount.idPartner=this.runtime.idPartner,t.checked?(t.checked=!1,this.serverCheckAccount()):t.checked=!0},emitYesNoButtonNew:function(t){1==t?(this.runtime.sendDataToServer=!0,this.serverEditAccount()):this.runtime.sendDataToServer=!1},emitYesNoButton:function(t){1==t?(this.runtime.sendDataToServer=!0,this.serverCheckAccount()):this.runtime.sendDataToServer=!1},setPostBankCount:function(t,e){this.runtime.postAdress["field"][t.name]=e},validateForm:function(){var t=!1;return this.runtime.message=[],this.$check.validateForm(this.$refs),this.runtime.postAccount.idPartner=this.runtime.idPartner,this.runtime.message.length>0&&(this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.message)),t=!0),t},validateBanca:function(){var t=this.cfgtime.INPUT_BANCA,e=this.$refs[t.ref].getValue();this.$check.lenghtMinMax(e,t.minLength,t.maxLength)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"trebuie sa aiba minim "+t.minLength+" si maxim "+t.maxLength+" caractere")),this.privateSetPostAccount(t,e)},validateSucursala:function(){var t=this.cfgtime.INPUT_SUCURSALA,e=this.$refs[t.ref].getValue();this.$check.lenghtMinMax(e,t.minLength,t.maxLength)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"trebuie sa aiba minim "+t.minLength+" si maxim "+t.maxLength+" caractere")),this.privateSetPostAccount(t,e)},validateIban:function(){var t=this.cfgtime.INPUT_IBAN,e=this.$refs[t.ref].getValue(),i=this.$check.checkCode(this.$constBussines.RO_IBAN,e);i||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption," Cont IBAN incorect!")),this.privateSetPostAccount(t,e)},cfgBanca:function(){var t=this.$app.cfgInputField("banca",0,350);return t.setValidate(1,30),t.setValidateFunction(this.validateBanca),t.setCaption("Banca"),t.setMandatory(!0),t.setMaska(""),t},cfgSucursala:function(){var t=this.$app.cfgInputField("sucursala",0,400);return t.setValidate(1,30),t.setValidateFunction(this.validateSucursala),t.setCaption("Sucursala"),t.setMandatory(!0),t.setMaska(""),t},cfgInputIBAN:function(){var t=this.$app.cfgInputIBAN("inputIban",null);return t.setValidateFunction(this.validateIban),t.setCaption("IBAN"),t.setMandatory(!0),t}},data:function(){return{captionRecordButton:"Modific contul",titleForm:"titlu programing time ... "}}};const ro=N()(oo,[["render",Ja]]);var co=ro,lo={components:{"tab-parteneri":ws,"my-grid":Vi,"form-partener":ba,"form-partener-adrese":Pa,"form-partener-banc":co,"my-button":K,"my-list":Dn},name:"view-parteneri",created:function(){this.REF_PARTENER_EDIT="refPartenerEdit",this.REF_GRID_INVOICES="refGridParteneriInvoices",this.REF_LISTA_ADRESS="refListaAdress",this.REF_LISTA_BANK="refListaBanca",this.TAB_EDIT={id:"2p",urlGetDate:this.$url.getUrl("partenerGetData")},this.TAB_PARTENERI={id:"1p"},this.TAB_FACTURI={id:"3p",isLoading:!1},this.TAB_ADRESE={id:"4p",isLoading:!1},this.TAB_BANC_COUNT={id:"5p",isLoading:!1},this.ICON_ADD_PARTENER=this.$constComponent.ICON_ADD_PERSON("blue"),this.runtime={additionalFilter:new Array,sendDataToServer:!1},this.tabConfig={header:[this.$constTab.getHeader("1p","Parteneri"),this.$constTab.getHeader("3p","Facturi"),this.$constTab.getHeader("2p","Date partener"),this.$constTab.getHeader("4p","Adrese"),this.$constTab.getHeader("5p","Conturi bancare")],actionButtonHeader:[],defaultTabId:"1p",tabsWidth:"1050px"},this.gridConfig={header:[this.$constGrid.HEADER.getHeader(1,"Nume",450,"cNume",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!0,!0,!0,null,null),this.$constGrid.HEADER.getHeader(2,"Organizare",180,"cTipAbrev",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!0,!0,!0,"t_tip_organizare_juridica.cTipAbrev",null),this.$constGrid.HEADER.getHeader(3,"Registrul comertului",180,"regcom",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!0,!1,!0,null,null),this.$constGrid.HEADER.getHeader(4,"RO",70,"ro_",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!1,!1,!0,null,null),this.$constGrid.HEADER.getHeader(5,"Cui",100,"cui",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!1,!1,!0,null,null)],actionButtonHeader:[],returnField:["cNume","cui"],cfg:{width:1100,height:500,urlData:"gridListParteneri",loadOnCreate:!0},toolbar:{show:!0,fieldShow:{field:["cNume"],separator:" ",includeIdPk:!0},actionButton:[]},emitSelectData:"emitSelectDataOnGrid",paginate:{nrButtonShow:10,recordsPerPage:21}},this.gridConfigPartnerInvoices={header:[this.$constGrid.HEADER.getHeader(1,"Data factura",120,"data_f",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!0,!0,!0,null,this.$constGrid.ALIGN_TEXT_CENTER),this.$constGrid.HEADER.getHeader(2,"Nr. factura",150,"nr_f",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!0,!1,!0,null,null),this.$constGrid.HEADER.getHeader(3,"TVA",30,"nProcTVA",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!1,!1,!1,null,this.$constGrid.ALIGN_TEXT_CENTER),this.$constGrid.HEADER.getHeader(4,"Total fara TVA",110,"nSumaFaraTva",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!1,!1,!1,null,this.$constGrid.ALIGN_TEXT_RIGHT),this.$constGrid.HEADER.getHeader(5,"Total TVA",110,"nSumaTVA",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!1,!1,!1,null,this.$constGrid.ALIGN_TEXT_RIGHT),this.$constGrid.HEADER.getHeader(6,"Total",120,"nTotal",this.$constGrid.HEADER.CAPTION_TYPE_FIELD,!1,!1,!1,null,this.$constGrid.ALIGN_TEXT_RIGHT)],actionButtonHeader:[],returnField:["data_f","nr_f"],cfg:{width:1100,height:500,urlData:"invocesListPartener",loadOnCreate:!1},toolbar:{show:!0,fieldShow:{field:["data_f","nr_f"],separator:" ",includeIdPk:!0},actionButton:[]},emitSelectData:"emitSelectDataGridInvoices",paginate:{nrButtonShow:10,recordsPerPage:19}}},mounted:function(){this.$refs.refTab.goToTab(this.tabConfig.defaultTabId),this.emitSelectDataOnGrid()},methods:{emitNewRecord:function(t){this.post.idPk=t,this.changePartenerSelected=!0,this.emitSelectDataOnGrid()},emitClickTab:function(t){t==this.TAB_EDIT.id?this.$refs[this.REF_PARTENER_EDIT].getDataPartener(this.post.idPk):t==this.TAB_PARTENERI.id?this.changePartenerSelected&&(this.changePartenerSelected=!1,this.$refs.gridParteneri.resetSelectionRow(),this.additionlFilterInvoiceData()):t==this.TAB_FACTURI.id?this.TAB_FACTURI.isLoading||(this.TAB_FACTURI.isLoading=!0,this.$refs[this.REF_GRID_INVOICES].setAdditionalFilter(this.runtime.additionalFilter),this.$refs[this.REF_GRID_INVOICES].goToPage(null,"1")):t==this.TAB_ADRESE.id?this.TAB_ADRESE.isLoading||(this.TAB_ADRESE.isLoading=!0,this.$refs[this.REF_LISTA_ADRESS].showList({idPartner:this.post.idPk})):t==this.TAB_BANC_COUNT.id&&(this.TAB_BANC_COUNT.isLoading||(this.TAB_BANC_COUNT.isLoading=!0,this.$refs[this.REF_LISTA_BANK].showList({idPartner:this.post.idPk})))},emitSelectDataGridInvoices:function(){},emitSelectDataOnGrid:function(t){var e="on";this.$check.isUndef(t)?(e="off",this.post.idPk=-1):(this.post.idPk=t.idPk,this.TAB_FACTURI.isLoading=!1,this.TAB_ADRESE.isLoading=!1,this.TAB_BANC_COUNT.isLoading=!1,this.tabs.tab03.title=t.cNume+"    ["+t.cui+"]",this.$refs[this.REF_LISTA_ADRESS].setIdAndTitle(this.tabs.tab03.title,this.post.idPk),this.$refs[this.REF_LISTA_BANK].setIdAndTitle(this.tabs.tab03.title,this.post.idPk)),this.$refs.refTab.tabOnOff("2p",e),this.$refs.refTab.tabOnOff("3p",e),this.$refs.refTab.tabOnOff("4p",e),this.$refs.refTab.tabOnOff("5p",e),this.additionlFilterInvoiceData()},additionlFilterInvoiceData:function(){this.runtime.additionalFilter=[{id_part:this.post.idPk}]}},data:function(){return{post:{idPk:null},postAdress:{idPk:null},changePartenerSelected:!1,tabs:{tab01:{},tab02:{},tab03:{title:"..."},tab04:{},tab05:{}}}}};const fo=N()(lo,[["render",qn]]);var uo=fo,ho={class:"ff-workbench",ref:"refWorkBench"},go=["id"],mo=Object(s["g"])("div",{class:"up-line"},null,-1),po=["id"],bo=Object(s["g"])("div",{class:"up-line"},null,-1);function Oo(t,e,i,n,a,o){var r=this,c=Object(s["z"])("invoice-make"),l=Object(s["z"])("invoice-list"),f=Object(s["z"])("my-tab");return Object(s["t"])(),Object(s["f"])("div",ho,[Object(s["i"])(f,{ref:"refTab",pConfig:this.cfgtime.tabConfig,onEmitClickTab:o.emitClickTab},{tabs:Object(s["H"])((function(){return[Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab(r.cfgtime.tabConfig.TAB_NEW.id)},[mo,Object(s["i"])(c,{ref:r.cfgtime.REF_CREATE_INVOICE},null,512)],8,go),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab(r.cfgtime.tabConfig.TAB_LIST.id)},[bo,Object(s["i"])(l,{ref:r.cfgtime.REF_INVOICE_LIST},null,512)],8,po)]})),_:1},8,["pConfig","onEmitClickTab"])],512)}var To={class:"antet"},Eo={class:"title"},_o={class:"ff-form-table"},Co={class:"label-left bold"},vo=["for"],Ro={class:"control"},Ao={class:"label-left bold"},Io=["for"],No={class:"control"},jo={class:"control"},Do={class:"control"},Lo={class:"control"},$o={class:"toolbar-icon-inline"},So={class:"divButton"},Fo=Object(s["h"])("    "),Po={class:"divButton"},Mo=Object(s["h"])("    "),wo={class:"ff-form-table"},yo={class:"label-left bold"},Uo=["for"],ko={class:"control"},Ho=Object(s["h"])("    "),Bo={class:"label-left bold"},Vo=["for"],xo={class:"control"},Wo={class:"label-left bold"},Yo=["for"],Go={class:"control"},zo=Object(s["h"])("     "),Xo={class:"control"},Ko={class:"buttons"},qo=Object(s["h"])("Adaug"),Qo=Object(s["g"])("br",null,null,-1),Zo={class:"form-rezumat-right"},Jo={class:"ff-form-table"},tr=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"Valoare fara TVA:")],-1),er={class:"control"},ir=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Valoare TVA:")],-1),sr={class:"control"},nr=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Total:")],-1),ar={class:"control"},or=Object(s["g"])("td",{class:"control"},[Object(s["g"])("div",{style:{width:"250px"}})],-1),rr={class:"buttons-left"},cr=Object(s["h"])("Salvez factura");function lr(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("my-datetime"),f=Object(s["z"])("my-dropdown-search"),u=Object(s["z"])("my-dds"),h=Object(s["z"])("my-inputField"),d=Object(s["z"])("font-awesome-icon"),g=Object(s["z"])("my-button"),m=Object(s["z"])("my-list"),p=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNoDeleteAntet",cWidth:400,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoDeleteAntet},null,8,["onEmitYesNoButton"]),Object(s["i"])(c,{ref:"refYesNoDeleteItemInvoice",cWidth:400,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoDeleteItemInvoice},null,8,["onEmitYesNoButton"]),Object(s["i"])(c,{ref:"refYesNoNew",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButtonNew},null,8,["onEmitYesNoButton"]),Object(s["i"])(c,{ref:"refYesNoSaveInvoice",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoSaveInvoice},null,8,["onEmitYesNoButton"]),Object(s["i"])(p,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[Object(s["g"])("div",To,[Object(s["g"])("div",Eo,Object(s["C"])(r.invoiceNumber),1)])]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("table",_o,[Object(s["g"])("tr",null,[Object(s["g"])("td",Co,[Object(s["g"])("label",{for:r.cfgtime.INPUT_DATE.id},Object(s["C"])(r.cfgtime.INPUT_DATE.caption),9,vo)]),Object(s["g"])("td",Ro,[Object(s["i"])(l,{ref:r.cfgtime.INPUT_DATE.ref,pConfig:r.cfgtime.INPUT_DATE},null,8,["pConfig"])]),Object(s["g"])("td",Ao,[Object(s["g"])("label",{for:r.cfgtime.INPUT_PARTNER.id},Object(s["C"])(r.cfgtime.INPUT_PARTNER.caption),9,Io)]),Object(s["g"])("td",No,[Object(s["i"])(f,{ref:r.cfgtime.INPUT_PARTNER.ref,pConfig:r.cfgtime.INPUT_PARTNER},null,8,["pConfig"])]),Object(s["g"])("td",jo,[Object(s["i"])(u,{pConfig:r.cfgtime.NOM_INVOCE_TYPE,ref:r.cfgtime.NOM_INVOCE_TYPE.ref},null,8,["pConfig"])]),Object(s["g"])("td",Do,[Object(s["i"])(h,{ref:r.cfgtime.INPUT_TVA.ref,pConfig:r.cfgtime.INPUT_TVA},null,8,["pConfig"])]),Object(s["g"])("td",Lo,[Object(s["g"])("div",$o,[Object(s["g"])("div",So,[Fo,Object(s["i"])(g,{ref:r.cfgtime.REF_BUTTON_ADD_INVOICE,onClick:r.addNewInvoice,heightButton:22,buttonType:2,title:"adauga factura",style:Object(s["p"])(r.cfgtime.ICON_ADD_INVOCE.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(d,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_ADD_INVOCE),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])]),Object(s["g"])("div",Po,[Object(s["i"])(g,{ref:r.cfgtime.REF_BUTTON_REMOVE_INVOICE,onClick:r.deleteAntetInvoice,heightButton:22,buttonType:2,title:"sterg factura",style:Object(s["p"])(r.cfgtime.ICON_REMOVE_INVOICE.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(d,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_REMOVE_INVOICE),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])])])])]),Mo,Object(s["g"])("table",wo,[Object(s["g"])("tr",null,[Object(s["g"])("td",yo,[Object(s["g"])("label",{for:r.cfgtime.NOM_INVOICE_TEMPLATE.id},Object(s["C"])(r.cfgtime.NOM_INVOICE_TEMPLATE.caption),9,Uo)]),Object(s["g"])("td",ko,[Object(s["i"])(u,{pConfig:r.cfgtime.NOM_INVOICE_TEMPLATE,ref:r.cfgtime.NOM_INVOICE_TEMPLATE.ref,onEmitChange:o.emitTemplate},null,8,["pConfig","onEmitChange"])])]),Ho,Object(s["g"])("tr",null,[Object(s["g"])("td",Bo,[Object(s["g"])("label",{for:r.cfgtime.INPUT_TEXT_FACTURA.id},Object(s["C"])(r.cfgtime.INPUT_TEXT_FACTURA.caption),9,Vo)]),Object(s["g"])("td",xo,[Object(s["i"])(h,{ref:r.cfgtime.INPUT_TEXT_FACTURA.ref,pConfig:r.cfgtime.INPUT_TEXT_FACTURA},null,8,["pConfig"])]),Object(s["g"])("td",Wo,[Object(s["g"])("label",{for:r.cfgtime.INPUT_SUMA.id},Object(s["C"])(r.cfgtime.INPUT_SUMA.caption),9,Yo)]),Object(s["g"])("td",Go,[Object(s["i"])(h,{ref:r.cfgtime.INPUT_SUMA.ref,pConfig:r.cfgtime.INPUT_SUMA},null,8,["pConfig"]),zo]),Object(s["g"])("td",Xo,[Object(s["g"])("div",Ko,[Object(s["i"])(g,{ref:r.cfgtime.REF_BUTTON_ADD_ITEM,onClick:r.addArticol,heightButton:22,buttonType:0,title:"adaug articol in factura"},{default:Object(s["H"])((function(){return[qo]})),_:1},8,["onClick"])])])])]),Object(s["i"])(m,{ref:r.cfgtime.CFG_INVOICE_DETAIL_LIST.ref,pConfig:r.cfgtime.CFG_INVOICE_DETAIL_LIST,onEmitListRowSelection:o.emitDetailListRowSelection,onEmitStergArticol:o.emitStergArticol,onEmitFinallyCustomResponse:o.emitListaSumary},null,8,["pConfig","onEmitListRowSelection","onEmitStergArticol","onEmitFinallyCustomResponse"]),Qo,Object(s["g"])("div",Zo,[Object(s["g"])("table",Jo,[Object(s["g"])("tr",null,[tr,Object(s["g"])("td",er,Object(s["C"])(r.invoiceRezumat.sumaFaraTva),1),ir,Object(s["g"])("td",sr,Object(s["C"])(r.invoiceRezumat.sumaTva),1),nr,Object(s["g"])("td",ar,Object(s["C"])(r.invoiceRezumat.total),1),or])])])]})),slotButton:Object(s["H"])((function(){return[Object(s["g"])("div",rr,[Object(s["i"])(g,{ref:r.cfgtime.REF_BUTTON_SAVE_INVOICE,onClick:r.saveInvoice,heightButton:22,buttonType:0,title:"salvez factura in baza de date"},{default:Object(s["H"])((function(){return[cr]})),_:1},8,["onClick"])])]})),_:1},512)],64)}var fr=["id","name","placeholder"];function ur(t,e,i,n,a,o){var r=Object(s["A"])("maska");return Object(s["t"])(),Object(s["f"])("div",{class:"ff-input-text",ref:this.REF_DIV_CONTAINER},[Object(s["I"])(Object(s["g"])("input",{id:this.pConfig.id,name:this.pConfig.name,ref:"refInput",placeholder:this.pConfig.placeHolder,"onUpdate:modelValue":e[0]||(e[0]=function(t){return a.dataModel=t}),class:Object(s["o"])({"disable-background":this.readOnly})},null,10,fr),[[s["F"],a.dataModel],[r,this.pConfig.maska]])],512)}i("1276");var hr={name:"my-inputDatetime",props:{pConfig:{type:Object,required:!0}},directives:{maska:ge["a"]},created:function(){this.REF_DIV_CONTAINER="refIinputTextContainer"},mounted:function(){this.vModelData=null,this.config()},methods:{getValue:function(){return this.dataModel},getSplitValue:function(){var t=this.dataModel.split(this.$constBussines.DATE_DISPLAY_SEPARATOR);return{year:t[2],month:t[1],day:t[0]}},setReadOnly:function(t){t?this.$refs.refInput.setAttribute("readonly",t):this.$refs.refInput.removeAttribute("readonly"),this.readOnly=t},setValue:function(t){this.dataModel=t},setValueFromSqlFormat:function(t){var e=this.$datetime.convertDataSqlFormatToView(t);this.dataModel=e},keydownPress:function(){},config:function(){this.$check.isUndef(this.pConfig.width)||(this.$refs[this.REF_DIV_CONTAINER].style.width=this.pConfig.width);var t=this.$startEndCurrentMonth(),e=null;this.pConfig.dateShowDefault==this.$constBussines.DATE_CURRENT?e=t.currentDate:this.pConfig.dateShowDefault==this.$constBussines.DATE_FIRSTDAY?e=t.monthIn:this.pConfig.dateShowDefault==this.$constBussines.DATE_LASTDAY&&(e=t.monthSf),this.setValue(e)}},data:function(){return{dataModel:null,readOnly:!1}}};const dr=N()(hr,[["render",ur]]);var gr=dr,mr={components:{"validate-window":Wt,"form-tab":fn,"my-dropdown-search":ze,"my-dds":Le,"my-datetime":gr,"my-inputField":ki,"my-button":K,"my-list":Dn},name:"form-invoice-make",created:function(){this.REF_FORM="refFormInvoices",this.runtime={mode:this.$constFROM.MODE_EDIT,sendDataToServer:!1,message:[],postNewInvoices:{idPk:null,field:{},sqlAction:null},postNewItem:{idPk:null,idInvoice:null,field:{},sqlAction:null},postDeleteAntetInvoices:{idPk:null},postDeleteItemInvoices:{idPk:null},antetData:null},this.cfgtime={INPUT_PARTNER:this.cfgDropDownPartner(),NOM_INVOCE_TYPE:this.cfgInvoiceType(),NOM_INVOICE_TEMPLATE:this.cfgInvoiceTemplate(),INPUT_DATE:this.cfgInvoiceDate(),INPUT_TVA:this.cfgTva(),INPUT_TEXT_FACTURA:this.cfgTextFactura(),INPUT_SUMA:this.cfgSuma(),ICON_ADD_INVOCE:this.$constComponent.ICON_PLUS_SQUARE("blue"),ICON_REMOVE_INVOICE:this.$constComponent.ICON_MINUS_SQUARE("red"),REF_BUTTON_ADD_INVOICE:"refAddInvoice",REF_BUTTON_REMOVE_INVOICE:"refRemoveInvoice",REF_BUTTON_ADD_ITEM:"refAddItem",REF_BUTTON_SAVE_INVOICE:"refSaveInvoice",URL_NEW_INVOICE:this.$url.getUrl("insertInvoiceAntet"),URL_CHECK_WORKING_INVOICE:this.$url.getUrl("checkWorkingInvoice"),URL_DELETE_ANTET_INVOICE:this.$url.getUrl("deleteInvoiceAntet"),URL_INSERT_INVOICE_ARTICOL:this.$url.getUrl("insertInvoiceArticol"),URL_DELETE_INVOICE_ITEM:this.$url.getUrl("deleteItemDetailInvoice"),URL_SAVE_INVOICE:this.$url.getUrl("saveInvoice"),TVA:19,CFG_INVOICE_DETAIL_LIST:{ref:"refDetailList",header:[this.$constList.getHeader(1,"Nr.",20,"row_num",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(2,"Servicii",750,"cText",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(3,"Valoare",100,"nSumaFaraTva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(4,"Valoare TVA",100,"nSumaTva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(5,"Action",100,"null",this.$constList.HEADER.CAPTION_TYPE_ACTION)],recordActionButon:[this.$constList.getActionButton(4,"sterg articol","emitStergArticol",this.$constGrid.ICON_DELETE,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null)],cfg:{urlData:"detailInvoiceList",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection"}}}},emits:["emitNewRecord"],mounted:function(){this.$refs[this.cfgtime.INPUT_TVA.ref].setValue(this.cfgtime.TVA)},methods:{fillAFormAntet:function(){this.$check.isUndef(this.runtime.antetData)?(this.setModeForm(this.$constFROM.MODE_NEW),this.invoiceNumber="XXXX 00000000",this.$refs[this.cfgtime.INPUT_PARTNER.ref].resetDataSelected(),this.$refs[this.cfgtime.INPUT_PARTNER.ref].clearWordSearch(),this.$refs[this.cfgtime.NOM_INVOCE_TYPE.ref].setValue(this.cfgtime.NOM_INVOCE_TYPE.getDefaultValue().id),this.$refs[this.cfgtime.INPUT_TVA.ref].setValue(this.cfgtime.TVA)):(this.setModeForm(this.$constFROM.MODE_EDIT),this.$refs[this.cfgtime.INPUT_DATE.ref].setValueFromSqlFormat(this.runtime.antetData.data_f),this.$refs[this.cfgtime.INPUT_PARTNER.ref].setDataSelected({id:this.runtime.antetData.id_part,caption:this.runtime.antetData.cPartener}),this.$refs[this.cfgtime.NOM_INVOCE_TYPE.ref].setValue(this.runtime.antetData.id_tipfactura),this.$refs[this.cfgtime.INPUT_TVA.ref].setValue(this.runtime.antetData.nProcTva),this.invoiceNumber=this.runtime.antetData.cNr)},saveInvoice:function(){var t=this;this.runtime.sendDataToServer||(this.$refs.refYesNoSaveInvoice.setCaption("Salvez"),this.$refs.refYesNoSaveInvoice.setMessage("Salvez factura in baza de date ?"),this.$refs.refYesNoSaveInvoice.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.axios.post(this.cfgtime.URL_SAVE_INVOICE,this.runtime.antetData).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Fail..."),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.checkWorkingInvoice(),t.$refs[t.REF_FORM].showModal(!1)})))},addArticol:function(){var t=this;if(this.validateInvoiceItem())return this.$refs.validateWindowRef.show(),!1;this.axios.post(this.cfgtime.URL_INSERT_INVOICE_ARTICOL,this.runtime.postNewItem).then((function(t){t.data.succes})).catch((function(t){return console.log(t)})).finally((function(){t.showListItems(),t.$refs[t.REF_FORM].showModal(!1)}))},deleteItemInvoice:function(){var t=this;this.runtime.sendDataToServer||(this.$refs.refYesNoDeleteItemInvoice.setCaption("Sterg elementul din factura?"),this.$refs.refYesNoDeleteItemInvoice.setMessage("Datele sterse nu mai pot fi recuperate."),this.$refs.refYesNoDeleteItemInvoice.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.axios.post(this.cfgtime.URL_DELETE_INVOICE_ITEM,this.runtime.postDeleteItemInvoices).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Nu se poate sterge elementul"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.showListItems(),t.$refs[t.REF_FORM].showModal(!1)})))},deleteAntetInvoice:function(){var t=this;this.runtime.sendDataToServer||(this.$refs.refYesNoDeleteAntet.setCaption("Sterg factura?"),this.$refs.refYesNoDeleteAntet.setMessage("Numarul de factura va fi pastrat si va fi folosit pentru urmatoarea factura."),this.$refs.refYesNoDeleteAntet.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.runtime.postDeleteAntetInvoices.idPk=this.runtime.antetData.id,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_DELETE_ANTET_INVOICE,this.runtime.postDeleteAntetInvoices).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Nu se poate sterge factura"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.checkWorkingInvoice(),t.$refs[t.REF_FORM].showModal(!1)})))},showListItems:function(){var t=0;this.$check.isUndef(this.runtime.antetData)||(t=this.runtime.antetData.id),this.$refs[this.cfgtime.CFG_INVOICE_DETAIL_LIST.ref].showList({idInvoice:t})},emitListaSumary:function(t){this.invoiceRezumat.sumaFaraTva=t.sumaFaraTva,this.invoiceRezumat.sumaTva=t.sumaTva,this.invoiceRezumat.total=t.total},checkWorkingInvoice:function(){var t=this;this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_CHECK_WORKING_INVOICE).then((function(e){e.data.succes&&(e.data.records.length>0?t.runtime.antetData=e.data.records[0]:t.runtime.antetData=null)})).catch((function(t){return console.log(t)})).finally((function(){t.fillAFormAntet(),t.showListItems(),t.$refs[t.REF_FORM].showModal(!1)}))},addNewInvoice:function(){var t=this;if(this.validateNewInvoice())return this.$refs.validateWindowRef.show(),!1;this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_NEW_INVOICE,this.runtime.postNewInvoices).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Antetul nu poate fi inregistrat"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.checkWorkingInvoice(),t.$refs[t.REF_FORM].showModal(!1)})),this.setModeForm(this.$constFROM.MODE_EDIT)},emitStergArticol:function(t){var e=t.closest("tr");this.runtime.postDeleteItemInvoices.idPk=e.getAttribute("idPk"),this.deleteItemInvoice()},emitDetailListRowSelection:function(t){t.tagName},emitTemplate:function(t){this.$refs[this.cfgtime.INPUT_TEXT_FACTURA.ref].setValue(t.text)},emitYesNoSaveInvoice:function(t){1==t?(this.runtime.sendDataToServer=!0,this.saveInvoice()):this.runtime.sendDataToServer=!1},emitYesNoDeleteItemInvoice:function(t){1==t?(this.runtime.sendDataToServer=!0,this.deleteItemInvoice()):this.runtime.sendDataToServer=!1},emitYesNoDeleteAntet:function(t){1==t?(this.runtime.sendDataToServer=!0,this.deleteAntetInvoice()):this.runtime.sendDataToServer=!1},emitYesNoButtonNew:function(){},setModeForm:function(t){this.runtime.mode=t;var e=!0;this.runtime.mode==this.$constFROM.MODE_EDIT&&(e=!0,this.$refs[this.cfgtime.REF_BUTTON_ADD_INVOICE].disable(e),this.$refs[this.cfgtime.REF_BUTTON_REMOVE_INVOICE].disable(!1),this.$refs[this.cfgtime.REF_BUTTON_ADD_ITEM].disable(!1),this.$refs[this.cfgtime.REF_BUTTON_SAVE_INVOICE].disable(!1)),this.runtime.mode==this.$constFROM.MODE_NEW&&(e=!1,this.resetPostNewInvoice(),this.$refs[this.cfgtime.REF_BUTTON_ADD_INVOICE].disable(e),this.$refs[this.cfgtime.REF_BUTTON_REMOVE_INVOICE].disable(!0),this.$refs[this.cfgtime.REF_BUTTON_ADD_ITEM].disable(!0),this.$refs[this.cfgtime.REF_BUTTON_SAVE_INVOICE].disable(!0)),this.$refs[this.cfgtime.INPUT_DATE.ref].setReadOnly(e),this.$refs[this.cfgtime.INPUT_TVA.ref].setReadOnly(e),this.$refs[this.cfgtime.NOM_INVOCE_TYPE.ref].setReadOnly(e),this.$refs[this.cfgtime.INPUT_PARTNER.ref].setReadOnly(e)},setPostNewInvoice:function(t,e){this.runtime.postNewInvoices["field"][t.name]=e},setPostNewItem:function(t,e){this.runtime.postNewItem["field"][t.name]=e},resetPostNewInvoice:function(){this.runtime.postNewInvoices["field"]={}},cfgDropDownPartner:function(){var t=this.$app.cfgSelectSearch("nomPartner",this.$url.getUrl("listPartener"),450);return t.setValidateFunction(this.validatePartner),t.setCaption("Partener"),t.setMandatory(!0),t},cfgInvoiceType:function(){var t=this.$app.cfgSelectSimple("nomInvoiceType",this.$url.getUrl("nomInvoiceType"),150);return t.setValidateFunction(this.validateInvoiceType),t.setCaption("Tip factura"),t.setMandatory(!0),t.setPlaceHolder("... (tip venit)"),t.setDefaultValue({id:1,text:"venit profesional"}),t},cfgInvoiceTemplate:function(){var t=this.$app.cfgSelectSimple("nomInvoiceTemplate",this.$url.getUrl("nomInvoiceTemplate"),400);return t.setCaption("Template"),t.setPlaceHolder("... template"),t},cfgInvoiceDate:function(){var t=this.$app.cfgInputDateTimeField("invoiceDate",11,80);return t.setValidateFunction(this.validateInvoiceDate),t.setCaption("Data factura"),t.setMandatory(!0),t},cfgTva:function(){var t=this.$app.cfgInputField("tva",null,35);return t.setValidateFunction(this.validateTVA),t.setCaption("TVA"),t.setMandatory(!0),t.setMaska(""),t},cfgTextFactura:function(){var t=this.$app.cfgInputField("articolFactura",null,650);return t.setValidate(3,250),t.setValidateFunction(this.validateTextFactura),t.setCaption("Articol factura"),t.setMandatory(!0),t.setMaska(""),t},cfgSuma:function(){var t=this.$app.cfgInputField("sumaArticol",null,100);return t.setValidateFunction(this.validateSuma),t.setCaption("Suma (fara TVA)"),t.setMandatory(!0),t.setMaska(""),t.setDefaultValue("0.00"),t},validateInvoiceItem:function(){var t=!1;this.runtime.message=[];var e=[this.$refs[this.cfgtime.INPUT_SUMA.ref],this.$refs[this.cfgtime.INPUT_TEXT_FACTURA.ref]];return this.runtime.postNewItem.idInvoice=this.runtime.antetData.id,this.$check.validateForm(e),this.runtime.message.length>0&&(this.$refs.validateWindowRef.setCaption("Articolul nu poate fi inregistrat"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.message)),t=!0),t},validateNewInvoice:function(){var t=!1;this.runtime.message=[];var e=[this.$refs[this.cfgtime.INPUT_DATE.ref],this.$refs[this.cfgtime.INPUT_PARTNER.ref],this.$refs[this.cfgtime.NOM_INVOCE_TYPE.ref],this.$refs[this.cfgtime.INPUT_TVA.ref]];return this.$check.validateForm(e),this.runtime.message.length>0&&(this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.message)),t=!0),t},validateSuma:function(){var t=this.cfgtime.INPUT_SUMA,e=this.$refs[t.ref].getValue();e=parseFloat(e),isNaN(e)&&this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Suma articolului este gresita!")),this.setPostNewItem(t,e)},validateTextFactura:function(){var t=this.cfgtime.INPUT_TEXT_FACTURA,e=this.$refs[t.ref].getValue();this.$check.lenghtMinMax(e,t.minLength,t.maxLength)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"trebuie sa aiba minim "+t.minLength+" si maxim "+t.maxLength+" caractere")),this.setPostNewItem(t,e)},validateInvoiceDate:function(){var t=this.cfgtime.INPUT_DATE,e=this.$refs[t.ref].getValue(),i=this.$refs[t.ref].getSplitValue();this.$check.isExistDate(i,!0)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Data este gresita!")),this.setPostNewInvoice(t,e)},validatePartner:function(){var t=this.cfgtime.INPUT_PARTNER,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi un partener")):i=e.id,this.setPostNewInvoice(t,i)},validateInvoiceType:function(){var t=this.cfgtime.NOM_INVOCE_TYPE,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi tipul de venit.")):i=e.id,this.setPostNewInvoice(t,i)},validateTVA:function(){var t=this.cfgtime.INPUT_TVA,e=this.$refs[t.ref].getValue();(this.$check.isUndef(e)||parseInt(e)<0)&&this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Cota de TVA este gresita!")),this.setPostNewInvoice(t,e)}},data:function(){return{invoiceNumber:"...",invoiceRezumat:{total:0,sumaFaraTva:0,sumaTva:0}}}};const pr=N()(mr,[["render",lr]]);var br=pr,Or={class:"ff-form-table"},Tr={class:"label-left bold",colspan:"1"},Er=["for"],_r=Object(s["h"])("   "),Cr=Object(s["h"])(" - "),vr={class:"control"},Rr={class:"control"},Ar={class:"prime-button last-button"},Ir=Object(s["h"])("   "),Nr=Object(s["h"])("    "),jr=Object(s["g"])("br",null,null,-1),Dr={class:"form-rezumat-left"},Lr={class:"ff-form-table"},$r=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"Facturi emise:")],-1),Sr={class:"control"},Fr=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Total facturat:")],-1),Pr={class:"control"},Mr=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Suma incasata:")],-1),wr={class:"control"},yr=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Ramas de incasat:")],-1),Ur={class:"control"};function kr(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("my-datetime"),f=Object(s["z"])("my-dropdown-search"),u=Object(s["z"])("font-awesome-icon"),h=Object(s["z"])("my-button"),d=Object(s["z"])("my-list"),g=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["i"])(g,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("table",Or,[Object(s["g"])("tr",null,[Object(s["g"])("td",Tr,[Object(s["g"])("label",{for:r.cfgtime.DATA_IN.id},Object(s["C"])(r.cfgtime.DATA_IN.caption),9,Er),_r,Object(s["i"])(l,{ref:r.cfgtime.DATA_IN.ref,pConfig:r.cfgtime.DATA_IN},null,8,["pConfig"]),Cr,Object(s["i"])(l,{ref:r.cfgtime.DATA_SF.ref,pConfig:r.cfgtime.DATA_SF},null,8,["pConfig"])]),Object(s["g"])("td",vr,[Object(s["i"])(f,{ref:r.cfgtime.PARTNER_LIST.ref,pConfig:r.cfgtime.PARTNER_LIST},null,8,["pConfig"])]),Object(s["g"])("td",Rr,[Object(s["g"])("div",Ar,[Ir,Object(s["i"])(h,{ref:r.cfgtime.REF_BUTTON_REFRESH,onClick:r.clickRefresInvoiceList,heightButton:22,buttonType:2,title:"refresh lista",style:Object(s["p"])(r.cfgtime.ICON_REFRESH.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(u,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_REFRESH),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"]),Nr,Object(s["i"])(h,{ref:r.cfgtime.REF_BUTTON_REFRESH,onClick:r.clickExportExcel,heightButton:22,buttonType:2,title:"export excel facturi emise",style:Object(s["p"])(r.cfgtime.ICON_EXCEL.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(u,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_EXCEL),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])])])]),jr,Object(s["g"])("div",Dr,[Object(s["g"])("table",Lr,[Object(s["g"])("tr",null,[$r,Object(s["g"])("td",Sr,Object(s["C"])(r.dataRezume.record_count),1),Fr,Object(s["g"])("td",Pr,Object(s["C"])(r.dataRezume.total),1),Mr,Object(s["g"])("td",wr,Object(s["C"])(r.dataRezume.incasat),1),yr,Object(s["g"])("td",Ur,Object(s["C"])(r.dataRezume.ramas_de_incasat),1)])])]),Object(s["i"])(d,{ref:r.cfgtime.CFG_INVOICE_LIST.ref,pConfig:r.cfgtime.CFG_INVOICE_LIST,onEmitFinallyCustomResponse:o.emitListResumData,onEmitStergArticol:o.emitStergArticol,onEmitPrintArticol:o.emitPrintArticol,onEmitDownloadEfactrura:o.emitDownloadEfactrura},null,8,["pConfig","onEmitFinallyCustomResponse","onEmitStergArticol","onEmitPrintArticol","onEmitDownloadEfactrura"])]})),slotButton:Object(s["H"])((function(){return[]})),_:1},512)],64)}var Hr={components:{"form-tab":fn,"validate-window":Wt,"my-datetime":gr,"my-dropdown-search":ze,"my-button":K,"my-list":Dn},name:"form-partener",created:function(){this.REF_FORM="refFormInvoiceList",this.cfgtime={ICON_REFRESH:this.$constComponent.ICON_REFRESH("green"),ICON_EXCEL:this.$constComponent.ICON_EXCEL("blue"),DATA_IN:this.cfgDataIn(),DATA_SF:this.cfgDataSf(),PARTNER_LIST:this.cfgDropDownPartner(),URL_DELETE_INVOICE:this.$url.getUrl("deleteInvoice"),URL_INVOICE_PRINT:this.$url.getUrl("invoicePrint"),URL_REPORT_INVOICE_EMITTED:this.$url.getUrl("reportExcelInvoiceEmitted"),URL_DOWNLOAD_E_FACTURA:this.$url.getUrl("downloadeFactura"),CFG_INVOICE_LIST:{ref:"refInvoiceList",header:[this.$constList.getHeader(1,"Tip factura",110,"tip_factura",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(2,"Nr. factura",110,"nr_factura",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(3,"Data factura",90,"data_f_view",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(4,"Client",490,"client_name",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(5,"Org.",50,"client_tip_firma",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(6,"CUI",70,"client_cod_fiscal",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(7,"Suma factura",90,"total_factura",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(8,"Suma incasata",90,"total_incasat",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(9,"... de incasat",90,"rest_de_incasat",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(10,"Action",120,"null",this.$constList.HEADER.CAPTION_TYPE_ACTION)],recordActionButon:[this.$constList.getActionButton(21,"sterg factura","emitStergArticol",this.$constGrid.ICON_DELETE,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null),this.$constList.getActionButton(20,"printez factura","emitPrintArticol",this.$constGrid.ICON_PRINT,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null),this.$constList.getActionButton(22,"download eFactura","emitDownloadEfactrura",this.$constGrid.ICON_PRINT,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null)],cfg:{urlData:"invoicesList",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection",heightList:610}}},this.runtime={sendDataToServer:!1,yesNoMethod:null,paramInvoiceList:{dataIn:null,dataSf:null,idPartner:0},post:{idPk:null,field:{},sqlAction:null}}},mounted:function(){},methods:{clickExportExcel:function(){var t=this;this.privateSetListInvoiceParameter(),this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_REPORT_INVOICE_EMITTED,this.runtime.paramInvoiceList).then((function(e){e.data.succes&&t.$print.downloadXLSX(e.data.custom.fileName,e.data.custom.xls)})).catch((function(t){return console.log(t)})).finally((function(){t.$refs[t.REF_FORM].showModal(!1)}))},clickRefresInvoiceList:function(){this.refreshInvoiceList()},serverDownloadEfactura:function(){var t=this;this.$refs[this.REF_FORM].showModal(!0),console.log("pe aici=> serverDownloadEfactura"),this.axios.post(this.cfgtime.URL_DOWNLOAD_E_FACTURA,this.runtime.post).then((function(t){t.data.succes&&console.log("am raspuns cu succes la dowload factura")})).catch((function(t){return console.log(t)})).finally((function(){t.$refs[t.REF_FORM].showModal(!1)}))},serverDeleteInvoice:function(){var t=this;this.runtime.yesNoMethod="serverDeleteInvoice",this.runtime.sendDataToServer||(this.$refs.refYesNo.setCaption("Sterg factura"),this.$refs.refYesNo.setMessage("Sterg factura ? <br> Numarul documentului va fi refolosit la urmatoarea factura."),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_DELETE_INVOICE,this.runtime.post).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Fail..."),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.refreshInvoiceList(),t.$refs[t.REF_FORM].showModal(!1)})))},refreshInvoiceList:function(){this.privateSetListInvoiceParameter(),this.$refs[this.cfgtime.CFG_INVOICE_LIST.ref].showList(this.runtime.paramInvoiceList)},privateSetListInvoiceParameter:function(){this.runtime.paramInvoiceList.dataIn=this.$refs[this.cfgtime.DATA_IN.ref].getValue(),this.runtime.paramInvoiceList.dataSf=this.$refs[this.cfgtime.DATA_SF.ref].getValue();var t=this.$refs[this.cfgtime.PARTNER_LIST.ref].getValue();this.$check.isUndef(t)?this.runtime.paramInvoiceList.idPartner=0:this.runtime.paramInvoiceList.idPartner=t.id},emitPrintArticol:function(t){var e=this,i=t.closest("tr");this.runtime.post.idPk=i.getAttribute("idPk"),this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_INVOICE_PRINT,this.runtime.post).then((function(t){e.$print.downloadPdf(t.data.fileName,t.data.pdf)})).finally((function(){e.$refs[e.REF_FORM].showModal(!1)}))},emitDownloadEfactrura:function(t){var e=t.closest("tr");this.runtime.post.idPk=e.getAttribute("idPk"),console.log("idfactura",this.runtime.post.idPk),this.serverDownloadEfactura()},emitStergArticol:function(t){var e=t.closest("tr");this.runtime.post.idPk=e.getAttribute("idPk"),this.serverDeleteInvoice()},emitListResumData:function(t){this.dataRezume.total=t.total,this.dataRezume.incasat=t.sumaIncasata,this.dataRezume.ramas_de_incasat=t.ramasDeIncasat,this.dataRezume.record_count=t.records_count},emitYesNoButton:function(t){1==t?(this.runtime.sendDataToServer=!0,this[this.runtime.yesNoMethod].apply()):this.runtime.sendDataToServer=!1},setPost:function(t,e){this.runtime.post["field"][t.name]=e},cfgDropDownPartner:function(){var t=this.$app.cfgSelectSearch("nomPartner",this.$url.getUrl("listPartener"),450);return t.setValidateFunction(this.validatePartner),t.setCaption("Partener"),t.setMandatory(!0),t},cfgDataIn:function(){var t=this.$app.cfgInputDateTimeField("invoiceDateIn",11,80);return t.setValidateFunction(this.validateDocumentDate),t.setCaption("Interval"),t.setMandatory(!0),t.setShowDefault(this.$constBussines.DATE_FIRSTDAY),t},cfgDataSf:function(){var t=this.$app.cfgInputDateTimeField("invoiceDateSf",11,80);return t.setValidateFunction(this.validateDocumentDate),t.setCaption("Interval"),t.setMandatory(!0),t.setShowDefault(this.$constBussines.DATE_CURRENT),t}},data:function(){return{dataRezume:{record_count:0,total:0,incasat:0,ramas_de_incasat:0}}}};const Br=N()(Hr,[["render",kr]]);var Vr=Br,xr={components:{"my-tab":ws,"invoice-make":br,"invoice-list":Vr},name:"view-invoices",created:function(){this.cfgtime={REF_CREATE_INVOICE:"refCreateInvoice",REF_INVOICE_LIST:"refInvoiceList",tabConfig:{TAB_NEW:{id:"1t"},TAB_LIST:{id:"2t"},header:[this.$constTab.getHeader("1t","Factura noua"),this.$constTab.getHeader("2t","Lista facturi")],defaultTabId:"1t",tabsWidth:"1440px"}}},mounted:function(){this.$refs.refTab.goToTab(this.cfgtime.tabConfig.defaultTabId)},methods:{emitClickTab:function(t){t==this.cfgtime.tabConfig.TAB_NEW.id?this.$refs[this.cfgtime.REF_CREATE_INVOICE].checkWorkingInvoice():t==this.cfgtime.tabConfig.TAB_LIST.id&&this.$refs[this.cfgtime.REF_INVOICE_LIST].refreshInvoiceList()}},data:function(){return{}}};const Wr=N()(xr,[["render",Oo]]);var Yr=Wr,Gr={class:"ff-workbench",ref:"refWorkBench"},zr=["id"],Xr=Object(s["g"])("div",{class:"up-line"},null,-1),Kr=["id"],qr=Object(s["g"])("div",{class:"up-line"},null,-1);function Qr(t,e,i,n,a,o){var r=this,c=Object(s["z"])("my-incasez"),l=Object(s["z"])("my-lista-incasari"),f=Object(s["z"])("my-tab");return Object(s["t"])(),Object(s["f"])("div",Gr,[Object(s["i"])(f,{ref:"refTab",pConfig:this.cfgtime.tabConfig,onEmitClickTab:o.emitClickTab},{tabs:Object(s["H"])((function(){return[Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab(r.cfgtime.tabConfig.TAB_NEW.id)},[Xr,Object(s["i"])(c,{ref:r.cfgtime.REF_FORM_INCASEZ},null,512)],8,zr),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab(r.cfgtime.tabConfig.TAB_LIST.id)},[qr,Object(s["i"])(l,{ref:r.cfgtime.REF_FORM_LISTA_INCASARI},null,512)],8,Kr)]})),_:1},8,["pConfig","onEmitClickTab"])],512)}var Zr=Object(s["g"])("br",null,null,-1),Jr={class:"form-rezumat-right"},tc={class:"ff-form-table"},ec=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"Facturi emise:")],-1),ic={class:"control"},sc=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"Total facturat:")],-1),nc={class:"control"},ac=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Total incasat:")],-1),oc={class:"control"},rc=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Ramas de incasat:")],-1),cc={class:"control"},lc=Object(s["g"])("br",null,null,-1),fc=Object(s["g"])("br",null,null,-1),uc={class:"ff-form-table"},hc={class:"label-left bold",colspan:"1"},dc={class:"label-left bold",colspan:"3"},gc=Object(s["h"])("     "),mc={class:"label-left bold",colspan:"1"},pc=["for"],bc=Object(s["h"])("   "),Oc={class:"label-left bold",colspan:"2"},Tc={class:"label-right bold"},Ec=Object(s["h"])("    "),_c=["for"],Cc={class:"control"},vc=Object(s["h"])("     "),Rc={class:"control"},Ac={class:"control"},Ic=Object(s["h"])("     "),Nc=Object(s["h"])("Salvez incasare");function jc(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("my-list"),f=Object(s["z"])("check-box"),u=Object(s["z"])("input-field"),h=Object(s["z"])("my-datetime"),d=Object(s["z"])("my-dropdown-simple"),g=Object(s["z"])("my-radio-button"),m=Object(s["z"])("my-button"),p=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:400,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNo},null,8,["onEmitYesNoButton"]),Object(s["i"])(p,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[]})),slotContent:Object(s["H"])((function(){return[Object(s["i"])(l,{ref:r.cfgtime.CFG_INVOICE_LIST.ref,pConfig:r.cfgtime.CFG_INVOICE_LIST,onEmitListRowSelection:o.emitListRowSelection,onEmitFinallyCustomResponse:o.emitListResumData},null,8,["pConfig","onEmitListRowSelection","onEmitFinallyCustomResponse"]),Zr,Object(s["g"])("div",Jr,[Object(s["g"])("table",tc,[Object(s["g"])("tr",null,[ec,Object(s["g"])("td",ic,Object(s["C"])(r.dataRezumat.nr_facturi)+"                 ",1),sc,Object(s["g"])("td",nc,Object(s["C"])(r.dataRezumat.totalFacturat),1),ac,Object(s["g"])("td",oc,Object(s["C"])(r.dataRezumat.totalIncasat),1),rc,Object(s["g"])("td",cc,Object(s["C"])(r.dataRezumat.totalRamas)+"         ",1)])])]),lc,fc,Object(s["g"])("table",uc,[Object(s["g"])("tr",null,[Object(s["g"])("td",hc,[Object(s["g"])("div",{ref:r.cfgtime.REF_FIELD_NR_FACTURA_SELECTATA},[Object(s["g"])("label",null,Object(s["C"])(r.numar_factura),1)],512)]),Object(s["g"])("td",dc,[Object(s["i"])(f,{pConfig:r.cfgtime.CHECK_MANUAL_NUMBER,ref:r.cfgtime.CHECK_MANUAL_NUMBER.ref,onEmitCheckDocumentManual:o.emitCheckDocumentManual},null,8,["pConfig","onEmitCheckDocumentManual"]),Object(s["g"])("label",null,Object(s["C"])(r.cfgtime.CHECK_MANUAL_NUMBER.caption),1),gc,Object(s["i"])(u,{ref:r.cfgtime.NR_DOCUMENT.ref,pConfig:r.cfgtime.NR_DOCUMENT},null,8,["pConfig"])])]),Object(s["g"])("tr",null,[Object(s["g"])("td",mc,[Object(s["g"])("label",{for:r.cfgtime.DOCUMENT_DATA.id},Object(s["C"])(r.cfgtime.DOCUMENT_DATA.caption),9,pc),bc,Object(s["i"])(h,{ref:r.cfgtime.DOCUMENT_DATA.ref,pConfig:r.cfgtime.DOCUMENT_DATA},null,8,["pConfig"])]),Object(s["g"])("td",Oc,[Object(s["i"])(d,{pConfig:r.cfgtime.DOCUMENT_TYPE,ref:r.cfgtime.DOCUMENT_TYPE.ref},null,8,["pConfig"])]),Object(s["g"])("td",Tc,[Ec,Object(s["g"])("label",{for:r.cfgtime.AMOUNT_RECIVED.id},Object(s["C"])(r.cfgtime.AMOUNT_RECIVED.caption),9,_c)]),Object(s["g"])("td",Cc,[Object(s["i"])(u,{ref:r.cfgtime.AMOUNT_RECIVED.ref,pConfig:r.cfgtime.AMOUNT_RECIVED},null,8,["pConfig"]),vc]),Object(s["g"])("td",Rc,[Object(s["i"])(g,{ref:r.cfgtime.TIP_INCASARE.ref,pConfig:r.cfgtime.TIP_INCASARE,onEmitClickTipIncasare:o.emitClickTipIncasare},null,8,["pConfig","onEmitClickTipIncasare"])]),Object(s["g"])("td",Ac,[Ic,Object(s["i"])(m,{ref:r.cfgtime.REF_BUTTON_SAVE,onClick:r.saveData,heightButton:22,buttonType:0,title:"salvez incasarea in baza de date"},{default:Object(s["H"])((function(){return[Nc]})),_:1},8,["onClick"])])])])]})),slotButton:Object(s["H"])((function(){return[]})),_:1},512)],64)}var Dc=["id","name","value","checked","disabled"],Lc=["for"];function $c(t,e,i,n,a,o){var r=this;return Object(s["t"])(),Object(s["f"])("div",{class:"ff-radio-button",ref:this.REF_DIV_CONTAINER},[(Object(s["t"])(!0),Object(s["f"])(s["a"],null,Object(s["x"])(this.buttonsCfg,(function(t){return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["g"])("input",{class:"inputClass",type:"radio",id:t.id,name:r.pConfig.name,value:t.value,checked:t.check,disabled:t.disableOption,onClick:e[0]||(e[0]=function(t){return r.privateEmitButtonClick(t,r.pConfig.emit)})},null,8,Dc),Object(s["g"])("label",{class:Object(s["o"])(["labelClass",{"disabled-option":t.disableOption}]),for:t.id},Object(s["C"])(t.caption),11,Lc)],64)})),256))],512)}var Sc={name:"my-radio-button",props:{pConfig:{type:Object,required:!0}},directives:{},created:function(){this.REF_DIV_CONTAINER="refRadioButton",this.cfgtime={CLASS_ALIGN_H:"alignment-horizontally",CLASS_ALIGN_V:"alignment-vertical"}},mounted:function(){this.buttonsCfg=this.pConfig.buttons,this.privateConfig()},methods:{getValue:function(){for(var t=this.$el.querySelectorAll("input"),e=null,i=0;i<t.length;i++)if(t[i].checked){e=t[i].value;break}return e},setCheck:function(t){for(var e=0;e<this.buttonsCfg.length;e++)this.buttonsCfg[e].value==t?this.buttonsCfg[e].check=!0:this.buttonsCfg[e].check=!1},resetSelection:function(){for(var t=0;t<this.buttonsCfg.length;t++)this.buttonsCfg[t].check=!1},disabledAll:function(t){for(var e=0;e<this.buttonsCfg.length;e++)this.buttonsCfg[e].disableOption=t},privateEmitButtonClick:function(t,e){this.$emit(e,t.target)},privateConfig:function(){var t=null;t=this.pConfig.alignment==this.$constRadioButton.ALIGNMENT_H?this.cfgtime.CLASS_ALIGN_H:this.cfgtime.CLASS_ALIGN_V,this.$refs[this.REF_DIV_CONTAINER].classList.add(t)}},data:function(){return{buttonsCfg:[]}}};const Fc=N()(Sc,[["render",$c]]);var Pc=Fc,Mc={components:{"validate-window":Wt,"form-tab":fn,"my-list":Dn,"input-field":ki,"check-box":Ce,"my-datetime":gr,"my-dropdown-simple":Le,"my-radio-button":Pc,"my-button":K},name:"form-incasez",created:function(){this.REF_FORM="refFormIncasez",this.runtime={mode:this.$constFROM.MODE_EDIT,sendDataToServer:!1,message:[],postRecordData:{}},this.cfgtime={REF_BUTTON_SAVE:"refButtonSave",REF_FIELD_NR_FACTURA_SELECTATA:"refNrFactura",TIP_INCASARE:{id:"refTipIncasare",ref:"refTipIncasare",caption:"Tip incasare",alignment:this.$constRadioButton.ALIGNMENT_H,name:"tipIncasare",emit:"emitClickTipIncasare",buttons:[{id:1,value:"1",caption:"Numerar",check:!1,disableOption:!1},{id:2,value:"2",caption:"Banca",check:!1,disableOption:!1}]},NR_DOCUMENT:this.cfgNrDoc(),AMOUNT_RECIVED:this.cfgAmountRecived(),CHECK_MANUAL_NUMBER:this.cfgCheckManualNumber(),DOCUMENT_DATA:this.cfgDocumentDate(),DOCUMENT_TYPE:this.cfgDocumentType(),URL_SAVE_INCASARE:this.$url.getUrl("saveIncoming"),CFG_INVOICE_LIST:{ref:"refDetailList",header:[this.$constList.getHeader(1,"Tip factura",110,"tip_factura",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(2,"Nr. factura",110,"nr_factura",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(3,"Data factura",90,"data_f_view",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(4,"Client",490,"client_name",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(5,"Org.",50,"client_tip_firma",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(6,"CUI",70,"client_cod_fiscal",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(7,"Suma factura",90,"total_factura",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(8,"Suma incasata",90,"total_incasat",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(9,"... de incasat",90,"rest_de_incasat",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT)],recordActionButon:[],cfg:{urlData:"listaUnpaidInvoices",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection",heightList:610}}}},emits:["emitNewRecord"],mounted:function(){this.privateResetPost(),this.$refs[this.cfgtime.REF_BUTTON_SAVE].disable(!0),this.$refs[this.cfgtime.NR_DOCUMENT.ref].setReadOnly(!0),this.$refs[this.cfgtime.REF_FIELD_NR_FACTURA_SELECTATA].style.minWidth="150px",this.$refs[this.cfgtime.REF_FIELD_NR_FACTURA_SELECTATA].closest("td").style.backgroundColor="#d9d9d9",this.refreshListaFacturiNeincasate()},methods:{saveData:function(){var t=this;if(this.validateForm())return this.$refs.validateWindowRef.show(),!1;this.runtime.sendDataToServer||(this.$refs.refYesNo.setCaption("Incasez"),this.$refs.refYesNo.setMessage("Incasez factura selectata? Suma este corecta ?"),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_SAVE_INCASARE,this.runtime.postRecordData).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.refreshListaFacturiNeincasate(),t.$refs[t.REF_FORM].showModal(!1)})))},refreshListaFacturiNeincasate:function(){this.privateResetPost(),this.$refs[this.cfgtime.REF_BUTTON_SAVE].disable(!0),this.numar_factura="...",this.$refs[this.cfgtime.AMOUNT_RECIVED.ref].setValue(0),this.$refs[this.cfgtime.CFG_INVOICE_LIST.ref].showList()},emitListRowSelection:function(t){this.privateResetPost(),this.$refs[this.cfgtime.REF_BUTTON_SAVE].disable(!1);for(var e=t.closest("tr"),i=0;i<e.children.length;i++)if("nr_factura"==e.children[i].getAttribute("field")&&(this.numar_factura=e.children[i].firstChild.innerHTML),"rest_de_incasat"==e.children[i].getAttribute("field")){var s=e.children[i].firstChild.innerHTML;this.$refs[this.cfgtime.AMOUNT_RECIVED.ref].setValue(s),this.runtime.postRecordData.rest_de_incasat=s}this.runtime.postRecordData.id_factura=e.getAttribute("idpk")},emitListResumData:function(t){this.dataRezumat.totalFacturat=t.total_facturat,this.dataRezumat.totalIncasat=t.total_incasari,this.dataRezumat.totalRamas=t.total_ramas_de_incasat,this.dataRezumat.nr_facturi=t.nr_facturi},emitCheckDocumentManual:function(t){this.$refs[this.cfgtime.NR_DOCUMENT.ref].setReadOnly(!t.checked),t.checked?this.$refs[this.cfgtime.NR_DOCUMENT.ref].setFocus():this.$refs[this.cfgtime.NR_DOCUMENT.ref].setValue("")},emitClickTipIncasare:function(t){},emitYesNo:function(t){1==t?(this.runtime.sendDataToServer=!0,this.saveData()):this.runtime.sendDataToServer=!1},validateForm:function(){var t=!1;return this.runtime.message=[],this.$check.validateForm(this.$refs),this.runtime.message.length>0&&(this.$refs.validateWindowRef.setCaption("Factura nu poate fi incasata"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.message)),t=!0),t},validateManualNumber:function(){var t=this.cfgtime.NR_DOCUMENT,e=this.cfgtime.CHECK_MANUAL_NUMBER,i=this.$refs[e.ref].getValue(),s=this.$refs[t.ref].getValue();i&&(this.$check.lenghtMinMax(s,t.minLength,t.maxLength)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"trebuie sa aiba minim "+t.minLength+" si maxim "+t.maxLength+" caractere"))),this.privateSetPost(e,i),this.privateSetPost(t,s)},validateDocumentDate:function(){var t=this.cfgtime.DOCUMENT_DATA,e=this.$refs[t.ref].getValue(),i=this.$refs[t.ref].getSplitValue();this.$check.isExistDate(i,!0)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Data este gresita!")),this.privateSetPost(t,e)},validateInvoiceType:function(){var t=this.cfgtime.DOCUMENT_TYPE,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi tipul de document cu care incasezi.")):i=e.id,this.privateSetPost(t,i)},validateAmountRecived:function(){var t=this.cfgtime.AMOUNT_RECIVED,e=parseFloat(this.$refs[t.ref].getValue());e<=0?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Suma incasata trebuie sa fie mai mare ca zero")):e>parseFloat(this.runtime.postRecordData.rest_de_incasat)&&this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Suma incasata nu poate fi mai mare ca suma ramasa de incasat! "));var i=this.cfgtime.TIP_INCASARE,s=this.$refs[i.ref].getValue();this.$check.isUndef(s)&&this.runtime.message.push(this.$app.getFormMessageClass(t.id,i.caption,"Trebuie sa alegi tipul de incasare")),this.privateSetPost(t,e),this.privateSetPost(i,s)},cfgNrDoc:function(){var t=this.$app.cfgInputField("nrDoc",null,120);return t.setValidate(2,15),t.setValidateFunction(this.validateNrDoc),t.setCaption("Numar document manual"),t.setMandatory(!0),t.setMaska(""),t},cfgCheckManualNumber:function(){var t=this.$app.cfgCheckBox("manualNumber",!1);return t.setCaption("Nr. document manual"),t.setEmit("emitCheckDocumentManual"),t.setValidateFunction(this.validateManualNumber),t},cfgDocumentDate:function(){var t=this.$app.cfgInputDateTimeField("invoiceDate",11,80);return t.setValidateFunction(this.validateDocumentDate),t.setCaption("Data"),t.setMandatory(!0),t},cfgDocumentType:function(){var t=this.$app.cfgSelectSimple("nomDocumentType",this.$url.getUrl("nomDocumentTipe"),200);return t.setValidateFunction(this.validateInvoiceType),t.setCaption("Tip document"),t.setMandatory(!0),t.setPlaceHolder("... (tip document)"),t.setDefaultValue({id:0,text:"... (tip document)"}),t},cfgAmountRecived:function(){var t=this.$app.cfgInputField("amountRecived",null,120);return t.setValidateFunction(this.validateAmountRecived),t.setCaption("Suma incasata"),t.setMandatory(!0),t.setMaska(""),t},privateSetPost:function(t,e){this.runtime.postRecordData["field"][t.name]=e},privateResetPost:function(){this.runtime.postRecordData={id_factura:0,rest_de_incasat:0,field:{},sqlAction:null}}},data:function(){return{dataRezumat:{totalFacturat:0,totalIncasat:0,totalRamas:0,nr_facturi:0},numar_factura:"..."}}};const wc=N()(Mc,[["render",jc]]);var yc=wc,Uc={class:"ff-form-table"},kc={class:"label-left bold",colspan:"1"},Hc=["for"],Bc=Object(s["h"])("   "),Vc=Object(s["h"])(" - "),xc={class:"control"},Wc={class:"control"},Yc={class:"prime-button last-button"},Gc=Object(s["h"])("   "),zc=Object(s["h"])("    "),Xc=Object(s["g"])("br",null,null,-1),Kc={class:"form-rezumat-left"},qc={class:"ff-form-table"},Qc=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"Numar incasari:")],-1),Zc={class:"control"},Jc=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Suma incasata:")],-1),tl={class:"control"};function el(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("my-datetime"),f=Object(s["z"])("my-dropdown-search"),u=Object(s["z"])("font-awesome-icon"),h=Object(s["z"])("my-button"),d=Object(s["z"])("my-list"),g=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:400,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNo},null,8,["onEmitYesNoButton"]),Object(s["i"])(g,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("table",Uc,[Object(s["g"])("tr",null,[Object(s["g"])("td",kc,[Object(s["g"])("label",{for:r.cfgtime.DATA_IN.id},Object(s["C"])(r.cfgtime.DATA_IN.caption),9,Hc),Bc,Object(s["i"])(l,{ref:r.cfgtime.DATA_IN.ref,pConfig:r.cfgtime.DATA_IN},null,8,["pConfig"]),Vc,Object(s["i"])(l,{ref:r.cfgtime.DATA_SF.ref,pConfig:r.cfgtime.DATA_SF},null,8,["pConfig"])]),Object(s["g"])("td",xc,[Object(s["i"])(f,{ref:r.cfgtime.PARTNER_LIST.ref,pConfig:r.cfgtime.PARTNER_LIST},null,8,["pConfig"])]),Object(s["g"])("td",Wc,[Object(s["g"])("div",Yc,[Gc,Object(s["i"])(h,{ref:r.cfgtime.REF_BUTTON_REFRESH,onClick:r.clickRefresIncomingList,heightButton:22,buttonType:2,title:"refresh lista",style:Object(s["p"])(r.cfgtime.ICON_REFRESH.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(u,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_REFRESH),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"]),zc,Object(s["i"])(h,{ref:r.cfgtime.REF_BUTTON_REFRESH,onClick:r.clickExportExcel,heightButton:22,buttonType:2,title:"export excel incasari",style:Object(s["p"])(r.cfgtime.ICON_EXCEL.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(u,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_EXCEL),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])])])]),Xc,Object(s["g"])("div",Kc,[Object(s["g"])("table",qc,[Object(s["g"])("tr",null,[Qc,Object(s["g"])("td",Zc,Object(s["C"])(r.dataRezume.nr_records),1),Jc,Object(s["g"])("td",tl,Object(s["C"])(r.dataRezume.total_incasari),1)])])]),Object(s["i"])(d,{ref:r.cfgtime.CFG_INVOICE_LIST.ref,pConfig:r.cfgtime.CFG_INVOICE_LIST,onEmitFinallyCustomResponse:o.emitListResumData,onEmitStergIncasare:o.emitStergIncasare,onEmitPrintIncasare:o.emitPrintIncasare},null,8,["pConfig","onEmitFinallyCustomResponse","onEmitStergIncasare","onEmitPrintIncasare"])]})),slotButton:Object(s["H"])((function(){return[]})),_:1},512)],64)}var il={components:{"validate-window":Wt,"form-tab":fn,"my-list":Dn,"check-box":Ce,"my-datetime":gr,"my-dropdown-search":ze,"my-radio-button":Pc,"my-button":K},name:"form-incasez",created:function(){this.REF_FORM="refFormListaIncasari",this.runtime={mode:this.$constFROM.MODE_EDIT,sendDataToServer:!1,message:[],paramInvoiceList:{dataIn:null,dataSf:null,idPartner:0},postDeleteItem:{idPk:null,field:{},sqlAction:null},post:{idPk:null}},this.cfgtime={REF_BUTTON_REFRESH:"refButtonRefresh",ICON_REFRESH:this.$constComponent.ICON_REFRESH("green"),ICON_EXCEL:this.$constComponent.ICON_EXCEL("blue"),DATA_IN:this.cfgDataIn(),DATA_SF:this.cfgDataSf(),PARTNER_LIST:this.cfgDropDownPartner(),URL_DELETE_INCOMING_ITEM:this.$url.getUrl("deleteIncomingDoc"),URL_RECEIPT_PRINT:this.$url.getUrl("receiptPrint"),URL_REPORT_INCOMING_EMITTED:this.$url.getUrl("reportIncasari"),CFG_INVOICE_LIST:{ref:"refDetailList",header:[this.$constList.getHeader(1,"Tip doc.",140,"tip_document",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(2,"Tip incasare",100,"tip_incasare",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(3,"Data chitanta",90,"data_i",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(4,"Nr. chitanta",130,"numar_chitanta",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(5,"Suma incasata",120,"suma",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(6,"Client",450,"nume_client",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(7,"Nr factura",120,"numar_factura",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(5,"Action",100,"null",this.$constList.HEADER.CAPTION_TYPE_ACTION)],recordActionButon:[this.$constList.getActionButton(10,"sterg incasare","emitStergIncasare",this.$constGrid.ICON_DELETE,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null),this.$constList.getActionButton(11,"printez incasare","emitPrintIncasare",this.$constGrid.ICON_PRINT,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null)],cfg:{urlData:"incomingList",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection",heightList:700}}}},emits:[],mounted:function(){this.privateSetListInvoiceParameter()},methods:{clickExportExcel:function(){var t=this;this.privateSetListInvoiceParameter(),this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_REPORT_INCOMING_EMITTED,this.runtime.paramInvoiceList).then((function(e){e.data.succes&&t.$print.downloadXLSX(e.data.custom.fileName,e.data.custom.xls)})).catch((function(t){return console.log(t)})).finally((function(){t.$refs[t.REF_FORM].showModal(!1)}))},emitPrintIncasare:function(t){var e=this,i=t.closest("tr");this.runtime.post.idPk=i.getAttribute("idPk"),this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_RECEIPT_PRINT,this.runtime.post).then((function(t){e.$print.downloadPdf(t.data.fileName,t.data.pdf)})).finally((function(){e.$refs[e.REF_FORM].showModal(!1)}))},refreshInvoiceList:function(){this.privateSetListInvoiceParameter(),this.$refs[this.cfgtime.CFG_INVOICE_LIST.ref].showList(this.runtime.paramInvoiceList)},clickRefresIncomingList:function(){this.refreshInvoiceList()},privateSetListInvoiceParameter:function(){this.runtime.paramInvoiceList.dataIn=this.$refs[this.cfgtime.DATA_IN.ref].getValue(),this.runtime.paramInvoiceList.dataSf=this.$refs[this.cfgtime.DATA_SF.ref].getValue();var t=this.$refs[this.cfgtime.PARTNER_LIST.ref].getValue();this.$check.isUndef(t)?this.runtime.paramInvoiceList.idPartner=0:this.runtime.paramInvoiceList.idPartner=t.id},serverDeleteItem:function(){var t=this;this.runtime.sendDataToServer||(this.$refs.refYesNo.setCaption("Sterg"),this.$refs.refYesNo.setMessage("Sterg incasarea ? <br> Numarul documentului va fi refolosit la urmatoarea incasare."),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_DELETE_INCOMING_ITEM,this.runtime.postDeleteItem).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Fail..."),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.refreshInvoiceList(),t.$refs[t.REF_FORM].showModal(!1)})))},emitStergIncasare:function(t){var e=t.closest("tr");this.runtime.postDeleteItem.idPk=e.getAttribute("idPk"),this.serverDeleteItem()},emitListResumData:function(t){this.dataRezume.nr_records=t.nr_records,this.dataRezume.total_incasari=t.total_incasari},emitYesNo:function(t){1==t?(this.runtime.sendDataToServer=!0,this.serverDeleteItem()):this.runtime.sendDataToServer=!1},cfgDropDownPartner:function(){var t=this.$app.cfgSelectSearch("nomPartner",this.$url.getUrl("listPartener"),450);return t.setValidateFunction(this.validatePartner),t.setCaption("Partener"),t.setMandatory(!0),t},cfgDataIn:function(){var t=this.$app.cfgInputDateTimeField("invoiceDateIn",11,80);return t.setValidateFunction(this.validateDocumentDate),t.setCaption("Interval"),t.setMandatory(!0),t.setShowDefault(this.$constBussines.DATE_FIRSTDAY),t},cfgDataSf:function(){var t=this.$app.cfgInputDateTimeField("invoiceDateSf",11,80);return t.setValidateFunction(this.validateDocumentDate),t.setCaption("Interval"),t.setMandatory(!0),t.setShowDefault(this.$constBussines.DATE_CURRENT),t}},data:function(){return{dataRezume:{nr_records:0,total_incasari:0}}}};const sl=N()(il,[["render",el]]);var nl=sl,al={components:{"my-tab":ws,"my-incasez":yc,"my-lista-incasari":nl},name:"view-incasari",created:function(){this.cfgtime={REF_FORM_INCASEZ:"refFormIncasez",REF_FORM_LISTA_INCASARI:"refFormListaIncasari",tabConfig:{TAB_NEW:{id:"1t"},TAB_LIST:{id:"2t"},header:[this.$constTab.getHeader("1t","Incasez"),this.$constTab.getHeader("2t","Lista incasari")],defaultTabId:"1t",tabsWidth:"1300px"}},this.runtime={}},mounted:function(){this.$refs.refTab.goToTab(this.cfgtime.tabConfig.defaultTabId)},methods:{emitClickTab:function(t){t==this.cfgtime.tabConfig.TAB_NEW.id?this.$refs[this.cfgtime.REF_FORM_INCASEZ].refreshListaFacturiNeincasate():t==this.cfgtime.tabConfig.TAB_LIST.id&&this.$refs[this.cfgtime.REF_FORM_LISTA_INCASARI].refreshInvoiceList()}},data:function(){return{}}};const ol=N()(al,[["render",Qr]]);var rl=ol,cl={class:"ff-workbench",ref:"refWorkBench"},ll=["id"],fl=Object(s["g"])("div",{class:"up-line"},null,-1),ul=["id"],hl=Object(s["g"])("div",{class:"up-line"},null,-1),dl=["id"],gl=Object(s["g"])("div",{class:"up-line"},null,-1);function ml(t,e,i,n,a,o){var r=this,c=Object(s["z"])("my-cheltuiala-new"),l=Object(s["z"])("my-cheltuiala-list"),f=Object(s["z"])("my-cheltuiala-new-product"),u=Object(s["z"])("my-tab");return Object(s["t"])(),Object(s["f"])("div",cl,[Object(s["i"])(u,{ref:"refTab",pConfig:this.cfgtime.tabConfig,onEmitClickTab:o.emitClickTab},{tabs:Object(s["H"])((function(){return[Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab(r.cfgtime.tabConfig.TAB_NEW.id)},[fl,Object(s["i"])(c,{ref:r.cfgtime.REF_CHELTUIALA_NEW},null,512)],8,ll),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab(r.cfgtime.tabConfig.TAB_LIST.id)},[hl,Object(s["i"])(l,{ref:r.cfgtime.REF_CHELTUIALA_LIST},null,512)],8,ul),Object(s["g"])("div",{class:"tab",id:r.$constTab.getIdTab(r.cfgtime.tabConfig.TAB_NEW_PRODUCT.id)},[gl,Object(s["i"])(f,{ref:r.cfgtime.REF_CHELTUIALA_NEW_PRODUCT},null,512)],8,dl)]})),_:1},8,["pConfig","onEmitClickTab"])],512)}var pl={class:"ff-flex-form-center-align"},bl={class:"item-column"},Ol={class:"control"},Tl={class:"item-inline"},El={class:"label"},_l=["for"],Cl={class:"control"},vl={class:"item-inline"},Rl={class:"label"},Al=["for"],Il={class:"control"},Nl={class:"ff-flex-form-end-align"},jl={class:"item-column"},Dl={class:"label"},Ll=["for"],$l={class:"control"},Sl={class:"item-column"},Fl={class:"label"},Pl=["for"],Ml={class:"control"},wl={class:"item-column"},yl={class:"label"},Ul=["for"],kl={class:"control"},Hl={class:"item-column"},Bl={class:"control"},Vl={class:"toolbar-icon-inline"},xl={class:"divButton"},Wl=Object(s["h"])("    "),Yl={class:"divButton"},Gl=Object(s["g"])("div",{class:"line"},null,-1),zl=Object(s["g"])("br",null,null,-1),Xl={class:"ff-flex-form"},Kl={class:"item-inline"},ql={class:"control"},Ql={class:"item-inline"},Zl=Object(s["h"])("                                    "),Jl={class:"control"},tf=["for"],ef={class:"ff-flex-form"},sf={class:"item-column"},nf={class:"label"},af=["for"],of={class:"control"},rf={class:"item-column"},cf={class:"label"},lf=["for"],ff={class:"control"},uf={class:"ff-flex-form"},hf={class:"item-inline"},df={class:"label"},gf=["for"],mf={class:"control"},pf={class:"item-inline"},bf={class:"label"},Of=["for"],Tf={class:"control"},Ef={class:"item-inline"},_f={class:"label",style:{width:"150px"}},Cf=["for"],vf={class:"control"},Rf={class:"item-inline"},Af={class:"label"},If=["for"],Nf={class:"control"},jf={class:"item-inline"},Df={class:"label"},Lf=["for"],$f={class:"control"},Sf={class:"item-inline"},Ff={class:"label"},Pf=["for"],Mf={class:"control"},wf={class:"item-inline"},yf={class:"control"},Uf={class:"buttons"},kf=Object(s["h"])("Adaug"),Hf=Object(s["g"])("br",null,null,-1),Bf={class:"form-rezumat-right"},Vf={class:"ff-form-table"},xf=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"Total tva:")],-1),Wf={class:"control"},Yf=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Total cheltuiala:")],-1),Gf={class:"control"},zf=Object(s["g"])("td",{class:"control"},[Object(s["g"])("div",{style:{width:"160px"}})],-1),Xf={class:"buttons-left"},Kf=Object(s["h"])("Salvez cheltuiala");function qf(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("my-radio-button"),f=Object(s["z"])("my-datetime"),u=Object(s["z"])("input-field"),h=Object(s["z"])("my-dropdown-simple"),d=Object(s["z"])("my-dropdown-search"),g=Object(s["z"])("font-awesome-icon"),m=Object(s["z"])("my-button"),p=Object(s["z"])("check-box"),b=Object(s["z"])("my-list"),O=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["i"])(O,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("div",pl,[Object(s["g"])("div",bl,[Object(s["g"])("div",Ol,[Object(s["i"])(l,{ref:r.cfgtime.TIP_PLATA.ref,pConfig:r.cfgtime.TIP_PLATA,onEmitClickTipPlata:o.emitClickTipPlata},null,8,["pConfig","onEmitClickTipPlata"])])]),Object(s["g"])("div",Tl,[Object(s["g"])("div",El,[Object(s["g"])("label",{for:r.cfgtime.CTR_DATA_CHELTUIALA.id},Object(s["C"])(r.cfgtime.CTR_DATA_CHELTUIALA.caption),9,_l)]),Object(s["g"])("div",Cl,[Object(s["i"])(f,{ref:r.cfgtime.CTR_DATA_CHELTUIALA.ref,pConfig:r.cfgtime.CTR_DATA_CHELTUIALA},null,8,["pConfig"])])]),Object(s["g"])("div",vl,[Object(s["g"])("div",Rl,[Object(s["g"])("label",{for:r.cfgtime.CTR_NR_DOCUMENT.id},Object(s["C"])(r.cfgtime.CTR_NR_DOCUMENT.caption),9,Al)]),Object(s["g"])("div",Il,[Object(s["i"])(u,{ref:r.cfgtime.CTR_NR_DOCUMENT.ref,pConfig:r.cfgtime.CTR_NR_DOCUMENT},null,8,["pConfig"])])])]),Object(s["g"])("div",Nl,[Object(s["g"])("div",jl,[Object(s["g"])("div",Dl,[Object(s["g"])("label",{for:r.cfgtime.CTR_DOCUMENT_TYPE.id},Object(s["C"])(r.cfgtime.CTR_DOCUMENT_TYPE.caption),9,Ll)]),Object(s["g"])("div",$l,[Object(s["i"])(h,{pConfig:r.cfgtime.CTR_DOCUMENT_TYPE,ref:r.cfgtime.CTR_DOCUMENT_TYPE.ref},null,8,["pConfig"])])]),Object(s["g"])("div",Sl,[Object(s["g"])("div",Fl,[Object(s["g"])("label",{for:r.cfgtime.CTR_TIP_CHELTUIELI.id},Object(s["C"])(r.cfgtime.CTR_TIP_CHELTUIELI.caption),9,Pl)]),Object(s["g"])("div",Ml,[Object(s["i"])(h,{pConfig:r.cfgtime.CTR_TIP_CHELTUIELI,ref:r.cfgtime.CTR_TIP_CHELTUIELI.ref},null,8,["pConfig"])])]),Object(s["g"])("div",wl,[Object(s["g"])("div",yl,[Object(s["g"])("label",{for:r.cfgtime.CTR_PARTNER_LIST.id},Object(s["C"])(r.cfgtime.CTR_PARTNER_LIST.caption),9,Ul)]),Object(s["g"])("div",kl,[Object(s["i"])(d,{ref:r.cfgtime.CTR_PARTNER_LIST.ref,pConfig:r.cfgtime.CTR_PARTNER_LIST},null,8,["pConfig"])])]),Object(s["g"])("div",Hl,[Object(s["g"])("div",Bl,[Object(s["g"])("div",Vl,[Object(s["g"])("div",xl,[Wl,Object(s["i"])(m,{ref:r.cfgtime.REF_BUTTON_ADD_CHELT,onClick:r.serverAddNewChelt,heightButton:22,buttonType:2,title:"adauga factura",style:Object(s["p"])(r.cfgtime.ICON_ADD_CHELT.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(g,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_ADD_CHELT),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])]),Object(s["g"])("div",Yl,[Object(s["i"])(m,{ref:r.cfgtime.REF_BUTTON_REMOVE_CHELT,onClick:r.serverDeleteAntet,heightButton:22,buttonType:2,title:"sterg factura",style:Object(s["p"])(r.cfgtime.ICON_REMOVE_CHELT.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(g,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_REMOVE_CHELT),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])])])])]),Gl,zl,Object(s["g"])("div",Xl,[Object(s["g"])("div",Kl,[Object(s["g"])("div",ql,[Object(s["i"])(l,{ref:r.cfgtime.CTR_TIP_SUMA.ref,pConfig:r.cfgtime.CTR_TIP_SUMA,onEmitClickTipSumaTva:o.emitClickTipSumaTva},null,8,["pConfig","onEmitClickTipSumaTva"])])]),Object(s["g"])("div",Ql,[Zl,Object(s["g"])("div",Jl,[Object(s["i"])(p,{pConfig:r.cfgtime.CTR_SUMA_TVA_MANUALA,ref:r.cfgtime.CTR_SUMA_TVA_MANUALA.ref,onEmitSumaTvaManuala:o.emitSumaTvaManuala},null,8,["pConfig","onEmitSumaTvaManuala"]),Object(s["g"])("label",{class:"label-bold",for:r.cfgtime.CTR_SUMA_TVA_MANUALA.id},Object(s["C"])(r.cfgtime.CTR_SUMA_TVA_MANUALA.caption),9,tf)])])]),Object(s["g"])("div",ef,[Object(s["g"])("div",sf,[Object(s["g"])("div",nf,[Object(s["g"])("label",{for:r.cfgtime.CTR_CATEGORIE_CHELTUIALA.id},Object(s["C"])(r.cfgtime.CTR_CATEGORIE_CHELTUIALA.caption),9,af)]),Object(s["g"])("div",of,[Object(s["i"])(h,{pConfig:r.cfgtime.CTR_CATEGORIE_CHELTUIALA,ref:r.cfgtime.CTR_CATEGORIE_CHELTUIALA.ref},null,8,["pConfig"])])]),Object(s["g"])("div",rf,[Object(s["g"])("div",cf,[Object(s["g"])("label",{for:r.cfgtime.CTR_PRODUCT_LIST.id},Object(s["C"])(r.cfgtime.CTR_PRODUCT_LIST.caption),9,lf)]),Object(s["g"])("div",ff,[Object(s["i"])(d,{ref:r.cfgtime.CTR_PRODUCT_LIST.ref,pConfig:r.cfgtime.CTR_PRODUCT_LIST},null,8,["pConfig"])])])]),Object(s["g"])("div",uf,[Object(s["g"])("div",hf,[Object(s["g"])("div",df,[Object(s["g"])("label",{for:r.cfgtime.CTR_UM.id},Object(s["C"])(r.cfgtime.CTR_UM.caption),9,gf)]),Object(s["g"])("div",mf,[Object(s["i"])(h,{pConfig:r.cfgtime.CTR_UM,ref:r.cfgtime.CTR_UM.ref},null,8,["pConfig"])])]),Object(s["g"])("div",pf,[Object(s["g"])("div",bf,[Object(s["g"])("label",{for:r.cfgtime.CTR_CANTITATE.id},Object(s["C"])(r.cfgtime.CTR_CANTITATE.caption),9,Of)]),Object(s["g"])("div",Tf,[Object(s["i"])(u,{ref:r.cfgtime.CTR_CANTITATE.ref,pConfig:r.cfgtime.CTR_CANTITATE,onEmitKeyUpCantitate:o.emitKeyUpCantitate},null,8,["pConfig","onEmitKeyUpCantitate"])])]),Object(s["g"])("div",Ef,[Object(s["g"])("div",_f,[Object(s["g"])("label",{ref:r.cfgtime.REF_LABEL_SUMA,for:r.cfgtime.CTR_SUMA_UNITARA.id},Object(s["C"])(r.cfgtime.CTR_SUMA_UNITARA.caption),9,Cf)]),Object(s["g"])("div",vf,[Object(s["i"])(u,{ref:r.cfgtime.CTR_SUMA_UNITARA.ref,pConfig:r.cfgtime.CTR_SUMA_UNITARA,onEmitKeyUpSuma:o.emitKeyUpSuma},null,8,["pConfig","onEmitKeyUpSuma"])])]),Object(s["g"])("div",Rf,[Object(s["g"])("div",Af,[Object(s["g"])("label",{for:r.cfgtime.CTR_SUMA_TOTAL_TVA.id},Object(s["C"])(r.cfgtime.CTR_SUMA_TOTAL_TVA.caption),9,If)]),Object(s["g"])("div",Nf,[Object(s["i"])(u,{ref:r.cfgtime.CTR_SUMA_TOTAL_TVA.ref,pConfig:r.cfgtime.CTR_SUMA_TOTAL_TVA},null,8,["pConfig"])])]),Object(s["g"])("div",jf,[Object(s["g"])("div",Df,[Object(s["g"])("label",{for:r.cfgtime.CTR_SUMA_PRETUNITAR_FARA_TVA.id},Object(s["C"])(r.cfgtime.CTR_SUMA_PRETUNITAR_FARA_TVA.caption),9,Lf)]),Object(s["g"])("div",$f,[Object(s["i"])(u,{ref:r.cfgtime.CTR_SUMA_PRETUNITAR_FARA_TVA.ref,pConfig:r.cfgtime.CTR_SUMA_PRETUNITAR_FARA_TVA},null,8,["pConfig"])])]),Object(s["g"])("div",Sf,[Object(s["g"])("div",Ff,[Object(s["g"])("label",{for:r.cfgtime.CTR_PROCENT_TVA.id},Object(s["C"])(r.cfgtime.CTR_PROCENT_TVA.caption),9,Pf)]),Object(s["g"])("div",Mf,[Object(s["i"])(u,{ref:r.cfgtime.CTR_PROCENT_TVA.ref,pConfig:r.cfgtime.CTR_PROCENT_TVA,onEmitKeyUpPercenTVA:o.emitKeyUpPercenTVA},null,8,["pConfig","onEmitKeyUpPercenTVA"])])]),Object(s["g"])("div",wf,[Object(s["g"])("div",yf,[Object(s["g"])("div",Uf,[Object(s["i"])(m,{ref:r.cfgtime.REF_BUTTON_ADD_ITEM,onClick:r.serverAddArticol,heightButton:22,buttonType:0,title:"adaug articol in factura"},{default:Object(s["H"])((function(){return[kf]})),_:1},8,["onClick"])])])])]),Object(s["i"])(b,{ref:r.cfgtime.CTR_EXPENSE_DETAIL_LIST.ref,pConfig:r.cfgtime.CTR_EXPENSE_DETAIL_LIST,onEmitListRowSelection:o.emitDetailListRowSelection,onEmitStergArticol:o.emitStergArticol,onEmitFinallyCustomResponse:o.emitListaSumary},null,8,["pConfig","onEmitListRowSelection","onEmitStergArticol","onEmitFinallyCustomResponse"]),Hf,Object(s["g"])("div",Bf,[Object(s["g"])("table",Vf,[Object(s["g"])("tr",null,[xf,Object(s["g"])("td",Wf,Object(s["C"])(r.sumar.total_tva),1),Yf,Object(s["g"])("td",Gf,Object(s["C"])(r.sumar.total),1),zf])])])]})),slotButton:Object(s["H"])((function(){return[Object(s["g"])("div",Xf,[Object(s["i"])(m,{ref:r.cfgtime.REF_BUTTON_SAVE_EXPENSE,onClick:r.serverSaveExpense,heightButton:22,buttonType:0,title:"salvez documentul in baza de date"},{default:Object(s["H"])((function(){return[Kf]})),_:1},8,["onClick"])])]})),_:1},512)],64)}var Qf={components:{"form-tab":fn,"validate-window":Wt,"my-radio-button":Pc,"my-datetime":gr,"input-field":ki,"my-dropdown-simple":Le,"my-dropdown-search":ze,"my-button":K,"check-box":Ce,"my-list":Dn},name:"form-chletuiala-new",created:function(){this.REF_FORM="refCheltuialaNew",this.cfgtime={REF_LABEL_SUMA:"refLabelSuma",REF_BUTTON_ADD_CHELT:"refAddChelt",REF_BUTTON_REMOVE_CHELT:"refRemoveChelt",REF_BUTTON_ADD_ITEM:"refAddItem",REF_BUTTON_SAVE_EXPENSE:"refSalvezCheltuiala",TIP_PLATA:{id:"refTipPlata",ref:"refTipPlata",caption:"Tip plata",alignment:this.$constRadioButton.ALIGNMENT_H,name:"tipPlata",emit:"emitClickTipPlata",buttons:[{id:1,value:"1",caption:"Numerar",check:!0,disableOption:!1},{id:2,value:"2",caption:"Banca",check:!1,disableOption:!1}]},CTR_DATA_CHELTUIALA:this.cfgDataCheltuiala(),CTR_NR_DOCUMENT:this.cfgNrDoc(),CTR_DOCUMENT_TYPE:this.cfgDocumentType(),CTR_TIP_CHELTUIELI:this.cfgCheltuieliType(),CTR_PARTNER_LIST:this.cfgDropDownPartner(),ICON_ADD_CHELT:this.$constComponent.ICON_PLUS_SQUARE("blue"),ICON_REMOVE_CHELT:this.$constComponent.ICON_MINUS_SQUARE("red"),URL_INSERT_ANTET:this.$url.getUrl("insertExpenseAntet"),URL_INSERT_ARTICOL:this.$url.getUrl("insertExpenseArticol"),URL_CHECK_WORKING_EXPENSE:this.$url.getUrl("checkWorkingExpense"),URL_DELETE_EXPENSE:this.$url.getUrl("deleteAntetExpense"),URL_DELETE_ITEM_EXPENSE:this.$url.getUrl("deleteExpenseArticol"),URL_SAVE_EXPENSE:this.$url.getUrl("saveExpense"),CTR_TIP_SUMA:{id:"refTipSuma",ref:"refTipSuma",caption:"Suma",alignment:this.$constRadioButton.ALIGNMENT_H,name:"tipSumaTva",emit:"emitClickTipSumaTva",buttons:[{id:1,value:"1",caption:"Suma totala fara TVA",check:!0,disableOption:!1},{id:2,value:"2",caption:"Suma totala cu TVA",check:!1,disableOption:!1}]},CTR_CATEGORIE_CHELTUIALA:this.cfgCategoriiCheltuieli(),CTR_PRODUCT_LIST:this.cfgDropDownProducts(),CTR_UM:this.cfgUm(),CTR_CANTITATE:this.cfgCantitate(),CTR_SUMA_UNITARA:this.cfgSumaUnitara(),CTR_SUMA_TOTAL_TVA:this.cfgSumaTVA(),CTR_SUMA_PRETUNITAR_FARA_TVA:this.cfgPretUnitarFaraTva(),CTR_PROCENT_TVA:this.cfgTva(),CTR_SUMA_TVA_MANUALA:this.cfgSumaTvaManuala(),CTR_EXPENSE_DETAIL_LIST:{ref:"refDetailList",header:[this.$constList.getHeader(1,"Nr.",20,"row_num",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(2,"Cat",100,"tip_cat",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(3,"Nume produs",500,"produs",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_LEFT),this.$constList.getHeader(4,"UM",30,"um",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(5,"Cantitate",80,"cantitate",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(6,"Pret unitar",100,"pret_unitar",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(7,"Valoare fara TVA",110,"total_fara_tva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(8,"Valoare TVA",100,"total_tva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(9,"Total",90,"total",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(10,"% TVA",70,"procent_tva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(20,"Action",100,"null",this.$constList.HEADER.CAPTION_TYPE_ACTION)],recordActionButon:[this.$constList.getActionButton(4,"sterg articol","emitStergArticol",this.$constGrid.ICON_DELETE,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null)],cfg:{urlData:"detailExpenseList",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection"}}},this.runtime={mode:this.$constFROM.MODE_EDIT,sendDataToServer:!1,antetData:null,yesNoMethod:"methodName",calculezTvaManual:!1,post:{idPk:null,field:{},sqlAction:null},postArticol:{idPk:null,idExpense:null,field:{},sqlAction:null},sumaTotalaCuTva:0}},emits:["emitModel"],mounted:function(){},methods:{serverSaveExpense:function(){var t=this;this.runtime.sendDataToServer||(this.runtime.yesNoMethod="serverSaveExpense",this.$refs.refYesNo.setCaption("Salvez"),this.$refs.refYesNo.setMessage("Salvez cheltuiala in baza de date ?"),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.axios.post(this.cfgtime.URL_SAVE_EXPENSE,this.runtime.antetData).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Fail..."),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.serverCheckWorkingExpense(),t.$refs[t.REF_FORM].showModal(!1)})))},serverAddArticol:function(){var t=this;if(this.validateNewArticol())return this.$refs.validateWindowRef.show(),!1;this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_INSERT_ARTICOL,this.runtime.postArticol).then((function(t){t.data.succes})).catch((function(t){return console.log(t)})).finally((function(){t.showListItems(),t.$refs[t.REF_FORM].showModal(!1)}))},serverAddNewChelt:function(){var t=this;if(this.validateNewDoc())return this.$refs.validateWindowRef.show(),!1;this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_INSERT_ANTET,this.runtime.post).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Antetul nu poate fi inregistrat"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.serverCheckWorkingExpense(),t.$refs[t.REF_FORM].showModal(!1)}))},serverDeleteAntet:function(){var t=this;this.runtime.sendDataToServer||(this.runtime.yesNoMethod="serverDeleteAntet",this.$refs.refYesNo.setCaption("Sterg cheltuiala?"),this.$refs.refYesNo.setMessage("Datele sterse nu mai pot fi recuperate."),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.runtime.post.idPk=this.runtime.antetData.id,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_DELETE_EXPENSE,this.runtime.post).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Nu se poate sterge documentul"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.serverCheckWorkingExpense(),t.$refs[t.REF_FORM].showModal(!1)})))},serverCheckWorkingExpense:function(){var t=this;this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_CHECK_WORKING_EXPENSE).then((function(e){e.data.succes&&(e.data.records.length>0?t.runtime.antetData=e.data.records[0]:t.runtime.antetData=null)})).catch((function(t){return console.log(t)})).finally((function(){t.fillAFormAntet(),t.$refs[t.REF_FORM].showModal(!1)}))},serverDeleteItemChelt:function(){var t=this;this.runtime.sendDataToServer||(this.runtime.yesNoMethod="serverDeleteItemChelt",this.$refs.refYesNo.setCaption("Sterg inregistrarea?"),this.$refs.refYesNo.setMessage("Datele sterse nu mai pot fi recuperate."),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.axios.post(this.cfgtime.URL_DELETE_ITEM_EXPENSE,this.runtime.post).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Nu se poate sterge elementul"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.showListItems(),t.$refs[t.REF_FORM].showModal(!1)})))},emitStergArticol:function(t){var e=t.closest("tr");this.runtime.post.idPk=e.getAttribute("idPk"),this.serverDeleteItemChelt()},emitListaSumary:function(t){this.sumar.total_tva=t.total_tva,this.sumar.total=t.total},emitDetailListRowSelection:function(){},showListItems:function(){var t=0;this.$check.isUndef(this.runtime.antetData)||(t=this.runtime.antetData.id),this.$refs[this.cfgtime.CTR_EXPENSE_DETAIL_LIST.ref].showList({idExpense:t})},emitKeyUpPercenTVA:function(t){this.privateCalculateTVA("from emitKeyUpPercenTVA")},emitKeyUpSuma:function(t){this.privateCalculateTVA("from emitKeyUpSuma")},emitKeyUpCantitate:function(t){this.privateCalculateTVA("from KeyUpCantitate")},emitClickTipSumaTva:function(){for(var t=this.$refs[this.cfgtime.CTR_TIP_SUMA.ref].getValue(),e=0;e<this.cfgtime.CTR_TIP_SUMA.buttons.length;e++)t==this.cfgtime.CTR_TIP_SUMA.buttons[e].id&&(this.$refs[this.cfgtime.REF_LABEL_SUMA].innerHTML=this.cfgtime.CTR_TIP_SUMA.buttons[e].caption);this.privateCalculateTVA("from emitClickTipSumaTva")},emitSumaTvaManuala:function(t){this.runtime.calculezTvaManual=t.checked,this.$refs[this.cfgtime.CTR_SUMA_TOTAL_TVA.ref].setReadOnly(!this.runtime.calculezTvaManual),this.runtime.calculezTvaManual&&this.$refs[this.cfgtime.CTR_SUMA_TOTAL_TVA.ref].setValue(0),this.privateCalculateTVA("from emitSumaTvaManuala")},privateCalculateTVA:function(t){var e=this.$refs[this.cfgtime.CTR_TIP_SUMA.ref].getValue(),i=this.$refs[this.cfgtime.CTR_SUMA_UNITARA.ref].getValue(),s=this.$refs[this.cfgtime.CTR_PROCENT_TVA.ref].getValue(),n=this.$refs[this.cfgtime.CTR_CANTITATE.ref].getValue(),a=this.$calculate.tva(e,i,s,n);this.runtime.calculezTvaManual||this.$refs[this.cfgtime.CTR_SUMA_TOTAL_TVA.ref].setValue(a.sumaTVA),this.$refs[this.cfgtime.CTR_SUMA_PRETUNITAR_FARA_TVA.ref].setValue(a.pretUnitarFaraTva),this.runtime.sumaTotalaCuTva=a.sumaFaraTVA},emitClickTipPlata:function(){},fillAFormAntet:function(){this.$check.isUndef(this.runtime.antetData)?(this.setModeForm(this.$constFROM.MODE_NEW),this.runtime.post.idPk=null,this.$refs[this.cfgtime.TIP_PLATA.ref].resetSelection(),this.$refs[this.cfgtime.CTR_NR_DOCUMENT.ref].setValue(""),this.$refs[this.cfgtime.CTR_DOCUMENT_TYPE.ref].setValue(this.cfgtime.CTR_DOCUMENT_TYPE.getDefaultValue().id),this.$refs[this.cfgtime.CTR_TIP_CHELTUIELI.ref].setValue(this.cfgtime.CTR_TIP_CHELTUIELI.getDefaultValue().id),this.$refs[this.cfgtime.CTR_PARTNER_LIST.ref].resetDataSelected(),this.$refs[this.cfgtime.CTR_PARTNER_LIST.ref].clearWordSearch()):(this.setModeForm(this.$constFROM.MODE_EDIT),this.runtime.post.idPk=this.runtime.antetData.id,this.runtime.postArticol.idExpense=this.runtime.antetData.id,this.$refs[this.cfgtime.TIP_PLATA.ref].setCheck(this.runtime.antetData.id_tipplata),this.$refs[this.cfgtime.CTR_DATA_CHELTUIALA.ref].setValueFromSqlFormat(this.runtime.antetData.datac),this.$refs[this.cfgtime.CTR_NR_DOCUMENT.ref].setValue(this.runtime.antetData.cNrDoc),this.$refs[this.cfgtime.CTR_PARTNER_LIST.ref].setDataSelected({id:this.runtime.antetData.id_part,caption:this.runtime.antetData.partner_name}),this.$refs[this.cfgtime.CTR_DOCUMENT_TYPE.ref].setValue(this.runtime.antetData.id_tipd),this.$refs[this.cfgtime.CTR_TIP_CHELTUIELI.ref].setValue(this.runtime.antetData.id_tipc)),this.showListItems()},setModeForm:function(t){this.runtime.mode=t;var e=!0;this.runtime.mode==this.$constFROM.MODE_EDIT&&(e=!0,this.$refs[this.cfgtime.REF_BUTTON_ADD_CHELT].disable(e),this.$refs[this.cfgtime.REF_BUTTON_REMOVE_CHELT].disable(!1),this.$refs[this.cfgtime.REF_BUTTON_ADD_ITEM].disable(!1),this.$refs[this.cfgtime.REF_BUTTON_SAVE_EXPENSE].disable(!1)),this.runtime.mode==this.$constFROM.MODE_NEW&&(e=!1,this.$refs[this.cfgtime.REF_BUTTON_ADD_CHELT].disable(e),this.$refs[this.cfgtime.REF_BUTTON_REMOVE_CHELT].disable(!0),this.$refs[this.cfgtime.REF_BUTTON_ADD_ITEM].disable(!0),this.$refs[this.cfgtime.REF_BUTTON_SAVE_EXPENSE].disable(!0)),this.$refs[this.cfgtime.CTR_TIP_CHELTUIELI.ref].setReadOnly(e),this.$refs[this.cfgtime.TIP_PLATA.ref].disabledAll(e),this.$refs[this.cfgtime.CTR_DATA_CHELTUIALA.ref].setReadOnly(e),this.$refs[this.cfgtime.CTR_NR_DOCUMENT.ref].setReadOnly(e),this.$refs[this.cfgtime.CTR_PARTNER_LIST.ref].setReadOnly(e),this.$refs[this.cfgtime.CTR_DOCUMENT_TYPE.ref].setReadOnly(e),this.$refs[this.cfgtime.CTR_TIP_CHELTUIELI.ref].setReadOnly(e)},emitYesNoButton:function(t){1==t?(this.runtime.sendDataToServer=!0,this[this.runtime.yesNoMethod].apply()):this.runtime.sendDataToServer=!1},setPost:function(t,e){this.runtime.post["field"][t.name]=e},setPostArticol:function(t,e){this.runtime.postArticol["field"][t.name]=e},validateNewArticol:function(){var t=!1;this.runtime.message=[];var e=[this.$refs[this.cfgtime.CTR_CATEGORIE_CHELTUIALA.ref],this.$refs[this.cfgtime.CTR_PRODUCT_LIST.ref],this.$refs[this.cfgtime.CTR_UM.ref],this.$refs[this.cfgtime.CTR_CANTITATE.ref],this.$refs[this.cfgtime.CTR_SUMA_UNITARA.ref],this.$refs[this.cfgtime.CTR_SUMA_PRETUNITAR_FARA_TVA.ref],this.$refs[this.cfgtime.CTR_SUMA_TOTAL_TVA.ref],this.$refs[this.cfgtime.CTR_PROCENT_TVA.ref]];return this.$check.validateForm(e),this.runtime.message.length>0&&(this.$refs.validateWindowRef.setCaption("Articolul nu poate fi inregistrat"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.message)),t=!0),t},validateNewDoc:function(){var t=!1;this.runtime.message=[];var e=[this.$refs[this.cfgtime.TIP_PLATA.ref],this.$refs[this.cfgtime.CTR_DATA_CHELTUIALA.ref],this.$refs[this.cfgtime.CTR_NR_DOCUMENT.ref],this.$refs[this.cfgtime.CTR_DOCUMENT_TYPE.ref],this.$refs[this.cfgtime.CTR_TIP_CHELTUIELI.ref],this.$refs[this.cfgtime.CTR_PARTNER_LIST.ref]];return this.$check.validateForm(e),this.runtime.message.length>0&&(this.$refs.validateWindowRef.setCaption("Datele nu pot fi inregistrate"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.message)),t=!0),t},validateSumaPretUnitarFaraTva:function(){var t=this.cfgtime.CTR_SUMA_PRETUNITAR_FARA_TVA,e=+this.$refs[t.ref].getValue();this.$check.isNumber(e)?0==e&&this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Pretul unitar trebuie sa fie mai mare ca zero!")):this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Suma trebuie fie o valoare numerica!")),this.setPostArticol(t,e)},validateSumaTVA:function(){var t=this.cfgtime.CTR_SUMA_TOTAL_TVA,e=+this.$refs[t.ref].getValue();this.$check.isNumber(e)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Suma trebuie fie o valoare numerica!")),this.setPostArticol(t,e)},validateTVA:function(){var t=this.cfgtime.CTR_PROCENT_TVA,e=+this.$refs[t.ref].getValue();this.$check.isNumber(e)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Procentul trebuie fie o valoare numerica!")),this.setPostArticol(t,e)},validateSumaUnitara:function(){var t=this.cfgtime.CTR_SUMA_UNITARA,e=+this.runtime.sumaTotalaCuTva;this.$check.isNumber(e)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Suma trebuie sa fie o valoare numerica!")),this.setPostArticol(t,e)},validateCantitate:function(){var t=this.cfgtime.CTR_CANTITATE,e=+this.$refs[t.ref].getValue();this.$check.isNumber(e)?0==e&&this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Cantitatea trebuie sa fie diferita de ZERO!")):this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Cantitatea trebuie sa fie o valoare numerica!")),this.setPostArticol(t,e)},validateDocumentDate:function(){var t=this.cfgtime.CTR_DATA_CHELTUIALA,e=this.$refs[t.ref].getValue(),i=this.$refs[t.ref].getSplitValue();this.$check.isExistDate(i,!0)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Data documentului este gresita!"));var s=this.cfgtime.TIP_PLATA,n=this.$refs[s.ref].getValue();this.$check.isUndef(n)&&this.runtime.message.push(this.$app.getFormMessageClass(t.id,s.caption,"Trebuie sa alegi tipul de incasare")),this.setPost(s,n),this.setPost(t,e)},validateNrDoc:function(){var t=this.cfgtime.CTR_NR_DOCUMENT,e=this.$refs[t.ref].getValue();this.$check.lenghtMinMax(e,t.minLength,t.maxLength)||this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"trebuie sa aiba minim "+t.minLength+" si maxim "+t.maxLength+" caractere")),this.setPost(t,e)},validateCheltuieliType:function(){var t=this.cfgtime.CTR_TIP_CHELTUIELI,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi tipul de cheltuiala.")):i=e.id,this.setPost(t,i)},validateInvoiceType:function(){var t=this.cfgtime.CTR_DOCUMENT_TYPE,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi tipul de document.")):i=e.id,this.setPost(t,i)},validatePartner:function(){var t=this.cfgtime.CTR_PARTNER_LIST,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi un partener")):i=e.id,this.setPost(t,i)},validateUm:function(){var t=this.cfgtime.CTR_UM,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi unitatea de masura.")):i=e.id,this.setPostArticol(t,i)},validateProduct:function(){var t=this.cfgtime.CTR_PRODUCT_LIST,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi un produs")):i=e.id,this.setPostArticol(t,i)},validateCategoriCheltuieli:function(){var t=this.cfgtime.CTR_CATEGORIE_CHELTUIALA,e=this.$refs[t.ref].getValue(),i=-1;this.$check.isUndef(e)||parseInt(e.id)<1?this.runtime.message.push(this.$app.getFormMessageClass(t.id,t.caption,"Trebuie sa alegi categoria de cheltuiala.")):i=e.id,this.setPostArticol(t,i)},cfgDataCheltuiala:function(){var t=this.$app.cfgInputDateTimeField("dataCheltuiala",11,80);return t.setValidateFunction(this.validateDocumentDate),t.setCaption("Data"),t.setMandatory(!0),t},cfgNrDoc:function(){var t=this.$app.cfgInputField("nrDoc",null,120);return t.setValidate(2,20),t.setValidateFunction(this.validateNrDoc),t.setCaption("Nr. document"),t.setMandatory(!0),t.setMaska(""),t},cfgCheltuieliType:function(){var t=this.$app.cfgSelectSimple("nomTypeCheltuieli",this.$url.getUrl("nomTipCheltuieli"),200);return t.setValidateFunction(this.validateCheltuieliType),t.setCaption("Tip cheltuiala"),t.setMandatory(!0),t.setPlaceHolder("... (tip cheltuiala)"),t.setDefaultValue({id:0,text:"... (tip cheltuiala)"}),t},cfgDocumentType:function(){var t=this.$app.cfgSelectSimple("nomDocumentType",this.$url.getUrl("nomDocumentTipe"),200);return t.setValidateFunction(this.validateInvoiceType),t.setCaption("Tip document"),t.setMandatory(!0),t.setPlaceHolder("... (tip document)"),t.setDefaultValue({id:0,text:"... (tip document)"}),t},cfgDropDownPartner:function(){var t=this.$app.cfgSelectSearch("nomPartner",this.$url.getUrl("listPartener"),450);return t.setValidateFunction(this.validatePartner),t.setCaption("Furnizor"),t.setMandatory(!0),t},cfgCategoriiCheltuieli:function(){var t=this.$app.cfgSelectSimple("nomCategoriCheltuieli",this.$url.getUrl("nomCategoriCheltuieli"),270);return t.setValidateFunction(this.validateCategoriCheltuieli),t.setCaption("Categorie cheltuiala"),t.setMandatory(!0),t.setPlaceHolder("... (cat. cheltuiala)"),t.setDefaultValue({id:0,text:"... (cat. cheltuiala)"}),t},cfgDropDownProducts:function(){var t=this.$app.cfgSelectSearch("nomProducts",this.$url.getUrl("listProducts"),450);return t.setValidateFunction(this.validateProduct),t.setCaption("Produse"),t.setMandatory(!0),t},cfgUm:function(){var t=this.$app.cfgSelectSimple("nomUm",this.$url.getUrl("nomTipUm"),170);return t.setValidateFunction(this.validateUm),t.setCaption("Unitate de masura"),t.setMandatory(!0),t.setPlaceHolder("... (unitate de masura)"),t.setDefaultValue({id:0,text:"... (unitate de masura)"}),t},cfgCantitate:function(){var t=this.$app.cfgInputField("cantitate",null,65);return t.setValidate(2,20),t.setValidateFunction(this.validateCantitate),t.setCaption("Cantitate"),t.setMandatory(!0),t.setMaska(""),t.setEmitKeyUp("emitKeyUpCantitate"),t.setDefaultValue(1),t},cfgSumaUnitara:function(){var t=this.$app.cfgInputField("sumaUnitara",null,70);return t.setValidate(2,20),t.setValidateFunction(this.validateSumaUnitara),t.setCaption("Suma totala fara TVA"),t.setMandatory(!0),t.setMaska(""),t.setEmitKeyUp("emitKeyUpSuma"),t.setDefaultValue(0),t},cfgSumaTVA:function(){var t=this.$app.cfgInputField("sumaTva",null,70);return t.setValidate(2,20),t.setValidateFunction(this.validateSumaTVA),t.setCaption("Total TVA"),t.setMandatory(!0),t.setMaska(""),t.readOnly=!0,t.setDefaultValue(0),t},cfgPretUnitarFaraTva:function(){var t=this.$app.cfgInputField("sumaPretUnitarFaraTva",null,70);return t.setValidate(2,20),t.setValidateFunction(this.validateSumaPretUnitarFaraTva),t.setCaption("Pret unitar fara tva"),t.setMandatory(!0),t.setMaska(""),t.readOnly=!0,t.setDefaultValue(0),t},cfgTva:function(){var t=this.$app.cfgInputField("tva",null,40);return t.setValidateFunction(this.validateTVA),t.setCaption("TVA"),t.setMandatory(!0),t.setMaska(""),t.setEmitKeyUp("emitKeyUpPercenTVA"),t.setDefaultValue(19),t},cfgSumaTvaManuala:function(){var t=this.$app.cfgCheckBox("sumaTvaManuala",!1);return t.setEmit("emitSumaTvaManuala"),t.setCaption("Calculez tva manual"),t.setValidateFunction(this.validateTvaManual),t}},data:function(){return{sumar:{total_tva:0,total:0}}}};const Zf=N()(Qf,[["render",qf]]);var Jf=Zf,tu={class:"ff-form-table"},eu={class:"label-left bold",colspan:"1"},iu=["for"],su=Object(s["h"])("   "),nu=Object(s["h"])(" - "),au={class:"control"},ou={class:"control"},ru={class:"prime-button last-button"},cu=Object(s["h"])("   "),lu=Object(s["h"])("    "),fu=Object(s["g"])("br",null,null,-1),uu={class:"form-rezumat-left"},hu={class:"ff-form-table"},du=Object(s["g"])("td",null,[Object(s["g"])("div",{style:{width:"20px"}})],-1),gu=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"Inregistrari:")],-1),mu={class:"control"},pu=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   TVA:")],-1),bu={class:"control"},Ou=Object(s["g"])("td",{class:"label-left bold"},[Object(s["g"])("label",null,"   Total:")],-1),Tu={class:"control"};function Eu(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("my-datetime"),f=Object(s["z"])("my-dropdown-search"),u=Object(s["z"])("font-awesome-icon"),h=Object(s["z"])("my-button"),d=Object(s["z"])("my-list"),g=Object(s["z"])("my-list-detail"),m=Object(s["z"])("my-popup"),p=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["i"])(p,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("table",tu,[Object(s["g"])("tr",null,[Object(s["g"])("td",eu,[Object(s["g"])("label",{for:r.cfgtime.DATA_IN.id},Object(s["C"])(r.cfgtime.DATA_IN.caption),9,iu),su,Object(s["i"])(l,{ref:r.cfgtime.DATA_IN.ref,pConfig:r.cfgtime.DATA_IN},null,8,["pConfig"]),nu,Object(s["i"])(l,{ref:r.cfgtime.DATA_SF.ref,pConfig:r.cfgtime.DATA_SF},null,8,["pConfig"])]),Object(s["g"])("td",au,[Object(s["i"])(f,{ref:r.cfgtime.PARTNER_LIST.ref,pConfig:r.cfgtime.PARTNER_LIST},null,8,["pConfig"])]),Object(s["g"])("td",ou,[Object(s["g"])("div",ru,[cu,Object(s["i"])(h,{ref:r.cfgtime.REF_BUTTON_REFRESH,onClick:r.clickExpenseList,heightButton:22,buttonType:2,title:"refresh lista",style:Object(s["p"])(r.cfgtime.ICON_REFRESH.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(u,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_REFRESH),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"]),lu,Object(s["i"])(h,{ref:r.cfgtime.REF_BUTTON_REFRESH,onClick:r.clickExportExcel,heightButton:22,buttonType:2,title:"export excel cheltuieli",style:Object(s["p"])(r.cfgtime.ICON_EXCEL.colorStyle)},{default:Object(s["H"])((function(){return[Object(s["i"])(u,{icon:r.$constComponent.cfgIconPicture(r.cfgtime.ICON_EXCEL),size:"1x"},null,8,["icon"])]})),_:1},8,["onClick","style"])])])])]),fu,Object(s["g"])("div",uu,[Object(s["g"])("table",hu,[Object(s["g"])("tr",null,[du,gu,Object(s["g"])("td",mu,Object(s["C"])(r.dataRezume.nr_records),1),pu,Object(s["g"])("td",bu,Object(s["C"])(r.dataRezume.total_expense_tva),1),Ou,Object(s["g"])("td",Tu,Object(s["C"])(r.dataRezume.total_expense),1)])])]),Object(s["i"])(d,{ref:r.cfgtime.CFG_EXPENSE_LIST.ref,pConfig:r.cfgtime.CFG_EXPENSE_LIST,onEmitFinallyCustomResponse:o.emitListResumData,onEmitDeleteExpense:o.emitDeleteExpense,onEmitShowDetail:o.emitShowDetail},null,8,["pConfig","onEmitFinallyCustomResponse","onEmitDeleteExpense","onEmitShowDetail"]),Object(s["i"])(m,{ref:r.cfgtime.CFG_POPUP_DETAIL.ref,pConfig:r.cfgtime.CFG_POPUP_DETAIL},{slotContent:Object(s["H"])((function(){return[Object(s["i"])(g,{ref:r.cfgtime.CFG_EXPENSE_DETAIL_LIST.ref,pConfig:r.cfgtime.CFG_EXPENSE_DETAIL_LIST},null,8,["pConfig"])]})),_:1},8,["pConfig"])]})),slotButton:Object(s["H"])((function(){return[]})),_:1},512)],64)}var _u=Object(s["g"])("span",{class:"caption"},null,-1),Cu=Object(s["g"])("span",null,"X",-1),vu=[Cu],Ru={class:"content"},Au={class:"bottom"};function Iu(t,e,i,n,a,o){var r=this;return Object(s["t"])(),Object(s["f"])("div",{class:"ff-popup",ref:this.cfgtime.REF_ROOT},[Object(s["g"])("div",{class:"ff-popup-container",ref:this.cfgtime.REF_CONTAINER},[Object(s["g"])("div",{class:"title",ref:this.cfgtime.REF_TITLE},[_u,Object(s["g"])("div",{class:"closeButton",onClick:e[0]||(e[0]=function(t){return r.close()})},vu)],512),Object(s["g"])("div",Ru,[Object(s["y"])(t.$slots,"slotContent")]),Object(s["g"])("div",Au,[Object(s["y"])(t.$slots,"slotBottom")])],512)],512)}var Nu={name:"my-popup",props:{pConfig:{type:Object,required:!0}},directives:{},created:function(){this.cfgtime={REF_ROOT:"refRoot",REF_CONTAINER:"refPopUp",REF_TITLE:"refTitle"},this.runtime={}},mounted:function(){this.privateCfg()},methods:{setWidth:function(t){var e=this.$refs[this.cfgtime.REF_CONTAINER];e.style.width=t+"px"},setCaption:function(t){var e=this.$refs[this.cfgtime.REF_TITLE];e.getElementsByClassName("caption")[0].innerHTML=t},close:function(){var t=this.$refs[this.cfgtime.REF_ROOT];t.style.display="none"},show:function(){var t=this.$refs[this.cfgtime.REF_ROOT];t.style.display="table"},privateCfg:function(){var t=this.$refs[this.cfgtime.REF_CONTAINER];null==this.pConfig.height?t.style.height="auto":t.style.height=this.pConfig.height+"px",null==this.pConfig.width?t.style.width="auto":t.style.width=this.pConfig.width+"px",this.setCaption(this.pConfig.title)}},data:function(){return{}}};const ju=N()(Nu,[["render",Iu]]);var Du=ju,Lu={components:{"form-tab":fn,"validate-window":Wt,"my-list":Dn,"my-datetime":gr,"my-dropdown-search":ze,"my-button":K,"my-popup":Du,"my-list-detail":Dn},name:"form-partener",created:function(){this.REF_FORM="refFormModel",this.cfgtime={REF_BUTTON_REFRESH:"refButtonRefresh",ICON_REFRESH:this.$constComponent.ICON_REFRESH("green"),ICON_EXCEL:this.$constComponent.ICON_EXCEL("blue"),PARTNER_LIST:this.cfgDropDownPartner(),DATA_IN:this.cfgDataIn(),DATA_SF:this.cfgDataSf(),URL_DELETE_SAVE_EXPENSE:this.$url.getUrl("deleteSaveExpense"),URL_REPORT_EXPENSE:this.$url.getUrl("reportExcelExpense"),CFG_POPUP_DETAIL:{ref:"refPopUpDetail",title:"Lista cheltuieli",height:null,width:null,urlData:"hahaha"},CFG_EXPENSE_LIST:{ref:"refDetailList",header:[this.$constList.getHeader(1,"Data",90,"data_c",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(2,"Nr. doc.",100,"nr_doc",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(3,"Tip plata",100,"tip_plata",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(4,"Tip doc.",140,"tipd",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(5,"Tip cheltuiala.",140,"tipc",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(6,"Furnizor",450,"nume_furnizor",this.$constList.HEADER.CAPTION_TYPE_FIELD),this.$constList.getHeader(7,"TVA",90,"total_tva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(8,"Total",90,"total",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(10,"Action",100,"null",this.$constList.HEADER.CAPTION_TYPE_ACTION)],recordActionButon:[this.$constList.getActionButton(21,"detalii cheltuieli","emitShowDetail",this.$constGrid.ICON_POPUP,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null),this.$constList.getActionButton(20,"sterg cheltuiala","emitDeleteExpense",this.$constGrid.ICON_DELETE,this.$constList.ACTION_BUTTON.TYPE_BUTTON,null)],cfg:{urlData:"expenseList",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection",heightList:700}},CFG_EXPENSE_DETAIL_LIST:{ref:"refExpenseDetailList",header:[this.$constList.getHeader(1,"Nr.",20,"row_num",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(2,"Cat",100,"tip_cat",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(3,"Nume produs",400,"produs",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_LEFT),this.$constList.getHeader(4,"UM",30,"um",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(5,"Cantitate",80,"cantitate",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_CENTER),this.$constList.getHeader(6,"Pret unitar",100,"pret_unitar",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(7,"Valoare fara TVA",110,"total_fara_tva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(8,"Valoare TVA",100,"total_tva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(9,"Total",90,"total",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT),this.$constList.getHeader(10,"% TVA",70,"procent_tva",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_RIGHT)],recordActionButon:[],cfg:{urlData:"detailExpenseList",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection"},heightList:500}},this.runtime={sendDataToServer:!1,yesNoMethod:"methodName",post:{idPk:null,field:{},sqlAction:null},paramExpenseList:{dataIn:null,dataSf:null,idPartner:0}}},emits:["emitModel"],mounted:function(){},methods:{clickExportExcel:function(){var t=this;this.privateParameterExpense(),this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_REPORT_EXPENSE,this.runtime.paramExpenseList).then((function(e){e.data.succes&&t.$print.downloadXLSX(e.data.custom.fileName,e.data.custom.xls)})).catch((function(t){return console.log(t)})).finally((function(){t.$refs[t.REF_FORM].showModal(!1)}))},refreshExpenseList:function(){this.privateParameterExpense(),this.$refs[this.cfgtime.CFG_EXPENSE_LIST.ref].showList(this.runtime.paramExpenseList)},clickExpenseList:function(){this.refreshExpenseList()},serverDeleteExpense:function(){var t=this;this.runtime.sendDataToServer||(this.runtime.yesNoMethod="serverDeleteExpense",this.$refs.refYesNo.setCaption("Sterg"),this.$refs.refYesNo.setMessage("Sterg cheltuiala ? <br> Datele sterse nu mai pot fi recuperate."),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_DELETE_SAVE_EXPENSE,this.runtime.post).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Fail..."),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.refreshExpenseList(),t.$refs[t.REF_FORM].showModal(!1)})))},emitShowDetail:function(t){var e=t.closest("tr"),i=e.getAttribute("idPk"),s=this.$refs[this.cfgtime.CFG_EXPENSE_DETAIL_LIST.ref];s.showList({idExpense:i});var n=this.$refs[this.cfgtime.CFG_POPUP_DETAIL.ref];n.setCaption("Detalii pentru: "+i+" "),n.show()},emitDeleteExpense:function(t){var e=t.closest("tr");this.runtime.post.idPk=e.getAttribute("idPk"),this.serverDeleteExpense()},emitListResumData:function(t){this.dataRezume.nr_records=t.nr_records,this.dataRezume.total_expense=t.total_expense,this.dataRezume.total_expense_tva=t.total_expense_tva},privateParameterExpense:function(){this.runtime.paramExpenseList.dataIn=this.$refs[this.cfgtime.DATA_IN.ref].getValue(),this.runtime.paramExpenseList.dataSf=this.$refs[this.cfgtime.DATA_SF.ref].getValue();var t=this.$refs[this.cfgtime.PARTNER_LIST.ref].getValue();this.$check.isUndef(t)?this.runtime.paramExpenseList.idPartner=0:this.runtime.paramExpenseList.idPartner=t.id},emitYesNoButton:function(t){1==t?(this.runtime.sendDataToServer=!0,this[this.runtime.yesNoMethod].apply()):this.runtime.sendDataToServer=!1},setPost:function(t,e){this.runtime.post["field"][t.name]=e},cfgDropDownPartner:function(){var t=this.$app.cfgSelectSearch("nomPartner",this.$url.getUrl("listPartener"),450);return t.setValidateFunction(this.validatePartner),t.setCaption("Partener"),t.setMandatory(!0),t},cfgDataIn:function(){var t=this.$app.cfgInputDateTimeField("invoiceDateIn",11,80);return t.setValidateFunction(this.validateDocumentDate),t.setCaption("Interval"),t.setMandatory(!0),t.setShowDefault(this.$constBussines.DATE_FIRSTDAY),t},cfgDataSf:function(){var t=this.$app.cfgInputDateTimeField("invoiceDateSf",11,80);return t.setValidateFunction(this.validateDocumentDate),t.setCaption("Interval"),t.setMandatory(!0),t.setShowDefault(this.$constBussines.DATE_CURRENT),t}},data:function(){return{dataRezume:{nr_records:0,total_expense:0,total_expense_tva:0}}}};const $u=N()(Lu,[["render",Eu]]);var Su=$u,Fu={class:"ff-flex-form-center-align"},Pu={class:"item-inline"},Mu={class:"label"},wu=["for"],yu={class:"control"},Uu={class:"control"},ku={class:"buttons-left"};function Hu(t,e,i,n,a,o){var r=this,c=Object(s["z"])("validate-window"),l=Object(s["z"])("input-field"),f=Object(s["z"])("my-button"),u=Object(s["z"])("my-list"),h=Object(s["z"])("form-tab");return Object(s["t"])(),Object(s["f"])(s["a"],null,[Object(s["i"])(c,{ref:"validateWindowRef",cWidth:500,cHeight:200,cTypeWindows:1},null,512),Object(s["i"])(c,{ref:"infoWindowRef",cWidth:300,cHeight:200,cTypeWindows:5},null,512),Object(s["i"])(c,{ref:"redWindowRef",cWidth:400,cHeight:200,cTypeWindows:6},null,512),Object(s["i"])(c,{ref:"refYesNo",cWidth:300,cHeight:200,cTypeWindows:3,onEmitYesNoButton:o.emitYesNoButton},null,8,["onEmitYesNoButton"]),Object(s["i"])(h,{ref:this.REF_FORM},{slotTitle:Object(s["H"])((function(){return[]})),slotContent:Object(s["H"])((function(){return[Object(s["g"])("div",Fu,[Object(s["g"])("div",Pu,[Object(s["g"])("div",Mu,[Object(s["g"])("label",{for:r.cfgtime.INPUT_PRODUCT_NAME.id},Object(s["C"])(r.cfgtime.INPUT_PRODUCT_NAME.caption),9,wu)]),Object(s["g"])("div",yu,[Object(s["i"])(l,{pConfig:r.cfgtime.INPUT_PRODUCT_NAME,ref:r.cfgtime.INPUT_PRODUCT_NAME.ref},null,8,["pConfig"])]),Object(s["g"])("div",Uu,[Object(s["g"])("div",ku,[Object(s["i"])(f,{ref:r.cfgtime.REF_BUTTON_SAVE_EXPENSE,onClick:r.actionButton,heightButton:22,buttonType:0,title:"denumire produs"},{default:Object(s["H"])((function(){return[Object(s["h"])(Object(s["C"])(r.captionButton),1)]})),_:1},8,["onClick"])])])])]),Object(s["i"])(u,{ref:r.cfgtime.PRODUCT_LIST.ref,pConfig:r.cfgtime.PRODUCT_LIST,onEmitListRowSelection:o.emitListRowSelection},null,8,["pConfig","onEmitListRowSelection"])]})),slotButton:Object(s["H"])((function(){return[]})),_:1},512)],64)}var Bu={components:{"form-tab":fn,"validate-window":Wt,"my-list":Dn,"input-field":ki,"my-button":K},name:"form-new=product",created:function(){this.REF_FORM="refFormNewProduct",this.cfgtime={URL_INSERT_PRODUCT_NAME:this.$url.getUrl("insertNewProduct"),URL_UPDATE_PRODUCT_NAME:this.$url.getUrl("updateProductName"),INPUT_PRODUCT_NAME:this.cfgProductName(),PRODUCT_LIST:{ref:"refDetailList",header:[this.$constList.getHeader(1,"Nume produs",700,"product_name",this.$constList.HEADER.CAPTION_TYPE_FIELD,this.$constComponent.ALIGN_TEXT_LEFT)],recordActionButon:[],cfg:{urlData:"allProductsList",loadOnCreate:!1,filedNameForCheckBox:"activ",headerLenghtActivate:!0,emitListRowSelection:"emitListRowSelection",heightList:700}}},this.runtime={mode:this.$constFROM.MODE_NEW,validateMessage:[],sendDataToServer:!1,yesNoMethod:"methodName",post:{idPk:null,field:{},sqlAction:null}}},emits:["emitModel"],mounted:function(){},methods:{actionButton:function(){this.runtime.mode==this.$constFROM.MODE_NEW?this.serverSave():this.serverUpdate()},serverUpdate:function(){var t=this;if(this.validateForm())return this.$refs.validateWindowRef.show(),!1;this.runtime.sendDataToServer||(this.runtime.yesNoMethod="serverUpdate",this.$refs.refYesNo.setCaption("Modific"),this.$refs.refYesNo.setMessage("Modific denumirea ? <br> Toate produsele vor prelua noua denumire."),this.$refs.refYesNo.show()),this.runtime.sendDataToServer&&(this.runtime.sendDataToServer=!1,this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_UPDATE_PRODUCT_NAME,this.runtime.post).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Produsul nu poate fi inregistrat"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.refreshListProducts(),t.$refs[t.REF_FORM].showModal(!1)})))},serverSave:function(){var t=this;if(this.validateForm())return this.$refs.validateWindowRef.show(),!1;this.$refs[this.REF_FORM].showModal(!0),this.axios.post(this.cfgtime.URL_INSERT_PRODUCT_NAME,this.runtime.post).then((function(e){e.data.succes||(t.$refs.validateWindowRef.setCaption("Produsul nu poate fi inregistrat"),t.$refs.validateWindowRef.setMessage(t.$appServer.getHtmlSqlFormatMessage(e.data)),t.$refs.validateWindowRef.show())})).catch((function(t){return console.log(t)})).finally((function(){t.refreshListProducts(),t.$refs[t.REF_FORM].showModal(!1)}))},setModeForm:function(t){this.runtime.mode=t,this.runtime.mode==this.$constFROM.MODE_NEW?(this.captionButton="Inregistrez",this.$refs[this.cfgtime.INPUT_PRODUCT_NAME.ref].setValue("")):this.runtime.mode==this.$constFROM.MODE_EDIT&&(this.captionButton="Modific")},refreshListProducts:function(){this.$refs[this.cfgtime.PRODUCT_LIST.ref].showList(),this.setModeForm(this.$constFROM.MODE_NEW)},emitListRowSelection:function(t){var e=t.closest("tr");this.runtime.post.idPk=e.getAttribute("idPk"),this.$refs[this.cfgtime.INPUT_PRODUCT_NAME.ref].setValue(e.outerText),this.setModeForm(this.$constFROM.MODE_EDIT)},emitYesNoButton:function(t){1==t?(this.runtime.sendDataToServer=!0,this[this.runtime.yesNoMethod].apply()):this.runtime.sendDataToServer=!1},setPost:function(t,e){this.runtime.post["field"][t.name]=e},validateForm:function(){var t=!1;return this.runtime.validateMessage=[],this.$check.validateForm([this.$refs[this.cfgtime.INPUT_PRODUCT_NAME.ref]]),this.runtime.validateMessage.length>0&&(this.$refs.validateWindowRef.setCaption("Articolul nu poate fi inregistrat"),this.$refs.validateWindowRef.setMessage(this.$app.getHtmlFormatMessage(this.runtime.validateMessage)),t=!0),t},validateProductName:function(){var t=this.cfgtime.INPUT_PRODUCT_NAME,e=this.$refs[t.ref].getValue();this.$check.lenghtMinMax(e,t.minLength,t.maxLength)||this.runtime.validateMessage.push(this.$app.getFormMessageClass(t.id,t.caption,"trebuie sa aiba minim "+t.minLength+" si maxim "+t.maxLength+" caractere")),this.setPost(t,e)},cfgProductName:function(){var t=this.$app.cfgInputField("product_name",0,500);return t.setValidate(2,200),t.setValidateFunction(this.validateProductName),t.setCaption("Produs"),t.setMandatory(!0),t.setMaska(""),t}},data:function(){return{captionButton:"Inregistrez"}}};const Vu=N()(Bu,[["render",Hu]]);var xu=Vu,Wu={components:{"my-tab":ws,"my-cheltuiala-new":Jf,"my-cheltuiala-list":Su,"my-cheltuiala-new-product":xu},name:"view-invoices",created:function(){this.cfgtime={REF_CHELTUIALA_NEW:"refCheltuialaNew",REF_CHELTUIALA_LIST:"refCheltuialaList",REF_CHELTUIALA_NEW_PRODUCT:"refNewProduct",tabConfig:{TAB_NEW:{id:"1t"},TAB_LIST:{id:"2t"},TAB_NEW_PRODUCT:{id:"3t"},header:[this.$constTab.getHeader("1t","Cheltuiala noua"),this.$constTab.getHeader("2t","Lista cheltuieli"),this.$constTab.getHeader("3t","Produs nou")],defaultTabId:"1t",tabsWidth:"1400px"}}},mounted:function(){this.$refs.refTab.goToTab(this.cfgtime.tabConfig.defaultTabId)},methods:{emitClickTab:function(t){t==this.cfgtime.tabConfig.TAB_NEW.id?this.$refs[this.cfgtime.REF_CHELTUIALA_NEW].serverCheckWorkingExpense():t==this.cfgtime.tabConfig.TAB_LIST.id?this.$refs[this.cfgtime.REF_CHELTUIALA_LIST].refreshExpenseList():t==this.cfgtime.tabConfig.TAB_NEW_PRODUCT.id&&this.$refs[this.cfgtime.REF_CHELTUIALA_NEW_PRODUCT].refreshListProducts()}},data:function(){return{}}};const Yu=N()(Wu,[["render",ml]]);var Gu=Yu,zu=[{path:"/",name:"Home",component:ot},{name:"Avocat",path:"/viewAvocat",component:Mn},{name:"Parteneri",path:"/viewParteneri",component:uo},{name:"Facturez",path:"/viewInvoices",component:Yr},{name:"Incasari",path:"/viewIncasari",component:rl},{name:"Cheltuieli",path:"/viewCheltuieli",component:Gu},{name:"TestControale",path:"/testControale",component:qe},{name:"Gridul",path:"/viewGridul",component:rs}],Xu=Object(it["a"])({history:Object(it["b"])(),routes:zu}),Ku=Xu,qu=i("5502"),Qu=Object(qu["a"])({state:{},mutations:{},actions:{},modules:{}}),Zu=(i("5cc6"),i("907a"),i("9a8c"),i("a975"),i("735e"),i("c1ac"),i("d139"),i("3a7b"),i("d5d6"),i("82f8"),i("e91f"),i("60bd"),i("5f96"),i("3280"),i("3fcc"),i("ca91"),i("25a1"),i("cd26"),i("3c5d"),i("2954"),i("649e"),i("219c"),i("170b"),i("b39a"),i("72f7"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),i("7db0"),i("b680"),i("e9c4"),i("f628")),Ju=i("8cac"),th=i("b166"),eh=[{name:"login",url:"public/app/login"},{name:"loginCheck",url:"public/app/loginCheck"},{name:"logout",url:"public/app/logout"},{name:"badmintonCourt",url:"public/app/badmintonCourt"},{name:"addName",url:"public/app/addName"},{name:"searchTest",url:"public/app/search"},{name:"searchTableTest",url:"public/app/searchOnTable"},{name:"gridDataTest",url:"public/app/gridDataTest"},{name:"gridDataTestUpdate",url:"public/app/gridDataTestUpdate"},{name:"gridListParteneri",url:"public/app/gridListParteneri"},{name:"partenersList",url:"public/app/partenersList"},{name:"partenerGetData",url:"public/app/partenerGetData"},{name:"partenerAdressList",url:"public/app/partener/listaAdrese"},{name:"setActivAdress",url:"public/app/partener/setActivAdress"},{name:"editAdressPartener",url:"public/app/partener/editAdressPartener"},{name:"partenerListBancCont",url:"public/app/partener/listBancCont"},{name:"partenerSetBancCont",url:"public/app/partener/setBancCont"},{name:"editAccountPartener",url:"public/app/partener/editAccountPartener"},{name:"editPartener",url:"public/app/editPartener"},{name:"nomTipPartener",url:"public/app/nomTipPartener"},{name:"nomLocalitati",url:"public/app/nomLocalitati"},{name:"listPartener",url:"public/app/listPartener"},{name:"invocesListPartener",url:"public/app/invocesListPartener"},{name:"nomInvoiceType",url:"public/app/nomInvoiceType"},{name:"insertInvoiceAntet",url:"public/app/invoice/insertInvoiceAntet"},{name:"checkWorkingInvoice",url:"public/app/invoice/checkWorkingInvoice"},{name:"deleteInvoiceAntet",url:"public/app/invoice/deleteInvoiceAntet"},{name:"nomInvoiceTemplate",url:"public/app/nomInvoiceTemplate"},{name:"insertInvoiceArticol",url:"public/app/invoice/insertInvoiceArticol"},{name:"detailInvoiceList",url:"public/app/invoice/detailInvoiceList"},{name:"deleteItemDetailInvoice",url:"public/app/invoice/deleteItemDetailInvoice"},{name:"saveInvoice",url:"public/app/invoice/saveInvoice"},{name:"invoicesList",url:"public/app/invoice/invoicesList"},{name:"deleteInvoice",url:"public/app/invoice/deleteInvoice"},{name:"invoicePrint",url:"public/app/invoice/invoicePrint"},{name:"reportExcelInvoiceEmitted",url:"public/app/invoice/reportExcelInvoiceEmitted"},{name:"downloadeFactura",url:"public/app/invoice/downloadeFactura"},{name:"listaUnpaidInvoices",url:"public/app/cashing/listaUnpaidInvoices"},{name:"nomDocumentTipe",url:"public/app/cashing/nomDocumentTipe"},{name:"saveIncoming",url:"public/app/cashing/saveIncoming"},{name:"incomingList",url:"public/app/cashing/incomingList"},{name:"deleteIncomingDoc",url:"public/app/cashing/deleteIncomingDoc"},{name:"reportIncasari",url:"public/app/cashing/reportIncasari"},{name:"receiptPrint",url:"public/app/cashing/receiptPrint"},{name:"nomTipCheltuieli",url:"public/app/cheltuieli/nomTipCheltuieli"},{name:"insertExpenseAntet",url:"public/app/cheltuieli/insertExpenseAntet"},{name:"checkWorkingExpense",url:"public/app/cheltuieli/checkWorkingExpense"},{name:"deleteAntetExpense",url:"public/app/cheltuieli/deleteAntetExpense"},{name:"nomCategoriCheltuieli",url:"public/app/cheltuieli/nomCategoriCheltuieli"},{name:"listProducts",url:"public/app/cheltuieli/listProducts"},{name:"nomTipUm",url:"public/app/cheltuieli/nomTipUm"},{name:"insertExpenseArticol",url:"public/app/cheltuieli/insertExpenseArticol"},{name:"detailExpenseList",url:"public/app/cheltuieli/detailExpenseList"},{name:"deleteExpenseArticol",url:"public/app/cheltuieli/deleteExpenseArticol"},{name:"saveExpense",url:"public/app/cheltuieli/saveExpense"},{name:"expenseList",url:"public/app/cheltuieli/expenseList"},{name:"deleteSaveExpense",url:"public/app/cheltuieli/deleteSaveExpense"},{name:"reportExcelExpense",url:"public/app/cheltuieli/reportExcelExpense"},{name:"allProductsList",url:"public/app/cheltuieli/allProductsList"},{name:"insertNewProduct",url:"public/app/cheltuieli/insertNewProduct"},{name:"updateProductName",url:"public/app/cheltuieli/updateProductName"},{name:"monthList",url:"public/app/avocat/monthList"},{name:"checkMonth",url:"public/app/avocat/checkMonth"},{name:"insertMonth",url:"public/app/avocat/insertMonth"}],ih=[{name:"form",modal:"ff-form-modal",container:"ff-form",header:"form-header",content:"form-content",button:"form-button",buttonPozition:"buttons",bottomLine:"form-bottom-line"}],sh=i("257e"),nh=i("262e"),ah=i("2caf"),oh=i("d4ec"),rh=i("bee2"),ch=i("ade3"),lh=function(){function t(){Object(oh["a"])(this,t),Object(ch["a"])(this,"id",null),Object(ch["a"])(this,"name",null),Object(ch["a"])(this,"ref",null),Object(ch["a"])(this,"mandatory",!1),Object(ch["a"])(this,"validate",null),Object(ch["a"])(this,"caption",null),Object(ch["a"])(this,"sizeField",0),Object(ch["a"])(this,"defaultValue",null),Object(ch["a"])(this,"disabled",!1),Object(ch["a"])(this,"width",null),Object(ch["a"])(this,"readOnly",!1),Object(ch["a"])(this,"emit","emitConfigDefault")}return Object(rh["a"])(t,[{key:"setBaseConfig",value:function(t,e,i){this.id=t,this.name="name_"+t,this.ref="ref_"+t,void 0===i||null===i?(this.sizeField=e,this.width=null):(this.sizeField=0,this.width=i+"px")}},{key:"setCaption",value:function(t){this.caption=t}},{key:"setValidateFunction",value:function(t){this.validate=t}},{key:"setMandatory",value:function(t){this.mandatory=t}},{key:"setDefaultValue",value:function(t){this.defaultValue=t}},{key:"getDefaultValue",value:function(){return this.defaultValue}},{key:"setDisable",value:function(t){this.disabled=t}},{key:"setEmit",value:function(t){this.emit=t}}]),t}(),fh=function(t){Object(nh["a"])(i,t);var e=Object(ah["a"])(i);function i(){return Object(oh["a"])(this,i),e.apply(this,arguments)}return Object(rh["a"])(i)}(lh),uh=function(t){Object(nh["a"])(i,t);var e=Object(ah["a"])(i);function i(){return Object(oh["a"])(this,i),e.apply(this,arguments)}return Object(rh["a"])(i)}(lh),hh=function(t){Object(nh["a"])(i,t);var e=Object(ah["a"])(i);function i(){var t;Object(oh["a"])(this,i);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n)),Object(ch["a"])(Object(sh["a"])(t),"placeHolder","...select option"),Object(ch["a"])(Object(sh["a"])(t),"url","#"),t}return Object(rh["a"])(i,[{key:"setUrl",value:function(t){this.url=t}},{key:"setPlaceHolder",value:function(t){this.placeHolder=t}}]),i}(lh),dh=function(t){Object(nh["a"])(i,t);var e=Object(ah["a"])(i);function i(){var t;Object(oh["a"])(this,i);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n)),Object(ch["a"])(Object(sh["a"])(t),"url","#"),Object(ch["a"])(Object(sh["a"])(t),"dataMethod","server"),Object(ch["a"])(Object(sh["a"])(t),"placeHolder","...search"),t}return Object(rh["a"])(i,[{key:"setUrl",value:function(t){this.url=t}}]),i}(lh),gh=function(t){Object(nh["a"])(i,t);var e=Object(ah["a"])(i);function i(){var t;Object(oh["a"])(this,i);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n)),Object(ch["a"])(Object(sh["a"])(t),"minLength",0),Object(ch["a"])(Object(sh["a"])(t),"maxLength",0),Object(ch["a"])(Object(sh["a"])(t),"maska",""),Object(ch["a"])(Object(sh["a"])(t),"placeHolder","..."),Object(ch["a"])(Object(sh["a"])(t),"emitKeyUp",null),Object(ch["a"])(Object(sh["a"])(t),"emitKeyDown",null),t}return Object(rh["a"])(i,[{key:"setEmitKeyUp",value:function(t){this.emitKeyUp=t}},{key:"setEmitKeyDown",value:function(t){this.emitKeyDown=t}},{key:"setMaska",value:function(t){this.maska=t}},{key:"setValidate",value:function(t,e){this.minLength=t,this.maxLength=e}},{key:"setPlaceHolder",value:function(t){this.placeHolder=t}}]),i}(lh),mh=function(t){Object(nh["a"])(i,t);var e=Object(ah["a"])(i);function i(){var t;Object(oh["a"])(this,i);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return t=e.call.apply(e,[this].concat(n)),Object(ch["a"])(Object(sh["a"])(t),"maska",""),Object(ch["a"])(Object(sh["a"])(t),"placeHolder","dd/MM/yyyy"),Object(ch["a"])(Object(sh["a"])(t),"dateShowDefault","currentDate"),t}return Object(rh["a"])(i,[{key:"setMaska",value:function(t){this.maska=t}},{key:"setPlaceHolder",value:function(t){this.placeHolder=t}},{key:"setShowDefault",value:function(t){this.dateShowDefault=t}}]),i}(lh),ph=function(){function t(){Object(oh["a"])(this,t)}return Object(rh["a"])(t,null,[{key:"getConfig",value:function(e){switch(e){case t.INPUT_FIELD:return new gh;case t.CHECK_BOX:return new fh;case t.SELECT_SIMPLE:return new hh;case t.SELECT_SEARCH:return new dh;case t.INPUT_IBAN:return new uh;case t.INPUT_DATETIME:return new mh;default:console.error("!!! ATENTIE !!! nu exista configurare pentru controlul "+e)}}}]),t}();Object(ch["a"])(ph,"INPUT_FIELD","inputField"),Object(ch["a"])(ph,"CHECK_BOX","checkBox"),Object(ch["a"])(ph,"SELECT_SIMPLE","selectSimple"),Object(ch["a"])(ph,"SELECT_SEARCH","selectSearch"),Object(ch["a"])(ph,"INPUT_IBAN","inputIban"),Object(ch["a"])(ph,"INPUT_DATETIME","inputDatetime");var bh=function(){function t(e){Object(oh["a"])(this,t),Object(ch["a"])(this,"cheieControl",[7,5,3,2,1,7,5,3,2]),Object(ch["a"])(this,"cheieControlReverse",[2,3,5,7,1,2,3,5,7]),Object(ch["a"])(this,"maxLength",10),Object(ch["a"])(this,"cod",null),this.cod=e.toString()}return Object(rh["a"])(t,[{key:"check",value:function(){if(this.cod.length>this.maxLength||this.cod.length<1)return!1;for(var t=this.cod.split("").reverse(),e=!1,i=0,s=0,n=0;n<t.length;n++){var a=Number(t[n]);if(isNaN(a)){e=!0;break}0==n&&(s=a),n>0&&(i+=a*this.cheieControlReverse[n-1])}if(e)return!1;var o=10*i%11;return 10==o&&(o=0),o==s}}]),t}(),Oh=function(){function t(e){Object(oh["a"])(this,t),Object(ch["a"])(this,"iban",""),Object(ch["a"])(this,"ibanLenght",24),this.iban=e.toString()}return Object(rh["a"])(t,[{key:"check",value:function(){return this.iban.length!=this.ibanLenght?this.returnMsg(!1,"lungimea codului IBAN trebuie sa fie de: "+this.ibanLenght):this.returnMsg(!0,"ok")}},{key:"returnMsg",value:function(t,e){return{succes:t,reason:e}}}]),t}(),Th=function(){function t(e){Object(oh["a"])(this,t),Object(ch["a"])(this,"cheieControl",[2,7,9,1,4,6,3,5,8,2,7,9]),Object(ch["a"])(this,"fixLength",13),Object(ch["a"])(this,"cod",""),Object(ch["a"])(this,"codSplit",null),this.cod=e.toString(),this.codSplit=this.cod.split("")}return Object(rh["a"])(t,[{key:"checkFirstDigit",value:function(t){return!(t<1||t>6)||9==t}},{key:"returnMsg",value:function(t,e){return{succes:t,reason:e}}},{key:"check",value:function(){if(this.codSplit.length!=this.fixLength)return this.returnMsg(!1,"lungime cod: "+this.codSplit.length);for(var t=!1,e="",i=0,s=0;s<this.codSplit.length;s++){var n=Number(this.codSplit[s]);if(isNaN(n)){t=!0,e="codul trebuie sa contina numai cifre";break}if(0==s&&!this.checkFirstDigit(n)){t=!0,e="primul numar este gresit";break}s<12&&(i+=n*this.cheieControl[s])}if(t)return this.returnMsg(!1,e);var a=i%11;return 10==a&&(a=1),a==Number(this.codSplit[12])?this.returnMsg(!0,"ok"):this.returnMsg(!1,"ultima cifra nu corespunde")}}]),t}(),Eh=i("ec26"),_h={install:function(t,e){t.config.globalProperties.$print={downloadXLSX:function(t,e){var i=document.createElement("a");i.setAttribute("href","data:application/octet-stream;base64,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},downloadPdf:function(t,e){var i=document.createElement("a");i.setAttribute("href","data:application/pdf;base64,"+encodeURIComponent(e)),i.setAttribute("download",t),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)},base64ToArrayBuffer:function(t){for(var e=window.atob(t),i=e.length,s=new Uint8Array(i),n=0;n<i;n++){var a=e.charCodeAt(n);s[n]=a}return s},showDocument:function(t,e){for(var i=window.atob(t),s=i.length,n=new Uint8Array(s),a=0;a<s;a++){var o=i.charCodeAt(a);n[a]=o}var r=n,c=new Blob([r],{type:e});window.open(URL.createObjectURL(c),"_blank")}},t.config.globalProperties.$url={vueEnv:"local",urlAppHost:"https://www.finalf.badmintonclub.ro",urlAppLocal:"https://finalf.badmintonclub.ro.mydev",urlClientVue:"http://localhost:8080",urlList:eh,getUrl:function(t){var e=this.urlList.find((function(e){return e.name===t}));return void 0===e?"url for ["+t+"] not found":this.getBaseUrl()+"/"+e.url},getBaseUrl:function(){var t=this.urlAppLocal;return t="host"==this.vueEnv?this.urlAppHost:(this.vueEnv,this.urlAppLocal),t}},t.config.globalProperties.$css={cssList:ih,getCss:function(t){var e=this.cssList.find((function(e){return e.name===t}));return void 0===e?"css for ["+t+"] not found":e}},t.config.globalProperties.$calculate={tva:function(t,e,i,s){var n=i/100+1,a=0,o=0,r=0;1==t?(r=e,a=+(e*n-e).toFixed(2),o=+(e*n).toFixed(2)):(r=+(e/n).toFixed(2),a=+(e-r).toFixed(2),o=e);var c=+(r/s).toFixed(4);return{sumaFaraTVA:r,sumaTVA:a,sumaCuTVA:o,pretUnitarFaraTva:c}}},t.config.globalProperties.$vanilla={displayDivOnOff:function(t,e){var i="off",s="none";return"none"!==t.style.display&&""!==t.style.display||(i="on",s=e),t.style.display=s,i},inputReadOnly:function(t,e){e?t.setAttribute("readonly",!0):t.removeAttribute("readonly")},disableButton:function(t){t.setAttribute("disabled",!0),t.classList.add("disable")},enabledButton:function(t){t.removeAttribute("disabled"),t.classList.remove("disable")},centerDiv:function(t,e){var i=t.getBoundingClientRect(),s=e.getBoundingClientRect(),n=i.height/2-s.height/2,a=i.width/2-s.width/2;e.style.top=n+"px",e.style.left=a+"px"},removeClasses:function(t,e){for(var i=0;i<t.length;i++)t[i].classList.remove(e)},addClasses:function(t,e){for(var i=0;i<t.length;i++)t[i].classList.add(e)},dragDiv:function(t,e){var i=0,s=0,n=0,a=0;function o(t){t=t||window.event,t.preventDefault(),i=t.clientX-n,s=t.clientY-a,document.onmousemove=r,document.onmouseup=c}function r(e){e=e||window.event,e.preventDefault();var o=e.clientX-i,r=e.clientY-s;n=o,a=r,t.style.transform="translate3d("+o+"px, "+r+"px, 0)"}function c(){document.onmouseup=null,document.onmousemove=null}e.onmousedown=o},getAtributeValueFromArrayObject:function(t,e,i,s){for(var n=null,a=0;a<t.length;a++)if(t[a][e]==i){n=void 0===s||null===s?t[a]:t[a][s];break}return n},generateButton:function(t){for(var e=new Array,i=0;i<t;i++)e.push({id:i,caption:(i+1).toString(),selected:!1,isDisable:!1});return e},paginateArray:function(t,e,i,s,n){e=e||1,i=i||10;var a=(e-1)*i,o=null,r=null,c=t.length;return s?(o=t.slice(a).slice(0,i),r=Math.ceil(c/i)):(o=t,r=Math.ceil(n/i),c=n),{page:e,per_page:i,pre_page:e-1?e-1:null,next_page:r>e?e+1:null,total:c,total_pages:r,data:o,buttons:{label:null,intializeButtonPage:!1,bt:[{id:0,caption:"1",selected:!1,isDisable:!1},{id:1,caption:"2",selected:!1,isDisable:!1},{id:2,caption:"3",selected:!1,isDisable:!1},{id:3,caption:"4",selected:!1,isDisable:!1},{id:4,caption:"5",selected:!1,isDisable:!1},{id:5,caption:"6",selected:!1,isDisable:!1}]}}}},t.config.globalProperties.$startEndCurrentMonth=function(t){var e="dd/MM/yyyy";void 0!=t&&(e=t);var i=new Date,s=Object(Zu["a"])(i),n=Object(Ju["a"])(i);return{monthIn:Object(th["a"])(s,e),monthSf:Object(th["a"])(n,e),currentDate:Object(th["a"])(i,e),year:Object(th["a"])(i,"yyyy"),month:Object(th["a"])(i,"M")}},t.config.globalProperties.$datetime={convertDataSqlFormatToView:function(t,e){var i="dd/MM/yyyy";void 0!=e&&(i=e);var s=new Date(t);return Object(th["a"])(s,i)}},t.config.globalProperties.$check={isNumber:function(t){return"number"===typeof t&&!isNaN(t)},isExistDate:function(t,e){var i=t.year+","+t.month+","+t.day,s=new Date(i),n=!1;if(!isNaN(s.getDate())){var a=!0;e&&(parseInt(t.year)<2022||parseInt(t.year)>2050)&&(a=!1),n=s.getFullYear()===parseInt(t.year)&&s.getMonth()+1===parseInt(t.month)&&s.getDate()===parseInt(t.day)&&a}return n},isUndef:function(t){return void 0===t||null===t},intervalCheck:function(t,e,i){return t>=e&&t<=i},lenghtMinMax:function(t,e,i){var s=0;this.isUndef(t)||(s=t.length);var n=parseInt(e),a=parseInt(i);return NaN==n&&(n=0),NaN==a&&(a=0xfffffffffffff),s>=e&&s<=i},validateForm:function(t){for(var e in t)void 0!=t[e].pConfig&&"function"===typeof t[e].pConfig.validate&&t[e].pConfig.validate()},checkCode:function(t,e){var i=!1,s=null;if("RO_CUI"==t)s=new bh(e),i=s.check();else if("RO_CNP"==t){s=new Th(e);var n=s.check();i=n.succes}else if("RO_IBAN"==t){s=new Oh(e);var a=s.check();i=a.succes}else console.error("tipul de verificare nu este definit "+t);return i}},t.config.globalProperties.$appServer={getHtmlSqlFormatMessage:function(t){var e="";if(Array.isArray(t.messages))for(var i=0;i<t.messages.length;i++)e=e+t.messages[i]+"<br>";else e=t.messages;return t.admin&&!t.succes&&(e=e+"<br><br>"+t.errorMsg),e}},t.config.globalProperties.$string={splitStringIn:function(t,e){for(var i=[],s="",n=0,a=!0,o=0;o<t.length;o++)n<e?(s+=t[o],n++):(i.push(s),a&&(a=!1,e--),s=t[o],n=0);return i.push(s),i}},t.config.globalProperties.$app={getUuid:function(){return Object(Eh["a"])()},getObjectReturnComponent:function(t){return JSON.parse(JSON.stringify(t))},getFormMessageClass:function(t,e,i){return{field:t,caption:e,message:i}},getHtmlFormatMessage:function(t){for(var e="",i=0;i<t.length;i++)e=e+"<b>"+t[i].caption+": &nbsp;</b>"+t[i].message+"<br>";return e},cfgInputField:function(t,e,i){var s=ph.getConfig(ph.INPUT_FIELD);return s.setBaseConfig(t,e,i),s},cfgInputDateTimeField:function(t,e,i){var s=ph.getConfig(ph.INPUT_DATETIME);return s.setBaseConfig(t,e,i),s.setMaska("##/##/####"),s},cfgTextFIeld:function(){return{id:"",minLength:0,maxLength:0,validate:"",ref:"",maska:"",caption:"",mandatory:!1,sizeField:0,setIdAndRef:function(t){this.id=t,this.ref=t+"Ref"}}},cfgCheckBox:function(t,e){var i=ph.getConfig(ph.CHECK_BOX);return i.setBaseConfig(t,null),i.setDefaultValue(e),i},cfgSelectSimple:function(t,e,i){var s=ph.getConfig(ph.SELECT_SIMPLE);return s.setBaseConfig(t,i),s.setUrl(e),s.setDefaultValue({id:0,text:""}),s},cfgSelectSearch:function(t,e,i){var s=ph.getConfig(ph.SELECT_SEARCH);return s.setBaseConfig(t,i),s.setUrl(e),s.setDefaultValue({id:0,text:""}),s},cfgInputIBAN:function(t,e){var i=ph.getConfig(ph.INPUT_IBAN);return i.setBaseConfig(t,e),i}}}},Ch=_h,vh={install:function(t,e){t.config.globalProperties.$constBussines={RO_CUI:"RO_CUI",RO_CNP:"RO_CNP",RO_IBAN:"RO_IBAN",PERSOANA_FIZICA:"pf",DATE_CURRENT:"currentDate",DATE_FIRSTDAY:"firstDayMonth",DATE_LASTDAY:"lastDayMonth",DATE_DISPLAY_FORMAT:"dd/MM/yyyy",DATE_DISPLAY_SEPARATOR:"/",BUSS_NR_FACTURA_DANA:1,BUSS_NR_CHITANTA_DANA:2},t.config.globalProperties.$constComponent={ICON_SPINNER:["fas","spinner"],SQL_UPDATE:"update",SQL_INSERT:"insert",SQL_DELETE:"delete",ALIGN_TEXT_LEFT:"alignLeft",ALIGN_TEXT_RIGHT:"alignRight",ALIGN_TEXT_CENTER:"alignCenter",ICON_EXCEL:function(t){return{fawIcon:"fas",icon:"file-excel",color:t,colorStyle:{color:t}}},ICON_REFRESH:function(t){return{fawIcon:"fas",icon:"sync",color:t,colorStyle:{color:t}}},ICON_PLUS_SQUARE:function(t){return{fawIcon:"fas",icon:"plus-square",color:t,colorStyle:{color:t}}},ICON_MINUS_SQUARE:function(t){return{fawIcon:"fas",icon:"minus-square",color:t,colorStyle:{color:t}}},ICON_ADD_PERSON:function(t){return{fawIcon:"fas",icon:"user-plus",color:t,colorStyle:{color:t}}},cfgIconPicture:function(t){return[t.fawIcon,t.icon]}},t.config.globalProperties.$constTab={EMIT_TAB_ACTION:"emitClickTab",getIdTab:function(t){return"tab"+t},getHeader:function(t,e){return{id:t,caption:e}},disableTab:function(t){t.classList.add("disable-tab")},enabledTab:function(t){t.classList.remove("disable-tab")}},t.config.globalProperties.$constSelect={getRecordSelect:function(t,e,i){return void 0!==i&&null!=i||(i=!1),{id:t,text:e,selected:i}}},t.config.globalProperties.$constFROM={MODE_EDIT:"edit",MODE_NEW:"new"},t.config.globalProperties.$constList={HEADER:{CAPTION_TYPE_FIELD:"field",CAPTION_TYPE_ACTION:"action"},ACTION_BUTTON:{TYPE_BUTTON:"button",TYPE_CHECKBOX:"checkBox"},getActionButton:function(t,e,i,s,n,a){return{id:t,tooltip:e,emitAction:i,icon:s,typeButton:n,cfgCheckBox:a}},getHeader:function(t,e,i,s,n,a){return void 0!=a&&null!=a||(a="alignLeft"),{id:t,caption:e,width:i,fieldName:s,type:n,alignText:a}}},t.config.globalProperties.$constRadioButton={ALIGNMENT_H:"horizontally",ALIGNMENT_V:"vertical"},t.config.globalProperties.$constGrid={ID_NAME:"idPk",ICON_CLASS:"fas",ICON_PRINT:{fawIcon:"fas",icon:"print",color:"darkgreen"},ICON_EDIT:{fawIcon:"fas",icon:"edit",color:"darkblue"},ICON_DELETE:{fawIcon:"fas",icon:"times",color:"darkred"},ICON_UP_ORDER:{fawIcon:"fas",icon:"caret-up",color:null},ICON_DOWN_ORDER:{fawIcon:"fas",icon:"caret-down",color:null},ICON_ORDER:{fawIcon:"fas",icon:"sort",color:null},ICON_FILTER:{fawIcon:"fas",icon:"ellipsis-v",color:null},ICON_POPUP:{fawIcon:"fas",icon:"window-restore",color:"green"},ORDER_ASC:"asc",ORDER_DESC:"desc",SQL_UPDATE:"update",SQL_UPDATE_DELETE:"updateDelete",SQL_INSERT:"insert",SQL_DELETE:"delete",ALIGN_TEXT_LEFT:"alignLeft",ALIGN_TEXT_RIGHT:"alignRight",ALIGN_TEXT_CENTER:"alignCenter",getIcon:function(t,e,i){return{fawIcon:t,icon:e,color:i}},HEADER:{CAPTION_TYPE_FIELD:"field",CAPTION_TYPE_ACTION:"action",TABLE_FIELD_NAME:"tableFieldName",getHeader:function(t,e,i,s,n,a,o,r,c,l){return n==this.CAPTION_TYPE_ACTION&&(a=!1,o=!1,r=!1),a||(o=!1),c||(c=s),void 0!=l&&null!=l||(l="alignLeft"),{id:t,caption:e,width:i,tableFieldName:s,type:n,orderBy:{order:a,defaultOrder:o},filterBy:r,fieldFilterName:c,alignText:l}}},BODY:{FIELD_NAME:"fieldName"},getActionButton:function(t,e,i,s){return{id:t,tooltip:e,emitAction:i,icon:s}},getOrderByReactive:function(t,e,i){return{id:t,order:e,fieldName:i}},getFilterByReactive:function(t,e,i,s,n,a){return{id:t,fieldName:e,filterString:i,showInputDiv:s,type:n,iconColor:a}}}}},Rh=vh,Ah=i("130e"),Ih=i("bc3a"),Nh=i.n(Ih),jh=i("ad3d"),Dh=i("ecee"),Lh=i("c074"),$h=i("f2d1"),Sh=i("b702");Dh["d"].add(Lh["a"]),Dh["d"].add($h["a"]),Dh["d"].add(Sh["a"]),Dh["b"].watch();var Fh=Object(s["c"])(et);Fh.component("font-awesome-icon",jh["a"]),Fh.use(Qu).use(Ku),Fh.use(Rh),Fh.use(Ch),Fh.use(Ah["a"],Nh.a),Fh.mount("#app")},6017:function(t,e,i){"use strict";i("30d0")},"6f32":function(t,e,i){var s={"./angellist-brands.svg":"d931","./apps_blue.svg":"4d20","./shield-exclamation-yellow.svg":"f826"};function n(t){var e=a(t);return i(e)}function a(t){if(!i.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}n.keys=function(){return Object.keys(s)},n.resolve=a,t.exports=n,n.id="6f32"},d931:function(t,e,i){t.exports=i.p+"img/angellist-brands.svg"},f826:function(t,e,i){t.exports=i.p+"img/shield-exclamation-yellow.svg"}});
//# sourceMappingURL=app.js.map